// promise-polyfill 3.1.0
/*
Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
 */
!function(t){function o(){}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._value=void 0,this._deferreds=[],a(t,this)}function r(n,o){for(;3===n._state;)n=n._value;return 0===n._state?void n._deferreds.push(o):void l(function(){var t=1===n._state?o.onFulfilled:o.onRejected;if(null!==t){var e;try{e=t(n._value)}catch(t){return void u(o.promise,t)}f(o.promise,e)}else(1===n._state?f:u)(o.promise,n._value)})}function f(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void a((o=n,r=t,function(){o.apply(r,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}var o,r}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){for(var e=0,n=t._deferreds.length;e<n;e++)r(t,t._deferreds[e]);t._deferreds=null}function s(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function a(t,e){var n=!1;try{t(function(t){n||(n=!0,f(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}var e=setTimeout,l="function"==typeof setImmediate&&setImmediate||function(t){e(t,1)},n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new i(o);return r(this,new s(t,e,n)),n},i.all=function(){var u=Array.prototype.slice.call(1===arguments.length&&n(arguments[0])?arguments[0]:arguments);return new i(function(o,r){function i(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){i(e,t)},r)}u[e]=t,0==--f&&o(u)}catch(t){r(t)}}if(0===u.length)return o([]);for(var f=u.length,t=0;t<u.length;t++)i(t,u[t])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(n){return new i(function(t,e){e(n)})},i.race=function(r){return new i(function(t,e){for(var n=0,o=r.length;n<o;n++)r[n].then(t,e)})},i._setImmediateFn=function(t){l=t},"undefined"!=typeof module&&module.exports?module.exports=i:t.Promise||(t.Promise=i)}(this);

/**
 * UAParser.js v0.7.17
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright © 2012-2016 Faisal Salman <fyzlman@gmail.com>
 * Dual licensed under GPLv2 & MIT
 */
!function(r,u){"use strict";var c="function",i="undefined",m="object",s="model",e="name",o="type",n="vendor",a="version",d="architecture",t="console",l="mobile",w="tablet",b="smarttv",p="wearable",g={extend:function(i,s){var e={};for(var o in i)s[o]&&s[o].length%2==0?e[o]=s[o].concat(i[o]):e[o]=i[o];return e},has:function(i,s){return"string"==typeof i&&-1!==s.toLowerCase().indexOf(i.toLowerCase())},lowerize:function(i){return i.toLowerCase()},major:function(i){return"string"==typeof i?i.replace(/[^\d\.]/g,"").split(".")[0]:u},trim:function(i){return i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},f={rgx:function(i,s){for(var e,o,r,n,a,d,t=0;t<s.length&&!a;){var l=s[t],w=s[t+1];for(e=o=0;e<l.length&&!a;)if(a=l[e++].exec(i))for(r=0;r<w.length;r++)d=a[++o],typeof(n=w[r])===m&&0<n.length?2==n.length?typeof n[1]==c?this[n[0]]=n[1].call(this,d):this[n[0]]=n[1]:3==n.length?typeof n[1]!==c||n[1].exec&&n[1].test?this[n[0]]=d?d.replace(n[1],n[2]):u:this[n[0]]=d?n[1].call(this,d,n[2]):u:4==n.length&&(this[n[0]]=d?n[3].call(this,d.replace(n[1],n[2])):u):this[n]=d||u;t+=2}},str:function(i,s){for(var e in s)if(typeof s[e]===m&&0<s[e].length){for(var o=0;o<s[e].length;o++)if(g.has(s[e][o],i))return"?"===e?u:e}else if(g.has(s[e],i))return"?"===e?u:e;return i}},h={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},v={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[e,a],[/(opios)[\/\s]+([\w\.]+)/i],[[e,"Opera Mini"],a],[/\s(opr)\/([\w\.]+)/i],[[e,"Opera"],a],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[e,a],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[e,"IE"],a],[/(edge)\/((\d+)?[\w\.]+)/i],[e,a],[/(yabrowser)\/([\w\.]+)/i],[[e,"Yandex"],a],[/(puffin)\/([\w\.]+)/i],[[e,"Puffin"],a],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[e,"UCBrowser"],a],[/(comodo_dragon)\/([\w\.]+)/i],[[e,/_/g," "],a],[/(micromessenger)\/([\w\.]+)/i],[[e,"WeChat"],a],[/(QQ)\/([\d\.]+)/i],[e,a],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[e,a],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[a,[e,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[a,[e,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[a,[e,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[e,/(.+)/,"$1 WebView"],a],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[e,/(.+(?:g|us))(.+)/,"$1 $2"],a],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[a,[e,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[e,a],[/(dolfin)\/([\w\.]+)/i],[[e,"Dolphin"],a],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[e,"Chrome"],a],[/(coast)\/([\w\.]+)/i],[[e,"Opera Coast"],a],[/fxios\/([\w\.-]+)/i],[a,[e,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[a,[e,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[a,e],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[e,"GSA"],a],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[e,[a,f.str,h.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[e,a],[/(navigator|netscape)\/([\w\.-]+)/i],[[e,"Netscape"],a],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[e,a]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[d,"amd64"]],[/(ia32(?=;))/i],[[d,g.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[d,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[d,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[d,/ower/,"",g.lowerize]],[/(sun4\w)[;\)]/i],[[d,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[d,g.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[s,n,[o,w]],[/applecoremedia\/[\w\.]+ \((ipad)/],[s,[n,"Apple"],[o,w]],[/(apple\s{0,1}tv)/i],[[s,"Apple TV"],[n,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[n,s,[o,w]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[s,[n,"Amazon"],[o,w]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[s,f.str,h.device.amazon.model],[n,"Amazon"],[o,l]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[s,n,[o,l]],[/\((ip[honed|\s\w*]+);/i],[s,[n,"Apple"],[o,l]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[n,s,[o,l]],[/\(bb10;\s(\w+)/i],[s,[n,"BlackBerry"],[o,l]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[s,[n,"Asus"],[o,w]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[n,"Sony"],[s,"Xperia Tablet"],[o,w]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[s,[n,"Sony"],[o,l]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[n,s,[o,t]],[/android.+;\s(shield)\sbuild/i],[s,[n,"Nvidia"],[o,t]],[/(playstation\s[34portablevi]+)/i],[s,[n,"Sony"],[o,t]],[/(sprint\s(\w+))/i],[[n,f.str,h.device.sprint.vendor],[s,f.str,h.device.sprint.model],[o,l]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[n,s,[o,w]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[n,[s,/_/g," "],[o,l]],[/(nexus\s9)/i],[s,[n,"HTC"],[o,w]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[s,[n,"Huawei"],[o,l]],[/(microsoft);\s(lumia[\s\w]+)/i],[n,s,[o,l]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[s,[n,"Microsoft"],[o,t]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[n,"Microsoft"],[o,l]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[s,[n,"Motorola"],[o,l]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[n,"Motorola"],[o,w]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[n,g.trim],[s,g.trim],[o,b]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[n,"Samsung"],[o,b]],[/\(dtv[\);].+(aquos)/i],[s,[n,"Sharp"],[o,b]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[n,"Samsung"],s,[o,w]],[/smart-tv.+(samsung)/i],[n,[o,b],s],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[n,"Samsung"],s,[o,l]],[/sie-(\w+)*/i],[s,[n,"Siemens"],[o,l]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[n,"Nokia"],s,[o,l]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[s,[n,"Acer"],[o,w]],[/android.+([vl]k\-?\d{3})\s+build/i],[s,[n,"LG"],[o,w]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[n,"LG"],s,[o,w]],[/(lg) netcast\.tv/i],[n,s,[o,b]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[s,[n,"LG"],[o,l]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[s,[n,"Lenovo"],[o,w]],[/linux;.+((jolla));/i],[n,s,[o,l]],[/((pebble))app\/[\d\.]+\s/i],[n,s,[o,p]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[n,s,[o,l]],[/crkey/i],[[s,"Chromecast"],[n,"Google"]],[/android.+;\s(glass)\s\d/i],[s,[n,"Google"],[o,p]],[/android.+;\s(pixel c)\s/i],[s,[n,"Google"],[o,w]],[/android.+;\s(pixel xl|pixel)\s/i],[s,[n,"Google"],[o,l]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[s,/_/g," "],[n,"Xiaomi"],[o,l]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[s,/_/g," "],[n,"Xiaomi"],[o,w]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[s,[n,"Meizu"],[o,w]],[/android.+a000(1)\s+build/i],[s,[n,"OnePlus"],[o,l]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[s,[n,"RCA"],[o,w]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[s,[n,"Dell"],[o,w]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[s,[n,"Verizon"],[o,w]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[n,"Barnes & Noble"],s,[o,w]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[s,[n,"NuVision"],[o,w]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[n,"ZTE"],s,[o,w]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[s,[n,"Swiss"],[o,l]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[s,[n,"Swiss"],[o,w]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[s,[n,"Zeki"],[o,w]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[n,"Dragon Touch"],s,[o,w]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[s,[n,"Insignia"],[o,w]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[s,[n,"NextBook"],[o,w]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[n,"Voice"],s,[o,l]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[n,"LvTel"],s,[o,l]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[s,[n,"Envizen"],[o,w]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[n,s,[o,w]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[s,[n,"MachSpeed"],[o,w]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[n,s,[o,w]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[s,[n,"Rotor"],[o,w]],[/android.+(KS(.+))\s+build/i],[s,[n,"Amazon"],[o,w]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[n,s,[o,w]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[o,g.lowerize],n,s],[/(android.+)[;\/].+build/i],[s,[n,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[a,[e,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[e,a],[/rv\:([\w\.]+).*(gecko)/i],[a,e]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[e,a],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[e,[a,f.str,h.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[e,"Windows"],[a,f.str,h.os.windows.version]],[/\((bb)(10);/i],[[e,"BlackBerry"],a],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[e,a],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[e,"Symbian"],a],[/\((series40);/i],[e],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[e,"Firefox OS"],a],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[e,a],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[e,"Chromium OS"],a],[/(sunos)\s?([\w\.]+\d)*/i],[[e,"Solaris"],a],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[e,a],[/(haiku)\s(\w+)/i],[e,a],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[a,/_/g,"."],[e,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[e,"Mac OS"],[a,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[e,a]]},x=function(i,s){if("object"==typeof i&&(s=i,i=u),!(this instanceof x))return new x(i,s).getResult();var e=i||(r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),o=s?g.extend(v,s):v;return this.getBrowser=function(){var i={name:u,version:u};return f.rgx.call(i,e,o.browser),i.major=g.major(i.version),i},this.getCPU=function(){var i={architecture:u};return f.rgx.call(i,e,o.cpu),i},this.getDevice=function(){var i={vendor:u,model:u,type:u};return f.rgx.call(i,e,o.device),i},this.getEngine=function(){var i={name:u,version:u};return f.rgx.call(i,e,o.engine),i},this.getOS=function(){var i={name:u,version:u};return f.rgx.call(i,e,o.os),i},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return e},this.setUA=function(i){return e=i,this},this};x.VERSION="0.7.17",x.BROWSER={NAME:e,MAJOR:"major",VERSION:a},x.CPU={ARCHITECTURE:d},x.DEVICE={MODEL:s,VENDOR:n,TYPE:o,CONSOLE:t,MOBILE:l,SMARTTV:b,TABLET:w,WEARABLE:p,EMBEDDED:"embedded"},x.ENGINE={NAME:e,VERSION:a},x.OS={NAME:e,VERSION:a},typeof exports!==i?(typeof module!==i&&module.exports&&(exports=module.exports=x),exports.UAParser=x):r&&(r.UAParser=x);var k=r;if(typeof k!==i){var y=new x;k.ua=y.getResult(),k.ua.get=function(){return y.getUA()},k.ua.set=function(i){y.setUA(i);var s=y.getResult();for(var e in s)k.ua[e]=s[e]}}}("object"==typeof window?window:this);

/**
 https://github.com/w3c/IntersectionObserver
 /**
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.
 *
 *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
 *
 */
!function(t,e){"use strict";if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},i.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(t,"resize",this._checkForIntersections,!0),r(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(t,"resize",this._checkForIntersections,!0),s(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),n=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(i){var r=i.element,s=h(r),c=this._rootContainsTarget(r),a=i.entry,u=e&&c&&this._computeTargetAndRootIntersection(r,n),l=i.entry=new o({time:t.performance&&performance.now&&performance.now(),target:r,boundingClientRect:s,rootBounds:n,intersectionRect:u});a?e&&c?this._hasCrossedThreshold(a,l)&&this._queuedEntries.push(l):a&&a.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(n,o){if("none"!=t.getComputedStyle(n).display){for(var i,r,s,c,u,l,p,d,g=h(n),f=a(n),_=!1;!_;){var v=null,m=1==f.nodeType?t.getComputedStyle(f):{};if("none"==m.display)return;if(f==this.root||f==e?(_=!0,v=o):f!=e.body&&f!=e.documentElement&&"visible"!=m.overflow&&(v=h(f)),v&&(i=v,r=g,void 0,void 0,void 0,void 0,void 0,void 0,s=Math.max(i.top,r.top),c=Math.min(i.bottom,r.bottom),u=Math.max(i.left,r.left),l=Math.min(i.right,r.right),d=c-s,!(g=(p=l-u)>=0&&d>=0&&{top:s,bottom:c,left:u,right:l,width:p,height:d})))break;f=a(f)}return g}},i.prototype._getRootRect=function(){var t;if(this.root)t=h(this.root);else{var n=e.documentElement,o=e.body;t={top:0,left:0,right:n.clientWidth||o.clientWidth,width:n.clientWidth||o.clientWidth,bottom:n.clientHeight||o.clientHeight,height:n.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(t)},i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100}),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!=r<o)return!0}},i.prototype._rootIsInDom=function(){return!this.root||c(e,this.root)},i.prototype._rootContainsTarget=function(t){return c(this.root||e,t)},i.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},i.prototype._unregisterInstance=function(){var t=n.indexOf(this);-1!=t&&n.splice(t,1)},t.IntersectionObserver=i,t.IntersectionObserverEntry=o}function o(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function i(t,e){var n,o,i,r=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout(function(){n(),i=null},o))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function r(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function s(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function h(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(t,e){for(var n=e;n;){if(n==t)return!0;n=a(n)}return!1}function a(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}(window,document);!function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);var d=Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){var i=e[s][1][t];return o(i||t)},u,u.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){function n(t,e,i){}function o(t,e,i){Object.defineProperty(t,e,{writable:!1,configurable:!1,value:i})}var r=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"],s=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"],a=["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"],c=["setAdVolume"];n.prototype.handshakeVersion=function(t,e){},n.prototype.initAd=function(t,e,i,n,o,r,s,a){},n.prototype.startAd=function(t){},n.prototype.stopAd=function(t){},n.prototype.skipAd=function(t){},n.prototype.resizeAd=function(t,e,i,n){},n.prototype.pauseAd=function(t){},n.prototype.resumeAd=function(t){},n.prototype.expandAd=function(t){},n.prototype.collapseAd=function(t){},n.prototype.subscribe=function(t,e,i){},n.prototype.unsubscribe=function(t,e){},n.prototype.getAdLinear=function(t){},n.prototype.getAdWidth=function(t){},n.prototype.getAdHeight=function(t){},n.prototype.getAdExpanded=function(t){},n.prototype.getAdSkippableState=function(t){},n.prototype.getAdRemainingTime=function(t){},n.prototype.getAdDuration=function(t){},n.prototype.getAdVolume=function(t){},n.prototype.getAdCompanions=function(t){},n.prototype.getAdIcons=function(t){},n.prototype.setAdVolume=function(t,e){},o(n,"METHODS",r),o(n,"GETTERS",a),o(n,"SETTERS",c),o(n,"EVENTS",s);var d=r.filter(function(t){return-1===["skipAd"].indexOf(t)});o(n,"checkVPAIDInterface",function(t){return d.every(function(e){return"function"==typeof t[e]})}),e.exports=n},{}],2:[function(t,e,i){function n(t,e,i,n){this._isValid=u(t),this._isValid&&(this._creative=t,this._el=e,this._videoEl=i,this._iframe=n,this._subscribers=new d,o.call(this))}function o(){if(h.forEach(function(t){this._creative.subscribe(s.bind(this,t),t)}.bind(this)),this._creative.subscribe(r.bind(this),f),this._videoEl){var t=this._iframe.contentDocument.documentElement,e=this._videoEl;t.addEventListener("click",function(i){i.target===t&&e.click()})}}function r(t,e,i){this._subscribers.triggerSync(f,{url:t,id:e,playerHandles:i})}function s(t){this._subscribers.trigger(t,Array.prototype.slice(arguments,1))}function a(t,e,i,n){t?t(i,n):i&&e.trigger(l,i)}var c=t("./IVPAIDAdUnit"),d=t("./subscriber"),u=c.checkVPAIDInterface,p=t("./utils"),l=(c.METHODS,"AdError"),f="AdClickThru",h=c.EVENTS.filter(function(t){return t!=f});n.prototype=Object.create(c.prototype),n.prototype.isValidVPAIDAd=function(){return this._isValid},c.METHODS.forEach(function(t){-1===["subscribe","unsubscribe","initAd","handshakeVersion"].indexOf(t)&&(n.prototype[t]=function(){var e=c.prototype[t].length,i=Array.prototype.slice.call(arguments),n=e===i.length?i.pop():void 0;setTimeout(function(){var e,o=null;try{e=this._creative[t].apply(this._creative,i)}catch(t){o=t}a(n,this._subscribers,o,e)}.bind(this),0)})}),n.prototype.handshakeVersion=function(t,e){setTimeout(function(){var i;try{this._creative.handshakeVersion(t)}catch(t){i=t}a(e,this._subscribers,i)}.bind(this),0)},n.prototype.initAd=function(t,e,i,n,o,r,s,c){o=o||{},r=p.extend({slot:this._el,videoSlot:this._videoEl},r||{}),setTimeout(function(){var s;try{o.AdParameters&&o.AdParameters.length&&0==o.AdParameters.indexOf("&lt;?xml")&&-1!=o.AdParameters.indexOf("&")&&(o.AdParameters=o.AdParameters.replace(/&amp;/g,"&"),o.AdParameters=o.AdParameters.replace(/&lt;/g,"<"),o.AdParameters=o.AdParameters.replace(/&gt;/g,">"),o.AdParameters=o.AdParameters.replace(/&quot;/g,'"')),this._creative.initAd(t,e,i,n,o,r)}catch(t){s=t}a(c,this._subscribers,s)}.bind(this),0)},n.prototype.subscribe=function(t,e,i){this._subscribers.subscribe(e,t,i)},n.prototype.unsubscribe=function(t,e){this._subscribers.unsubscribe(e,t)},n.prototype.on=n.prototype.subscribe,n.prototype.off=n.prototype.unsubscribe,c.GETTERS.forEach(function(t){n.prototype[t]=function(e){setTimeout(function(){var i,n=null;try{i=this._creative[t]()}catch(t){n=t}a(e,this._subscribers,n,i)}.bind(this),0)}}),n.prototype.setAdVolume=function(t,e){setTimeout(function(){var i,n=null;try{this._creative.setAdVolume(t),i=t}catch(t){n=t}n||(n=p.validate(i===t,"failed to apply volume: "+t)),a(e,this._subscribers,n,i)}.bind(this),0)},n.prototype._destroy=function(){this.stopAd(),this._subscribers.unsubscribeAll()},e.exports=n},{"./IVPAIDAdUnit":1,"./subscriber":4,"./utils":5}],3:[function(t,e,i){function n(t,e,i,n){i=i||{},this._id=l(),this._destroyed=!1,this._frameContainer=p.createElementInEl(t,"div"),this._frameContainer.style.display="block",this._videoEl=e,this._vpaidOptions=n||{timeout:1e4},this._templateConfig={template:i.template||h,extraOptions:i.extraOptions||{}}}function o(t){var e=this[t];e&&(e.remove(),delete this[t])}function r(){a.call(this),delete this._adUnit}function s(){a.call(this),d.call(this)}function a(){o.call(this,"_frame"),c.call(this)}function c(){this._onLoad&&(window.removeEventListener("message",this._onLoad),p.clearCallbackTimeout(this._onLoad),delete this._onLoad)}function d(){this._adUnit&&(this._adUnit.stopAd(),delete this._adUnit)}function u(){if(this._destroyed)throw Error("VPAIDHTML5Client already destroyed!")}var p=t("./utils"),l=p.unique("vpaidIframe"),f=t("./VPAIDAdUnit"),h='<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <style>\n    \tbody {\n    \t\tmargin: 0;\n    \t\tpadding: 0;\n    \t}\n  .ad-element {\n width:100%; \n height:100%;\n position:absolute;\n }\n   </style>\n</head>\n<body>\n    <script type="text/javascript" src="{{iframeURL_JS}}"><\/script>\n    <script>\n        window.parent.postMessage(\'{"event": "ready", "id": "{{iframeID}}"}\', "{{origin}}");\n    <\/script>\n    <div class="ad-element">\n    </div>\n</body>\n</html>\n',A="AdStopped";n.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,s.call(this))},n.prototype.isDestroyed=function(){return this._destroyed},n.prototype.loadAdUnit=function(t,e,i){function n(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function o(t){if(t.origin===n())try{if(JSON.parse(t.data).id!==this.getID())return;var i,o,s;if(this._frame.contentWindow?(s=this._frame.contentWindow.getVPAIDAd,o=p.validate("function"==typeof s,"the ad didn't return a function to create an ad")):o="the iframe is not anymore in the DOM tree",!o){var a=this._frame.contentWindow.document.querySelector(".ad-element");(i=new f(s(),a,this._videoEl,this._frame)).subscribe(A,r.bind(this)),o=p.validate(i.isValidVPAIDAd(),"the add is not fully complaint with VPAID specification")}return this._adUnit=i,c.call(this),e(o,o?null:i),!0}catch(t){return}}function a(){e("timeout",null)}u.call(this),s.call(this);var d=p.createIframeWithContent(this._frameContainer,this._templateConfig.template,p.extend({origin:n(),iframeURL_JS:t,iframeID:this.getID()},this._templateConfig.extraOptions),i);this._frame=d,this._onLoad=p.callbackTimeout(this._vpaidOptions.timeout,o.bind(this),a.bind(this)),window.addEventListener("message",this._onLoad)},n.prototype.unloadAdUnit=function(){s.call(this)},n.prototype.getID=function(){return this._id},e.exports=n,window.VPAIDHTML5Client=n},{"./VPAIDAdUnit":2,"./utils":5}],4:[function(t,e,i){function n(){this._subscribers={}}n.prototype.subscribe=function(t,e,i){this.get(e).push({handler:t,context:i})},n.prototype.unsubscribe=function(t,e){this._subscribers[e]=this.get(e).filter(function(e){return t===e.handler})},n.prototype.unsubscribeAll=function(){this._subscribers={}},n.prototype.trigger=function(t,e){var i=this;i.get(t).forEach(function(n){setTimeout(function(){i.get(t)&&n.handler.call(n.context,e)},0)})},n.prototype.triggerSync=function(t,e){this.get(t).forEach(function(t){t.handler.call(t.context,e)})},n.prototype.get=function(t){return this._subscribers[t]||(this._subscribers[t]=[]),this._subscribers[t]},e.exports=n},{}],5:[function(t,e,i){function n(){}function o(t,e){return t?null:Error(e)}function r(t){var e=h[t];e&&(clearTimeout(e),delete h[t])}function s(t,e,i){var o,s;return s=setTimeout(function(){e=n,delete s[o],i()},t),o=function(){e.apply(this,arguments)&&r(o)},h[o]=s,o}function a(t,e,i){var n=document.createElement(e);return i&&(n.id=i),t.appendChild(n),n}function c(t,e,i,n){t.id=n;var o=d(t,i.iframeURL_JS);if(p(o,u(e,i)))return o}function d(t,e){var i=document.createElement("iframe");return i.width="100%",i.height="100%",i.style.position="absolute",i.style.left="0",i.style.top="0",i.style.border="none",i.setAttribute("SCROLLING","NO"),t.innerHTML="",t.appendChild(i),i}function u(t,e){return Object.keys(e).forEach(function(i){var n="object"==typeof n?JSON.stringify(e[i]):e[i];t=t.replace(RegExp("{{"+i+"}}","g"),n)}),t}function p(t,e){var i=t.contentWindow&&t.contentWindow.document;return!!i&&(i.write(e),!0)}function l(t,e){return Object.keys(e).forEach(function(i){t[i]=e[i]}),t}function f(t){var e=-1;return function(){return t+"_"+ ++e}}var h={};e.exports={noop:n,validate:o,clearCallbackTimeout:r,callbackTimeout:s,createElementInEl:a,createIframeWithContent:c,createIframe:d,simpleTemplate:u,setIframeContent:p,extend:l,unique:f}},{}]},{},[3]);function fetchXML(t,e,n,i,r){var s=VAST_VMAP_XHROptions.XMLHttpRequest();s.onreadystatechange=function(){4===s.readyState&&(200===s.status?null!==s.responseXML?n(s.responseXML,e):i(s,e):r?i(s,e):fetchXML(t,e,n,i,!0))},s.open("GET",t,!0),r||(s.withCredentials=!0),VAST_VMAP_XHROptions.onBeforeSend(t,e,s),s.send(null)}function queryVAST(t,e,n,i,r){var s="Reached abort limit of ("+VAST_VMAP_XHROptions.defaultVASTAbortLimit+") wrappers.";n=n||function(){};var a=(!i&&0===VAST_VMAP_XHROptions.defaultVASTAbortLimit||i&&0===i.abortLimit)&&(n(Error(s))||!0);return a&&setTimeout(function(){"undefined"==typeof buster&&"undefined"!=typeof console&&console},0),void(a||fetchXML(t,null,function(t){try{r&&"function"==typeof r&&r(t),new VASTAds(t,e,n,i)}catch(t){for(var s=t.stack.split(/\n/),a=0;a<s.length;a++){var o=s[a];o=o.replace("[arguments not available]",""),o=o.replace(/http:\/\/.*?resources\//,"")}n()}},function(t){n(t)}))}function buildVASTAds(t,e,n,i){try{new VASTAds(t,e,n,i)}catch(t){n()}}function TrackingEvents(t,e){if(this.events={},this.ad=e,null!==t){if("TrackingEvents"!==t.tagName){if(1!==(t=t.getElementsByTagName("TrackingEvents")).length)return;t=t.item(0)}for(var n=t.getElementsByTagName("Tracking"),i=0;i<n.length;i++){var r=n[i].getAttribute("event");if(r){var s=null;"progress"===r&&(r+="-"+(s=n[i].getAttribute("offset"))),this.events[r]=this.events[r]||[];var a={url:n[i].textContent.replace(/\s/g,""),offset:s,event:r};this.events[r].push(a)}}}}function VMAP(t,e,n){this.breaks=[];var i=this;fetchXML(t,null,function(t){for(var r=t.getElementsByTagNameNS(VMAPNS,"AdBreak"),s=[],a=0;a<r.length;a++){var o=r.item(a),l=o.getAttribute("timeOffset");if(0!==l.indexOf("#")){var c={ad:null,breakId:o.getAttribute("breakId"),tracking:new TrackingEvents(o,null),position:l},h=e.bind(i,i.breaks.length,l),u=o.getElementsByTagNameNS(VMAPNS,"VASTData");if(u)c.ad=new VASTAds(u.item(0).getElementByTagName(null,"VAST").item(0),h);else{var p=o.getElementsByTagNameNS(VMAPNS,"AdTagURI");if(!p)continue;var f;!function(t){f=function(e){t.ad=e,null!==e&&h(e)}}(c),queryVAST(p.item(0).textContent.replace(/\s/g,""),f)}i.breaks.push(c),s.push(c.position)}}"function"==typeof n&&n(s)},function(t){n([])})}function VASTAds(t,e,n,i){this.ads=[],this.onAdsAvailable=e,this.onAdsError=n,this.onReceivedErrorCounter=0;var r=t.getElementsByTagNameNS("*","Ad"),s=this;if(0===r.length)return void n("no vasts");var a=function(t){if(++s.onReceivedErrorCounter===r.length)return void n(t)};if(0==t.getElementsByTagName("VASTS").length){for(u=0;u<r.length;u++)if((p=new VASTAd(this,r.item(u),i||null)).isEmpty())a();else if(this.ads.push(p),!p.hasData()||p.hasSequence()&&!p.isNumber(1)){var o=r.item(u).getElementsByTagName("Wrapper").item(0),l=o.getElementsByTagName("VASTAdTagURI");if(0===l.length){a();continue}l=l.item(0).textContent.replace(/\s/g,"");var c;!function(t,e,n){c=function(i){if(t.onLoaded(i,e),n.onAdsAvailable){var r=n.onAdsAvailable;n.onAdsAvailable=null,r.call(n,i)}}}(p,"true"===o.getAttribute("allowMultipleAds"),s),queryVAST(l,c,a,p)}else if(e){f=this.onAdsAvailable;this.onAdsAvailable=null,f.call(this,this)}}else{for(var h=t.getElementsByTagName("VASTS")[0].getElementsByTagName("VAST"),u=0;u<h.length;u++){var p=new VASTAd(this,r.item(u),i||null);p.isEmpty()?a():this.ads.push(p)}if(s.onAdsAvailable){var f=s.onAdsAvailable;s.onAdsAvailable=null,f.call(s,s)}}}function VASTAd(t,e,n,i){this.vast=t,this.pod=t,this.parentAd=n,this.onAdAvailable=i,this.abortLimit=n?n.abortLimit>0?n.abortLimit-1:n.abortLimit:VAST_VMAP_XHROptions.defaultVASTAbortLimit,this.sequence=null,this.hasContent=!0,this.loaded=!0,this.linear=null,this.companions=[],this.companionsRequired="none",this.nonlinears=[],this.nonlinearsTracking=null,this.impressions=[],this.errors=[],this.currentPodAd=this,this.sentImpression=!1,this.properties={};var r,s;if(null!==this.parentAd){var a=this.parentAd;if(this.companionsRequired=a.companionsRequired,this.linear=a.linear&&void 0!==a.linear.mediaFiles&&a.linear.mediaFiles.length?a.linear.copy(this):null,a.companions.length)for(r=0;r<a.companions.length;r++)this.companions.push(a.companions[r].copy(this));if(a.nonlinears.length)for(r=0;r<a.nonlinears.length;r++)this.companions.push(a.nonlinears[r].copy(this));null!==a.nonlinearsTracking&&(this.nonlinearsTracking=a.nonlinearsTracking.copy(this));for(s in a.properties)a.properties.hasOwnProperty(s)&&(this.properties[s]=a.properties[s])}null===this.nonlinearsTracking&&(this.nonlinearsTracking=new TrackingEvents(null,this)),e.hasAttribute("sequence")&&(this.sequence=parseInt(e.getAttribute("sequence"),10));var o=e.getElementsByTagName("InLine");if(0===o.length&&(this.loaded=!1,0===(o=e.getElementsByTagName("Wrapper")).length))return void(this.hasContent=!1);for(var l=(o=o.item(0)).firstChild;null!==l;){if(1===l.nodeType)switch(l.tagName){case"Creatives":case"InLine":case"Wrapper":case"Impression":case"Error":break;default:this.properties[l.tagName]=l.textContent.replace(/^\s*|\s*$/g,"")}l=l.nextSibling}var c=o.getElementsByTagName("Impression");for(r=0;r<c.length;r++)this.impressions.push(c.item(r).textContent.replace(/\s/g,""));var h=o.getElementsByTagName("Error");for(r=0;r<h.length;r++)this.errors.push(h.item(r).textContent.replace(/\s/g,""));var u=o.getElementsByTagName("Creatives");if(0!==u.length)for(u=u.item(0).getElementsByTagName("Creative"),r=0;r<u.length;r++){for(var p=u.item(r).firstChild;null!==p&&"Linear"!=p.tagName;)p=p.nextSibling;if(null!==p&&"Linear"==p.tagName){var f=new VASTLinear(this,p);this.linear?this.linear.augment(f):(this.linear=f,n&&this.linear&&this.linear.tracking&&void 0!==this.linear.tracking&&n&&n.linear&&void 0!==n.linear&&void 0!==n.linear.tracking&&this.linear.tracking.augment(n.linear.tracking))}}}function VASTCreative(t,e){this.root=e,this.clickThrough=null,"NonLinear"===e.tagName&&(e=e.parentNode),this.tracking=new TrackingEvents(e,t)}function VASTLinear(t,e){VASTCreative.call(this,t,e),this.mediaFiles=[],this.clickThrough=null,this.duration=null,this.adParameters=null;var n,i=e.getElementsByTagName("VideoClicks");if(i.length){var r=(i=i.item(0)).getElementsByTagName("ClickThrough");for(r.length&&(this.clickThrough=r.item(0).textContent.replace(/\s/g,"")),r=i.getElementsByTagName("ClickTracking"),n=0;n<r.length;n++)this.tracking.addClickTracking(r.item(n).textContent.replace(/\s/g,""))}var s=e.getElementsByTagName("Duration");s.length&&(this.duration=this.timecodeFromString(s.item(0).textContent.replace(/\s/g,"")));var a=e.getElementsByTagName("AdParameters");a.length&&(this.adParameters=a.item(0).textContent);var o=e.getElementsByTagName("MediaFiles");if(o.length)for(o=o.item(0).getElementsByTagName("MediaFile"),n=0;n<o.length;n++){for(var l=o.item(n),c={},h=0;h<l.attributes.length;h++)c[l.attributes[h].name]=l.attributes[h].value;c.src=o.item(n).textContent.replace(/\s/g,""),this.mediaFiles.push(c)}}function VASTStatic(t,e){VASTCreative.call(this,t,e),this.resources={iframe:null,html:null,images:{}};var n;(n=e.getElementsByTagName("IFrameResource")).length>0&&(this.resources.iframe=n.item(0).textContent.replace(/\s/g,"")),(n=e.getElementsByTagName("HTMLResource")).length>0&&(this.resources.html=n.item(0).textContent.replace(/\s/g,"")),n=e.getElementsByTagName("StaticResource");for(var i=0;i<n.length;i++)this.resources.images[n.item(i).getAttribute("creativeType")]=n.item(i).textContent.replace(/\s/g,"")}function VASTCompanion(t,e){VASTStatic.call(this,t,e),this.altText="",VASTStatic.prototype.extractClicks.call(this,"Companion");var n=e.getElementsByTagName("AltText");n.length&&(this.altText=n.item(0).textContent.replace(/\s/g,""))}function VASTNonLinear(t,e){VASTStatic.call(this,t,e),this.tracking=t.nonlinearsTracking,VASTStatic.prototype.extractClicks.call(this,"NonLinear")}var VMAPNS="http://www.iab.net/vmap-1.0",VAST_VMAP_XHROptions={XMLHttpRequest:function(){return new XMLHttpRequest},onBeforeSend:function(t,e,n){},defaultVASTAbortLimit:-1},VASTAds,VASTAd,VASTLinear,VASTNonLinear,VASTCompanion;TrackingEvents.prototype.copy=function(t){var e=Object.create(TrackingEvents.prototype);e.events={};for(var n in this.events)this.events.hasOwnProperty(n)&&(e.events[n]=[].concat(this.events[n]));return e.ad=t,e},TrackingEvents.prototype.finger=function(t){if("object"==typeof window&&"undefined"!=typeof Image&&"undefined"==typeof buster)return void((new Image).src=t);var e=VAST_VMAP_XHROptions.XMLHttpRequest();e.open("get",t,!0),VAST_VMAP_XHROptions.onBeforeSend(t,"tracking-pixel",e),e.send()},TrackingEvents.prototype.augment=function(t){for(var e in t.events)t.events.hasOwnProperty(e)&&(this.events[e]?this.events[e]=this.events[e].concat(t.events[e]):this.events[e]=t.events[e])},TrackingEvents.prototype.addClickTracking=function(t){var e={url:t,event:"click",offset:null};this.events.click?this.events.click.push(e):this.events.click=[e]},TrackingEvents.prototype.getEventsOfTypes=function(t){var e=[],n=t.indexOf("progress")>-1;for(var i in this.events)this.events.hasOwnProperty(i)&&(t.indexOf(i)>-1||n&&0===i.indexOf("progress-"))&&(e=e.concat(this.events[i]));return e},TrackingEvents.prototype.track=function(t,e){if(this.events[t]&&0!==this.events[t].length){var n,i=[].concat(this.events[t]),r={};for(var s in e)e.hasOwnProperty(s)&&(r["["+s+"]"]=encodeURIComponent(e[s]));if("creativeView"===t)for(a=this.ad;null!==a&&!a.hasSentImpression();){for(a.impressionSent(),n=0;n<a.impressions.length;n++)i.push({url:a.impressions[n]});a=a.parentAd}if("impression"==t)for(var a=this.ad;null!==a&&!a.hasSentImpression();){for(a.impressionSent(),n=0;n<a.impressions.length;n++)i.push({url:a.impressions[n]});a=a.parentAd}if("error"==t)for(n=0;n<a.errors.length;n++)i.push({url:a.errors[n]});var o=this;for(n=0;n<i.length;n++){for(var l=i[n].url,c=""+parseInt(99999999*Math.random(),10);8!==c.length;)c="0"+c;r["[CACHEBUSTING]"]=c;for(s in r)r.hasOwnProperty(s)&&(l=l.replace(s,r[s]));o.finger(l)}}},VMAP.prototype.onBreakStart=function(t){return this.breaks[t].tracking.track("breakStart"),this.breaks[t].ad},VMAP.prototype.onBreakEnd=function(t){this.breaks[t].tracking.track("breakEnd")},VASTAds.prototype.getAd=function(t){var e=null;if(t&&(e=this.getAdWithSequence(1))&&!e.current().isEmpty())return e.current();for(var n=0;n<this.ads.length;n++)if(!this.ads[n].hasSequence()&&!this.ads[n].current().isEmpty())return this.ads[n].current()},VASTAds.prototype.getAdWithSequence=function(t){for(var e=0;e<this.ads.length;e++)if(this.ads[e].isNumber(t))return this.ads[e];return null},VASTAd.prototype.getTag=function(t,e){return this.properties.hasOwnProperty(t)?this.properties[t]:e},VASTAd.prototype.onLoaded=function(t,e){this.pod=t,this.currentPodAd=t.getAd(e),this.currentPodAd.isEmpty()||(this.loaded=!0,this.onAdAvailable&&this.onAdAvailable.call(this,this))},VASTAd.prototype.hasSentImpression=function(){return this.sentImpression},VASTAd.prototype.impressionSent=function(){this.sentImpression=!0},VASTAd.prototype.current=function(){return this.currentPodAd},VASTAd.prototype.isNumber=function(t){return this.sequence===t},VASTAd.prototype.hasSequence=function(){return null!==this.sequence},VASTAd.prototype.isEmpty=function(){return!this.hasContent},VASTAd.prototype.hasData=function(){return this.loaded},VASTAd.prototype.getNextAd=function(){return this.vast!==this.pod&&(this.currentPodAd=this.currentPodAd.getNextAd(),null!==this.currentPod)?this.currentPodAd.current():this.hasSequence()?this.vast.getAdWithSequence(this.sequence+1).current():null},VASTAd.prototype.getLinear=function(){return this.linear},VASTAd.prototype.getCompanions=function(){return this.companions},VASTAd.prototype.getCompanion=function(t){for(var e=0;e<this.companions.length;e++)if(this.companions[e].attribute("id")===t)return this.companions[e];return null},VASTAd.prototype.companionsRequired=function(){return this.companionsRequired},VASTAd.prototype.getNonLinears=function(){return this.nonlinears},VASTCreative.prototype.track=function(t,e,n){this.tracking.track(t,{CONTENTPLAYHEAD:this.timecodeToString(e),ASSETURI:n})},VASTCreative.prototype.timecodeToString=function(t){return("0"+parseInt(t/3600,10)+":"+("0"+parseInt(t%3600/60,10))+":"+("0"+t%60)).replace(/(^|:|\.)0(\d{2})/g,"$1$2")},VASTCreative.prototype.timecodeFromString=function(t){return-1===t.indexOf(":")?t:3600*parseInt(t.substr(0,2),10)+60*parseInt(t.substr(3,2),10)+parseInt(t.substr(6,2),10)},VASTCreative.prototype.getClickThrough=function(){return this.clickThrough},VASTCreative.prototype.attribute=function(t,e){if(!this.root.hasAttribute(t))return e;var n=this.root.getAttribute(t);switch(t){case"skipoffset":case"duration":case"offset":case"minSuggestedDuration":n=this.timecodeFromString(n)}return n},VASTLinear.prototype=Object.create(VASTCreative.prototype),VASTLinear.prototype.getDuration=function(){return this.duration},VASTLinear.prototype.getAdParameters=function(){return this.adParameters},VASTLinear.prototype.copy=function(t){return new VASTLinear(t,this.root)},VASTLinear.prototype.augment=function(t){this.adParameters=t.adParameters||this.adParameters,this.duration=t.duration||this.duration,this.mediaFiles=t.mediaFiles.slice(0)||this.mediaFiles.slice(0),this.tracking.augment(t.tracking),this.clickThrough=t.clickThrough||this.clickThrough},VASTLinear.prototype.getAllMedias=function(){return this.mediaFiles},VASTLinear.prototype.getBestMedia=function(t,e){for(var n=Number.POSITIVE_INFINITY,i=-1,r=0;r<this.mediaFiles.length;r++)if(this.mediaFiles[r].type==e){var s=this.mediaFiles[r],a=Math.sqrt(Math.pow(t.width-s.width,2)+Math.pow(t.height-s.height,2));if(n>a)n=a,i=r;else if(a===n){var o=this.mediaFiles[i],l=o.bitrate||o.maxBitrate,c=s.bitrate||s.maxBitrate;c&&!l?i=r:t.bitrate&&l&&c?Math.abs(c-t.bitrate)<Math.abs(l-t.bitrate)&&(i=r):c>l&&(i=r)}}return-1===i?1==this.mediaFiles.length&&this.mediaFiles[0].type==e?this.mediaFiles[0]:null:this.mediaFiles[i]};var VAST_LINEAR_TRACKING_POINTS=["start","firstQuartile","midpoint","thirdQuartile","complete","progress","skip"];VASTLinear.prototype.getTrackingPoints=function(){var t=this.tracking.getEventsOfTypes(VAST_LINEAR_TRACKING_POINTS),e=[],n=null;void 0!==this.duration&&this.duration&&(n=this.duration);for(var i=0;i<t.length;i++){var r,s={event:t[i].event,offset:null,percentOffset:null};switch(t[i].event){case"start":s.percentOffset="0%",s.offset=0;break;case"firstQuartile":s.percentOffset="25%",n&&(s.offset=.25*n);break;case"midpoint":s.percentOffset="50%",n&&(s.offset=.5*n);break;case"thirdQuartile":s.percentOffset="75%",n&&(s.offset=.75*n);break;case"complete":s.percentOffset="100%",n&&(s.offset=n);break;case"skip":-1===(r=this.attribute("skipoffset",0)).indexOf("%")?(s.offset=VASTCreative.prototype.timecodeFromString(r),n&&(s.percentOffset=s.offset/n*100+"%")):(s.percentOffset=r,n&&(s.offset=n*parseInt(s.percentOffset,10)/100));break;default:if(!(r=t[i].offset))continue;"start"===r&&(r="0%"),"end"===r&&(r="100%"),-1===r.indexOf("%")?(s.offset=VASTCreative.prototype.timecodeFromString(r),n&&(s.percentOffset=s.offset/n*100+"%")):(s.percentOffset=r,n&&(s.offset=n*parseInt(s.percentOffset,10)/100))}e.push(s)}return e.sort(function(t,e){return t.offset&&e.offset?t.offset-e.offset:t.percentOffset&&e.percentOffset?parseInt(t.percentOffset,10)-parseInt(e.percentOffset,10):0}),e},VASTStatic.prototype=Object.create(VASTCreative.prototype),VASTStatic.prototype.augment=function(t){this.tracking.augment(t.tracking),this.clickThrough=t.clickThrough||this.clickThrough,this.resources.iframe=t.resources.iframe||this.resources.iframe,this.resources.html=t.resources.html||this.resources.html;for(var e in t.resources.images)t.resources.images.hasOwnProperty(e)&&(this.resources.images[e]=t.resources.images[e])},VASTStatic.prototype.getAllResources=function(){return this.resources},VASTStatic.prototype.extractClicks=function(t){var e;(e=this.root.getElementsByTagName(t+"ClickThrough")).length&&(this.clickThrough=e.item(0).textContent.replace(/\s/g,"")),(e=this.root.getElementsByTagName(t+"ClickTracking")).length&&this.tracking.addClickTracking(e.item(0).textContent.replace(/\s/g,""))},VASTCompanion.prototype=Object.create(VASTStatic.prototype),VASTCompanion.prototype.copy=function(t){return new VASTCompanion(t,this.root)},VASTCompanion.prototype.augment=function(t){VASTStatic.prototype.augment.call(this,t),this.altText=t.altText||this.altText},VASTCompanion.prototype.getAltText=function(){return this.altText},VASTNonLinear.prototype=Object.create(VASTStatic.prototype),VASTNonLinear.prototype.augment=function(t){VASTStatic.prototype.augment.call(this,t)},VASTNonLinear.prototype.copy=function(t){return new VASTNonLinear(t,this.root)};function CustomEvent(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}function hmsToSecondsOnly(e){if(!e)return null;for(var t=e.split(":"),n=0,i=1;t.length>0;)n+=i*parseInt(t.pop(),10),i*=60;return n}function convertSecondsToTimeFormat(e){e=parseInt(e,10);var t=Math.floor(e/3600)%24,n=Math.floor(e/60)%60,i=Math.floor(e%60)%60;return(1>t?"":(10>t?"0":"")+t+":")+(10>n?"0":"")+n+":"+(10>i?"0":"")+i}function brStyle(e,t){if(e){if(e instanceof Array){for(var n=0;n<e.length;n++)brStyle(e[n],t);return}for(var i in t)null===t[i]||"string"==typeof t[i]?e.style[i]=t[i]:e.style.setProperty(i,t[i].value,t[i].important?"important":"")}}function getElementDimension(e){if(e){var t;return e.getBoundingClientRect?(t=e.getBoundingClientRect(),{width:t.width,height:t.height}):{width:e.offsetWidth,height:e.offsetHeight}}return null}var BranovatePlayer=function(){function e(){li.dispatchEvent(new CustomEvent("onContentShown")),$i==Kn?qe():$i==Xn?i():Yn(Li.player.mediaVideo).then(function(){$i=qn,_e()}).catch(function(){$i=Xn,i()})}function t(e){var t=n();return e=e.replace("[quality]",t),ei=t,e}function n(){return 480>getElementDimension(li).width?"240":"480"}function i(){ie(),qe(),$i=Xn}function o(){yi?yi.onPlayerReady().then(function(){yi.getAllowedToStartNewVideos()&&yi.onNewVideo().then(function(){Hi?e():i()})}):q()||(mi?e():i())}function r(){yi&&yi.killBiddingSession()}function a(e){ri=l(e.elemId.replace(/^#/,""),null),ai=l(e.ad_id,""),li=document.getElementById(ri),di=l(e.playlistContent,!1),ui=l(e.width,600),ci=l(e.height,480),mi=l(e.autoplay,!1),pi=l(e.mute,!1),gi=l(e.repeat,!1),vi=l(e.repeatCounter,!1),Ui=e.widgetType,hi=l(e.debugMessages,!1),bi=l(e.startHidden&&0!=e.startHidden,!1),Ai=l(e.backgroundColor,"#000000"),Ei=l(e.opportunityPixel,"#"),wi=l(e.contentPixelTemplate,"#"),xi=l(e.playerLoadPixel,"#"),Mi=l(e.protocol,"http:"),Ti=l(e.networkWidgetBackgroundPath,"https://universal.trvdp.com/truvid_default/"),Vi=l(e.isNetworkWidget,!1),zi=l(e.startPrerollBeforeContent,!0),Pi=l(e.spinnerPrerollTimeoutLength,3),(Gi=x())&&(Yi=l(e.mobileEnvironment,!1),Oi=l(e.mobileOS,!1)),Ri=l(e.passbackLength,!1),Fi=l(e.passbackAdSlots,!1),Di=l(e.floaterMethod,null),fi=vi,Qi=l(e.isResponsive,!1),Wi=l(e.imageMode,!1),si=l(e.ads,null),Ki=l(e.vastPath,null),mi||(Hi=!1),to=l(e.isNativeClickOpensNewWindow,!0),io=l(e.videoLinks,null),no=l(e.isAdControlBarPermanent,!1),oo=l(e.maxResolution,null),ro=l(e.currentResolution,null),ao=l(e.changeResolutionOnWindowsResize,!1),so=l(e.isFullscreen,!1),co=l(e.userEnvironment,null),Wn=l(e.geoLocation,null),Gn=e.widgetId,co&&so&&co.os&&co.os.indexOf("ios")>=0&&(so=!1),go=l(e.abTesting,!1),vo=l(e.pageUrl,""),fo=l(e.domain,""),ho=l(e.ip,""),Qn=l(e.userCountry,"")}function l(e,t){return void 0!==e?e:t}function s(){window.playerLog=hi?function(){var e=arguments[0],t=l(arguments[1],""),n=l(Array.prototype.slice.call(arguments,2),"");console.log(e+" | "+t,n)}:function(){arguments[0],l(arguments[1],""),l(Array.prototype.slice.call(arguments,2),"")}}function d(){ki={setters:c(),getters:m(),methods:p(),consts:u()}}function u(){return{AUTOPLAY_WITH_SOUND:Hn,AUTOPLAY_MUTED:Zn,AUTOPLAY_DISALLOWED:Jn,PLAYER_CONTENT_STATUS_CLICK_TO_PLAY:Xn,PLAYER_CONTENT_STATUS_PLAYING:qn,PLAYER_CONTENT_STATUS_PAUSED:Kn}}function c(){return{newVideoIndex:function(e){oi=e},isAdPlaying:function(e){ii=e},currentVolume:function(e){e>0?lt():at()},setAllowStartingContentOnPlayRequest:function(e){Hi=e},setPlayerContentStatus:function(e){$i=e}}}function m(){return{video:function(){return Li.player.mediaVideo},canPlayType:function(e){return!e||(e=e.replace(",tmcd",""),Li.player.mediaVideo.canPlayType(e).length>0)},elemId:function(){return ri},title:function(){return di?Bi.getCurrentVideoObj().title:""},newVideoIndex:function(){return oi},playlistContent:function(){return di},description:function(){return di?Bi.getCurrentVideoDescription():""},opportunityPixel:function(){return W(Ei)},repeat:function(){return gi},duration:function(){return lo},src:function(){return di?t(Bi.getCurrentVideoUrl()):src||""},width:function(){return ui},height:function(){return ci},isAdPlaying:function(){return ii},currentVolume:function(){return 1==Li.player.mediaVideo.muted?0:Li.player.mediaVideo.volume},protocol:function(){return Mi},playing:function(){return Z()},startPrerollBeforeContent:function(){return zi},spinnerPrerollTimeoutLength:function(){return Pi},widgetToFloater:function(){return ji},autoplay:function(){return mi},mute:function(){return pi},currentTime:function(){return hmsToSecondsOnly(Li.player.currentTime.innerHTML)},passbackLength:function(){return Ri},passbackAdSlots:function(){return Fi},floaterMethod:function(){return Di},widgetType:function(){return Ui},isMobile:function(){return Gi},mobileOS:function(){return Oi},mobileEnvironment:function(){return Yi},viewable:function(){return Zi},imageMode:function(){return Wi},isNetworkWidget:function(){return Vi},isResponsive:function(){return Qi},getElementDimension:function(e){return getElementDimension(e)},language2Letters:function(){return di?Bi.getCurrentVideoLanguage2LettersCode():""},getVastPath:function(){return Ki},getNetworkWidgetBackgroundPath:function(){return Ti},getVideoQuality:function(){return n()},getIsAdControlBarPermanent:function(){return no},getCurrentResolution:function(){return ro},getMaxResolution:function(){return oo},getCurrentVideoFileName:function(){return Bi.getCurrentVideoFileName()},getAdId:function(){return ai},isFullScreenState:function(){return Ce()},widgetId:function(){return Gn},pageUrl:function(){return vo},domain:function(){return fo},ip:function(){return ho},userCountry:function(){return Qn},geoLocation:function(){return Wn},playerContentStatus:function(){return $i},isMediaPlayingIsDifferentThanContent:function(){return w()}}}function p(){return{getJSONP:function(e){return H(e)},getCurrentVideoUrl:function(){return Bi.getCurrentVideoUrl()},getCurrentVideoObj:function(){return Bi.getCurrentVideoObj()},noContentMode:function(){return q()},stopSpinner:function(){se()},startSpinner:function(){oe()},getCurrentVideoDuration:function(){return lo},resizeSpinner:function(e,t){return k(e,t)},saveContentState:function(){b()},restoreContentState:function(e,t){return E()},checkAutoplayStatus:function(){return f()},playContent:function(){e()},pauseContent:function(){qe()},ShowFloaterWithContent:function(){y()},setVolume:function(e){dn(e)},playVideoElement:function(e){return Yn(e)},updateCurrentContentTimeState:function(){h()},setPoster:function(){ie()},setCTPMode:function(){i()}}}function y(){e()}function g(){return Li.player.mediaVideo.muted}function v(e){return new Promise(function(t,n){var i=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"}),o=document.createElement("video");o.style.position="absolute",o.style.height="0px",o.style.width="0px",o.setAttribute("controls","controls"),o.autoplay=!0,o.preload="auto",o.setAttribute("webkit-playsinline","webkit-playsinline"),o.setAttribute("playsinline","playsinline"),e&&(o.muted=!0,o.volume=0);var r=function(){(o.currentTime>0||1==o.ended)&&t(e?Zn:Hn)},a=function(){o.removeEventListener("playing",r),o.removeEventListener("timeupdate",r),o.removeEventListener("loadeddata",l)},l=function(){var i=o.play();i?i.then(function(){var n=e?Zn:Hn;a(),t(n)}).catch(function(){var e=Jn;a(),n(e)}):setTimeout(function(){var e=Jn;a(),n(e)},1500)};o.addEventListener("playing",r),o.addEventListener("timeupdate",r),o.addEventListener("loadeddata",l),o.src=URL.createObjectURL(i),o.load()})}function f(){return new Promise(function(e,t){if(null!==_i)_i==Jn?t(_i):e(_i);else{var n=g();n?v(n).then(function(t){_i=t,e(t)}).catch(function(e){t(e)}):v(n).then(function(t){t==Zn&&st(),_i=t,e(t)}).catch(function(i){i==Jn&&v(!n).then(function(t){_i=t,e(t)}).catch(function(e){_i=e,t(e)})})}})}function h(){Li.player.mediaVideo.currentTime>0&&(qi=Li.player.mediaVideo.currentTime)}function b(){q()||(Xe(Li.player.mediaVideo),A(),ke())}function A(){brStyle(Li.buttonsOverlay.overlay.firstChild,{display:"none"}),brStyle(li.getElementsByClassName("trv-media-controls")[0],{display:"none"}),brStyle(li.getElementsByClassName("trv-floating-menu")[0],{display:"none"}),brStyle(li.getElementsByClassName("info-overlay")[0],{display:"none"}),brStyle(li.getElementsByClassName("trv-overlay")[0],{display:"none"}),Tt()}function E(){return new Promise(function(e,t){function n(){Li.player.mediaVideo&&Li.player.mediaVideo.readyState>=2?(lo=Li.player.mediaVideo.duration,Li.player.vidDuration.innerHTML=convertSecondsToTimeFormat(Li.player.mediaVideo.duration),i(!0)):setTimeout(n,100)}if(ii=!1,q())e();else{$n=!0;var i=function(t){Li.player.mediaVideo.currentTime!=qi&&(Li.player.mediaVideo.currentTime=qi,window.playerLog("restore time "+qi)),t&&Li.player.mediaVideo.removeEventListener("loadedmetadata",n),xe(),yi&&void 0!==yi.getAllowedToStartNewVideos&&(yi.getAllowedToStartNewVideos()&&Hi&&$i==qn?(Yn(Li.player.mediaVideo),_e()):Ke()),Li.player.mediaVideo.style.display="block",dt(),$n=!1,e()},o=Bi.getFileToPlay().url;Li.player.mediaVideo.currentSrc!=o||Li.player.mediaVideo.src!=o?(Li.player.mediaVideo.addEventListener("loadedmetadata",n),Li.player.mediaVideo.src=o,Li.player.mediaVideo.load()):i(!1)}})}function w(){if(q())return!0;var e=Bi.getFileToPlay().url;return Li.player.mediaVideo.currentSrc!=e||Li.player.mediaVideo.src!=e}function x(){return navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i)}function k(e,t){if(re()){var n=li.getElementsByClassName("loader-bg"),i=li.getElementsByClassName("loader-bg-image"),o=li.getElementsByClassName("loader");brStyle(n[0],{height:{value:t+"px",important:!0},width:e+"px"}),brStyle(i[0],{left:(e-bo.bgSize)/2+"px",top:(t-bo.bgSize)/2+"px"}),brStyle(o[0],{left:e/2-bo.bgSize-9+"px",top:t/2-bo.bgSize-5+"px"})}}function L(){return new Promise(function(e){si?(yi=new AdvertisingLib(si,ki)).init().then(function(){e()}):e()})}function B(){var e=M(C().outerHTML);if(pi&&window.playerLog("mute video"),ri)for(;e.children.length>0;)li.appendChild(e.children[0]);else for(;e.children.length>0;)document.body.appendChild(e.children[0])}function C(){var e=document.createElement("video");return e.setAttribute("disableremoteplayback",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),pi&&(e.setAttribute("muted",""),e.volume=0),e.preload="metadata",e.controls=!1,e.className="media-video",e}function I(e,t){(Li.player.mediaVideo.paused||Li.player.mediaVideo.ended)&&(Li.player.poster.style.backgroundImage=bi||!t?"url('')":"url('"+t+"')",Li.player.poster.style.display="block")}function S(){Li.player.poster.style.display="none"}function M(e){var t=document.createElement("div"),n='<div class="media-player"><div class="trv-video">{{video_placeholder}}</div><div class="trv-overlay"></div><div class="trv-media-controls"><div class="trv-progress-bar"><div class="trv-buffered"></div><div class="trv-play-progress"></div><div class="button-holder"><div class="trv-progressBtn"></div></div></div><button class="togglePlayPause brpBtn sprite-background" type="button" title="play">Play</button><button class="volume brpBtn sprite-background" type="button" title="volume">volume</button>';return Gi||(n+='<div class="volume-container"><div style="position: relative;"><div class="volume-bar"><div class="active-volume"></div></div></div><div class="button-holder"><div class="volumeHandle"></div></div></div>'),n+='<span class="trv-currentTime">00:00</span><span class="timeDivider">/</span><span class="trv-duration">00:00</span><span class="videoTitle"></span><button class="BR brpBtn sprite-background" onclick="window.open(\'https://www.truvid.com/results\', \'_blank\');" type="button" title="Truvid.com">Truvid</button>',so&&(n+='<button class="fullScreen brpBtn sprite-background" type="button" title="Full Screen">fullScreen</button>'),n+='</div><div class="trv-poster"></div><div class="trv-floating-menu"></div><div class="info-overlay"><div class="overlay-info-close"><<</div><div class="info-text"><a href="https://www.truvid.com/" target="_blank">About</a><a href="https://www.truvid.com/terms/" target="_blank">T&C</a><a href="https://www.truvid.com/terms/privacy_policy" target="_blank">Privacy Policy</a><a href="https://www.truvid.com/terms/cookie_policy" target="_blank">Cookie Policy</a></div></div></div>'+N(),t.innerHTML=n.replace("{{video_placeholder}}",e),t}function N(){var e=bo,t={toggleDisplay:"all 0.5s cubic-bezier(0.23, 0.36, 0.45, 0.94)",overlay:"opacity 3s ease-in-out",controller:"opacity 0.2s ease-in-out",progressBar:"all 0.1s cubic-bezier(0.23, 0.36, 0.45, 0.94)"};Gi||(t.volumeBar="opacity 0.15s linear");var n={
sprite:'transparent url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABNoAAAAoCAYAAAAonpdLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA25pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphYzE1ODUxMS01M2M5LWQzNDYtOGZlNC1hZTI1ZmI5NTA4YzgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEQ5RDQ5RDcwQ0UyMTFFOThFMTVFQThERTQzOThERDkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEQ5RDQ5RDYwQ0UyMTFFOThFMTVFQThERTQzOThERDkiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MUQ3QUQ4Nzk3Q0I1MTFFNUIzMTRCMDIxQjZBMkU5NjUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MUQ3QUQ4N0E3Q0I1MTFFNUIzMTRCMDIxQjZBMkU5NjUiLz4gPC9yZGY6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") no-repeat 0 0',volume:'transparent url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAABSCAYAAADep209AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjAzQ0YyRjY3NTg0MTFFNTkxNTQ4OTU2Q0ExOUJEQjQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjAzQ0YyRjU3NTg0MTFFNTkxNTQ4OTU2Q0ExOUJEQjQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzRGRDYzQTMyQkFCMTFFNUJENzVDNDJCMTc1QTVCRDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzRGRDYzQTQyQkFCMTFFNUJENzVDNDJCMTc1QTVCRDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6D4FKjAAACnklEQVR42uzazaraQBQA4MxkUjVQend9AcGVgqIu+gqFrkqx0G030oUPU1x0XajlPkL3Xago6MqfF+iyCxPNzWQ6E8/kHtOr2HIbKJyBQ4ZMmPN5JnF1hFLKMYPpYS46OAp7z0HXvxkKXU0kKFS2DhiTyNXhDQaDmyiKvun7sfo3Izb7mzwmH+RlGMNhobJer1+qAsZms3ll8kFebhEOOh5vv9/fOAWMMAyfIkhaGY7eFVMuoR8SRWB2u52BCHRMLF8ZEQSBVwRGn4AAzH1l0HoKklLyIjCQh+OvFFcmjSRJWBEYyIPD4WceKgpzMgo5kmsHYQhDGMIQhjCEIQxhCEMYwhCGMIQhDGEIQxjCEIYwhCEMYQhDGMIQhjCEIcwjYtJGLM65KiTxMc998xfCZAue58kiMJDnBIRbnJ7o8KvV6rNarfY8CILK4XAoSymFUsr21nA958Ph8HW3231zLtF4PL7t9/u3jLFEVyBtf9Nz5bpuXCqV9r7vh6vV6sd2u/2p1wIdkQ6Je/NMe1PZOXaI+TA3QJFDpy10k8nkfbvd7uUh0+n0a6fT+aSndyYBhP31MSTeAyKEuXk2YaY1Tqs5JDVRgvitQctCAFmezWb9ZrP51kLm8/mXVqs1hAQRAlmMBJC5f4CIITKMrY6LULY5i+cwFmwqWF4sFh/q9fq75XL5udFofARIiBJhjO1ajFFIuKcw5lI7JV4TUJmKPcrRaPSi1+t9R0cQwjx2TlsmL7VTHjHpm3wE2Zf63JUBxssdJ4eNcfnvAIM/34vXrEFQWRX67vFA1bO/SEJCgTAxQmRVQXs/tG82v7pbETZMP1FUaomOE99L34NLiIfGH7dOmgTm/wMlZwijrqnGo2EQyIEKOAiTP/L/d/wSYABH4OtcDgD/JAAAAABJRU5ErkJggg==") no-repeat 0 0'},i="<style>#"+li.id+" .media-video, #"+li.id+" .trv-media-controls, #"+li.id+" .video-overlay, #"+li.id+" .info-overlay {  -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; -o-user-select: none; user-select: none; }#"+li.id+" .sprite-background { background: "+n.sprite+"; }#"+li.id+" .brpBtn { text-indent: -9999px; width: 10px; height: 18px; border: none; margin-top: 10px; padding: 0; outline: none; cursor: pointer; box-shadow: none; background-color: transparent !important; display: inline-block; }";if(Gi||(i+="#"+li.id+" .button-holder { position: relative; left: 0; }"),i+="#"+li.id+".trvdfloater { z-index:10;}",i+="#"+li.id+' .trv-floating-menu { position: absolute; z-index:9;width:24px;height:24px;top:0; left:0; background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiBRgKCyeBfAlfAAAAPklEQVQ4y2NgwAD/Wf8n/j/9//T/xP+sDMSA/4n/YSCROA2n4RpOY8oyEWUGtZ1EqqcHIRiNuCEKRiMOAwAAAsCVIyMyzqoAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDUtMjRUMTA6MTE6MzkrMDI6MDD/4PcGAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA1LTI0VDEwOjExOjM5KzAyOjAwjr1PugAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="); opacity:0.8; margin-top:11px;margin-left:2px;cursor:pointer; }',i+="#"+li.id+" .info-overlay { background-color: #000000;opacity: 0.8;display: none;text-align: left;color: #ffffff;font-size: 14px;z-index:9; position:absolute;height:170px;width:135px;left:0;top:0; }",i+="#"+li.id+" .info-overlay .info-text {height:100%;width: 90%;padding: 9px;text-align: justify;margin: 0 auto;}",i+="#"+li.id+" .info-overlay .overlay-info-close {cursor:pointer;color: #ffffff;bottom: 3px;font-size: 16px;text-align:right;margin-right:6px;margin-top:6px;}",i+="#"+li.id+" .info-overlay a,.info-overlay a:visited,.info-overlay a:hover,.info-overlay a:active {color:#ffffff;display:block;  text-decoration: none;margin-top:7px;margin-left:9px;}",i+="#"+li.id+" .info-overlay a:hover { text-decoration: underline; }",i+="#"+li.id+" * { -webkit-tap-highlight-color: rgba(0,0,0,0);-webkit-tap-highlight-color: transparent; /* For some Androids */ box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;-webkit-transform:unset; overflow: unset;overflow-y:unset;position:unset;margin:unset;}",Qi){var o=(ci/ui*100).toFixed(2);i+="#"+li.id+" {direction:ltr; height: 0px; width: 100%; background-color: "+Ai+"; position: relative; overflow: hidden; opacity: 1;padding-bottom: "+o+"%;z-index:1; }"}else i+="#"+li.id+" {direction:ltr; height: "+(bi?"0":ci)+"px; width: "+ui+"px; background-color: "+Ai+"; position: relative; overflow: hidden; opacity: 1;z-index:1; }";return i+="#"+li.id+" .truvid_ima_container video { display:block; height: 100% !important; }",i+="#"+li.id+" .media-video { height: 100% !important; width: 100% !important; left: 0%; margin-top: 0; -webkit-transition: "+t.toggleDisplay+"; -moz-transition: "+t.toggleDisplay+"; -o-transition: "+t.toggleDisplay+";-ms-transition: "+t.toggleDisplay+"; transition: "+t.toggleDisplay+"; -ms-transition: "+t.toggleDisplay+"; object-fit: contain; cursor: pointer; position: absolute; background-color: "+Ai+"; }#"+li.id+" .media-player { font-family: arial; }",i+="#"+li.id+" .trv-overlay { width:100%;height:100%;position:absolute;display:block;opacity:1;visibility: visible;cursor:pointer;}",i+=NaN+li.id+" .video-overlay { display: none; ",Gi||(i+="width: 100%; height: 100%;"),i+="}",i+=NaN+li.id+" .info-overlay { display: none; ",Gi||(i+="width: 100%; height: 100%;"),i+="}#"+li.id+" .overlayBtn { vertical-align: bottom !important; width: 25px; height: 28px; outline: 0; border: none; bottom: 21.5px; position: relative; padding: 0;",Gi&&(i+="margin-top:-38px;"),i+=" }#"+li.id+" .overlayBtnWrapper {",i+=Gi?"margin: -15px 0 0 0 !important;":"margin: -38px 0 0 0 !important;",i+="width: 100%; top: 50%; height: 11%; display:none; position: absolute; left:0px; text-align: center; z-index: 9; opacity: 1; cursor: pointer;  transition: "+t.overlay+"; -webkit-transition: "+t.overlay+"; -o-transition: "+t.overlay+"; -moz-transition: "+t.overlay+"; -ms-transition: "+t.overlay+"; }#"+li.id+" .overlayBtnWrapper>div { display: inline-block; }#"+li.id+" .overlay-play-wrapper { width: 79px; height: 78px; border-radius: 100%; cursor: pointer; }#"+li.id+" .overlay-play-pause { width: 78px; height: 79px; border-radius: 100%; cursor: pointer; bottom: 0px; background: "+(mi?Eo:Ao)+"; background-color:transparent !important; }#"+li.id+" .overlay-backwards-wrapper { position:absolute; margin-right: 35px; width: 8%;left:0px; }#"+li.id+" .overlay-backwards { cursor: pointer; left:0px; background-position: -441px -5px; }#"+li.id+" .overlay-forward-wrapper { position: absolute; right: 0px; }#"+li.id+" .overlay-forward { cursor: pointer; background-position: -472px -5px; }#"+li.id+" .small-nav-l { left: 0; border-top-right-radius: 10px;border-bottom-right-radius: 10px;  }#"+li.id+" .small-nav-r { right: 0;border-top-left-radius: 10px;border-bottom-left-radius: 10px; }#"+li.id+" .small-nav {",i+=Gi?"margin-top:-15px;":"top: 50%;",i+="stroke: #1EAAF1; height: 50px;width: 20px;position: absolute;;color: white;background-color: rgba(255, 255, 255, 0.85);display: block;cursor: pointer;-webkit-touch-callout: none;webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;z-index: 3;}#"+li.id+" .trv-poster { position: absolute;display: none;opacity: 1;visibility: visible;width: 100%;height: 100%;background: #000 no-repeat 50% 50%; background-size: cover;}#"+li.id+" .links-overlay { position: absolute; right: -20px; height: 24px; top: 20px;display:none;width:130px;}#"+li.id+" .links-overlay .links-button { background-color: #cc0000; width: 100%; height: 100%; opacity: 0.75;  border-radius: 20px; padding-left: 17px; padding-top: 7px; font-size: 11pt; color: #FCFCFC; line-height: 17px;cursor:default;webkit-transition: background-color 0.25s ease-in-out;-moz-transition: background-color 0.25s ease-in-out;-o-transition: background-color 0.25s ease-in-out; -khtml-transition: background-color 0.25s ease-in-out; transition: background-color 0.25s ease-in-out;-webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; -o-user-select: none; user-select: none;text-align:left;box-sizing: initial;letter-spacing:0;}#"+li.id+" .links-overlay .links-button.highlight { background-color:#cc0000;opacity:1; padding-bottom:0;box-shadow: inset 0 0 0 2px #fff; }#"+li.id+" .links-overlay .links-button:hover { background-color:#cc0000; opacity:1; cursor: pointer;box-shadow: inset 0 0 0 2px #fff; }#"+li.id+" .loader-bg { top: 0px; left: 0px; position: absolute; width: "+ui+"px; height: "+ci+"px; background-color: black;z-index:9; }#"+li.id+" .loader-bg-image { width: "+e.bgSize+"px; height: "+e.bgSize+"px; background: "+e.bg+"; background-size: "+e.bgSize+"px "+e.bgSize+"px; position: absolute; left: "+(ui-e.bgSize)/2+"px; top: "+(ci-e.bgSize)/2+"px; }#"+li.id+" .loader { position: absolute; width: "+e.spinnerSize+"px; height: "+e.spinnerSize+"px;",i+=";z-index: 9; border-top: "+e.border+"em solid rgba(00, 00, 00, 0.2); border-right: "+e.border+"em solid rgba(62, 181, 231, 0.2); border-bottom: "+e.border+"em solid rgba(62, 181, 231, 0.2); border-left: "+e.border+"em solid #3eb5e7; -webkit-transform: translateZ(0); -o-transform: translateZ(0);-ms-transform: translateZ(0); transform: translateZ(0); -webkit-animation: load8 1.1s infinite linear; animation: load8 1.1s infinite linear; }#"+li.id+" .loader, #"+li.id+" .loader:after { border-radius: 50%; }@-webkit-keyframes load8 { 0% { -webkit-transform: rotate(0deg); transform: rotate(0deg); } 100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); } }@keyframes load8 { 0% { -webkit-transform: rotate(0deg); transform: rotate(0deg); } 100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); } }#"+li.id+" .truvid-bg { top: 0px; left: 0px; position: absolute; width: "+ui+"px; height: "+ci+"px; z-index: 9; }#"+li.id+" .trv-media-controls { ",i+="background-color: transparent; position: absolute; display: none;bottom:0; left: 0px; z-index: 9; width: 100%; color: #FCFCFC; font-size: 10pt; text-align: left; height: 38px; -webkit-transition: "+t.controller+"; -moz-transition: "+t.controller+"; -o-transition; "+t.controller+"; transition: "+t.controller+"; -ms-transition: "+t.controller+"; }#"+li.id+" .fullScreen { float: right; background-position: -126px -9px; width:20px;height:20px; }#"+li.id+" .trv-media-controls>span { line-height: 22px; font-size: 10pt; color: #FCFCFC; font-family: arial; }#"+li.id+" .BR { background-position: 0px -8px; width: 22px; height: 22px; margin-left: 12px; margin-right: 12px; float: right; transition: none; }#"+li.id+" .videoTitle {",Gi||(i+="position: absolute; margin-top: 10px;"),i+="margin-left:7px; white-space: nowrap; text-overflow: ellipsis; overflow: hidden; vertical-align: inherit; cursor: default; }#"+li.id+" .togglePlayPause { background-position: -"+(mi?"48":"82")+"px -8px; height: 22px; margin-left: 20px; margin-right: 4px; transition: none; float: none; }#"+li.id+" .volume { background-position: -100px -10px; line-height: normal; margin-right: 12px; margin-left: 12px; transition: none; float: none; }#"+li.id+" .trv-currentTime, #"+li.id+" .timeDivider, #"+li.id+" .duration { line-height: 22px; vertical-align: bottom; cursor: default; display:inline; }#"+li.id+" .trv-duration { margin-right: 12px; }#"+li.id+" .playlist { float: right; background-position: -149.5px -8px; margin-right: 12px; margin-left: 12px; width: 12px; }#"+li.id+" .trv-progress-bar { position: absolute; width: 100%; height: 3px; background: #737373; cursor: pointer; -webkit-transition: "+t.progressBar+"; -moz-transition: "+t.progressBar+"; -o-transition: "+t.progressBar+"; transition: "+t.progressBar+"; -ms-transition: "+t.progressBar+"; }#"+li.id+" .trv-play-progress { position: absolute; background: #1EAAF1; height: 3px; width: 0%; top: 0px; max-width: 100%; -webkit-transition: "+t.progressBar+"; -moz-transition: "+t.progressBar+"; -o-transition: "+t.progressBar+"; transition: "+t.progressBar+"; -ms-transition: "+t.progressBar+"; }#"+li.id+" .trv-buffered { position: absolute; background: #A6A6A6; height: 100%; width: 0%; }#"+li.id+" .trv-progressBtn { background: #1EAAF1; box-shadow: 0 0 20px rgba(0,0,0,0.3); border-radius: 30px; width: 3px; height: 3px; position: absolute; left: 0; text-decoration: overline; top: 0px; -webkit-transition: "+t.progressBar+"; -moz-transition: "+t.progressBar+"; -o-transition: "+t.progressBar+"; transition: "+t.progressBar+"; -ms-transition: "+t.progressBar+"; }",so&&(i+="#"+li.id+".fullScreenState { width: 100% !important; height: 100% !important; top: 0; right:0; bottom: 0; left:0; z-index:1000; margin:0;position:fixed !important; }"),
Yi||(i+="#"+li.id+" .volume-bar { left: 16px; position: absolute; width: 2px; height: 55px; overflow: hidden; background: #737373; top: 10px; -webkit-transition: "+t.volumeBar+"; -moz-transition: "+t.volumeBar+"; -o-transition: "+t.volumeBar+"; transition: "+t.volumeBar+"; -ms-transition: "+t.volumeBar+"; }#"+li.id+" .volume-container { position: absolute; overflow: hidden; bottom: 25px; left: 32px; width: 32px; height: 75px; background: "+n.volume+"; display: none; -webkit-transition: "+t.volumeBar+"; -moz-transition: "+t.volumeBar+"; -o-transition: "+t.volumeBar+"; transition: "+t.volumeBar+"; -ms-transition: "+t.volumeBar+"; cursor: pointer; }#"+li.id+" .volume-container .button-holder { height: 49px; top: 8px; left: 5px; }#"+li.id+" .active-volume { position: absolute; bottom: 0px; background: #1EAAF1; height: 100%; width: 100%; overflow-y: visible; }#"+li.id+" .volumeHandle { background: #1EAAF1; box-shadow: 0 0 20px rgba(0,0,0,0.3); border-radius: 30px; width: 8px; height: 8px; position: absolute; left: 8px; top: 0%; text-decoration: overline; }#context-menu-"+li.id+" { width: 185px; height: 40px; position: absolute; background-color: #252525; z-index: 9; cursor: pointer; border-radius: 5px; direction:ltr;text-align:left; }#context-menu-"+li.id+" .context-menu-icon-container { width: 22px; height: 22px; float: left; }#context-menu-"+li.id+" .context-menu-icon { background: "+n.sprite+"; background-position: 0px -8px; background-color: transparent; width: 22px; height: 22px; margin-top: 9px !important; margin-left: 20px !important; }#context-menu-"+li.id+" .context-menu-text-container { width: 160px; height: 22px; float: right; }#context-menu-"+li.id+" .context-menu-text { width: 120px; height: 22px; font-size: 12px; color: #CCC; font-weight: 600; margin-top: 14px !important; margin-left: 28px !important; font-family: arial; line-height: 15px; }"),i+="@media screen and (max-width: 479px) { #"+li.id+" .videoTitle { display:none; } }",i+="</style>"}function T(){var e=li.getElementsByClassName("media-player")[0];Li={player:{mediaPlayer:e,mediaControls:e.getElementsByClassName("trv-media-controls")[0],mediaVideo:e.getElementsByClassName("media-video")[0],progressBar:e.getElementsByClassName("trv-progress-bar")[0],playProgressBar:e.getElementsByClassName("trv-play-progress")[0],progressButton:e.getElementsByClassName("trv-progressBtn")[0],bufferBar:e.getElementsByClassName("trv-buffered")[0],currentTime:e.getElementsByClassName("trv-currentTime")[0],vidDuration:e.getElementsByClassName("trv-duration")[0],volumeButton:e.getElementsByClassName("volume")[0],volumeHandle:e.getElementsByClassName("volumeHandle")[0],volumeContainer:e.getElementsByClassName("volume-container")[0],activeVolume:e.getElementsByClassName("active-volume")[0],volumeBar:e.getElementsByClassName("volume-bar")[0],togglePlayPause:e.getElementsByClassName("togglePlayPause")[0],floatingMenu:li.getElementsByClassName("trv-floating-menu")[0],infoOverlay:e.getElementsByClassName("info-overlay")[0],poster:e.getElementsByClassName("trv-poster")[0],title:e.getElementsByClassName("videoTitle")[0],overlay:e.getElementsByClassName("trv-overlay")[0]}},so&&(Li.player.fullScreen=e.getElementsByClassName("fullScreen")[0])}function V(e){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.cancelFullScreen?document.cancelFullScreen():document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullscreen&&e.msRequestFullscreen()}function z(){di&&(Li.player.vidDuration.innerHTML=convertSecondsToTimeFormat(Li.player.mediaVideo.duration),lo=Li.player.mediaVideo.duration)}function P(){F(),O()}function j(){var e=Li.player.mediaPlayer,t=document.createElement("div");t.innerHTML=D(),e.appendChild(t.firstChild),e.getElementsByClassName("links-button")[0].onclick=function(){R()}}function R(){var e=!1;if(io)(n=_(io,Math.floor(Vt())))&&n.url&&(void 0!==n.pxl&&""!=n.pxl&&H(J(n.pxl)),to?window.open(n.url,"_blank"):location.href=n.url,Li.player.mediaVideo.paused||(e=!0,qe()));else if(di){var t=Bi.getCurrentVideoObj();if(t.links){var n=_(t.links,Math.floor(Vt()));n&&n.url&&(void 0!==n.pxl&&""!=n.pxl&&H(J(n.pxl)),to?window.open(n.url,"_blank"):location.href=n.url,Li.player.mediaVideo.paused||(e=!0,qe()))}}return e}function F(){var e=Li.player.mediaPlayer,t=document.createElement("div");t.className="video-overlay",t.innerHTML='<div class="overlayBtnWrapper"><div class="overlay-backwards-wrapper"><svg class="small-nav small-nav-l overlay-backwards" stroke="#FFFFFF"><path d="m 11,20 L 6,25 L 11,30" stroke-width="2" fill="none" stroke-linecap="round"></path></svg></div><div class="overlay-play-wrapper"><button type="button" class="overlayBtn sprite-background overlay-play-pause"></button></div><div class="overlay-forward-wrapper"><svg class="small-nav small-nav-r overlay-forward" stroke="#FFFFFF"><path d="m 9,20 L 14,25 L 9,30" stroke-width="2" fill="none" stroke-linecap="round"></path></svg></div></div>',e.appendChild(t)}function D(){return'<div class="links-overlay"><div class="links-button">'+Y()+"</div></div>"}function U(){var e=Li.player.mediaPlayer.getElementsByClassName(".links-button");e.length&&((e=e[0]).innerHTML=Y())}function Y(){var e="";di&&(e=Bi.getCurrentVideoLanguage2LettersCode());var t="";switch(e){case"fr":t="Lire l'article";break;case"pt":t="Leia mais";break;case"es":t="Lee el artículo";break;case"id":t="Lihat Artikel";break;case"ja":t="記事を読む";break;case"zh":t="閱讀文章";break;case"he":t="מעבר לכתבה";break;case"nl":t="lees artikel";break;case"de":t="Artikel Lesen";break;case"ru":t="Смотреть";break;case"it":t="leggi di più";break;default:t="Read Article"}return t}function O(){var e=Li.player.mediaPlayer;Li.buttonsOverlay={overlay:e.getElementsByClassName("video-overlay")[0],overlayPlayButton:e.getElementsByClassName("overlay-play-pause")[0],overlayBackwardButton:e.getElementsByClassName("overlay-backwards")[0],overlayForwardButton:e.getElementsByClassName("overlay-forward")[0]}}function G(){Q(),di&&((Bi=new Playlist(ki,di)).setup(),ce(Bi.getFileToPlay().url),lo=Bi.getCurrentVideoDuration(),ue(),An(getElementDimension(li).width),Bi.getTotalVideos()>1?($(),ee()):te())}function Q(){ao&&(ro=getElementDimension(li).height)}function W(e){for(var t=""+parseInt(99999999*Math.random(),10);8!==t.length;)t="0"+t;return e+"&cb="+t}function H(e){if(e=W(e),"object"==typeof window&&"undefined"!=typeof Image)return void((new Image).src=e);var t=new XMLHttpRequest;t.open("get",e,!0),t.send()}function Z(){return $i==qn}function J(e){if(wi)return wi.substring(0,wi.indexOf("?"))+"?e="+e}function X(){if(wi){var e=wi.substring(0,wi.indexOf("?"))+"?e=";if(di){var t=Bi.getCurrentVideoObj();if(void 0!==t.pxl&&void 0!==t.pxl.cnt)return e+t.pxl.cnt+"&cb="+(new Date).getTime()}return""}}function q(){return!di}function K(){if(di&&!ti&&(ti=!0,wi&&di&&yi)){window.playerLog("fireContentImpression");var e=X();e&&yi.firePixel(e)}}function _(e,t){for(var n=0;n<e.length;n++){if(e[n].startTime<=t&&void 0==e[n].endTime)return e[n];if(e[n].startTime<=t&&t<=e[n].endTime)return e[n]}return!1}function $(){var e=Li.player.mediaPlayer.getElementsByClassName("overlay-backwards");e.length>0&&e[0].addEventListener("click",function(e){e.stopPropagation(),jn()})}function ee(){var e=Li.player.mediaPlayer.getElementsByClassName("overlay-forward");e.length>0&&e[0].addEventListener("click",function(e){e.stopPropagation(),kt(),Rn()})}function te(){brStyle(Li.buttonsOverlay.overlayForwardButton,{display:"none"}),brStyle(Li.buttonsOverlay.overlayBackwardButton,{display:"none"})}function ne(){brStyle(Li.player.bufferBar,{width:"0%"}),brStyle(Li.player.playProgressBar,{width:"0%"}),brStyle(Li.player.progressButton,{left:"0"})}function ie(){di&&I(Li.player.mediaVideo,Bi.getCurrentVideoPoster())}function oe(){re()||(yo=!0,Xe(Li.player.mediaVideo).then(function(){if(yo){ae();var e=getElementDimension(li);k(e.width,e.height)}}))}function re(){return li.getElementsByClassName("loader-bg").length>0}function ae(){var e=document.createElement("div");e.className="loader-bg";var t=le();e.appendChild(t);var n=document.createElement("div");n.className="loader",e.appendChild(n),li.appendChild(e)}function le(){var e=document.createElement("div");return e.className="loader-bg-image",e}function se(){yo=!1,de()}function de(){for(var e=li.getElementsByClassName("loader-bg"),t=0;t<e.length;t++)li.removeChild(e[t])}function ue(){var e=Bi.getCurrentVideoObj().title,t=li.getElementsByClassName("videoTitle");t[0].setAttribute("title",e),t[0].textContent=e}function ce(e){var t=function(){z()};Li.player.mediaVideo.addEventListener("loadedmetadata",t),Li.player.mediaVideo.src=e,Li.player.mediaVideo.load(),Xi=e}function me(){Li.player.mediaControls.addEventListener("mouseenter",ge),Li.player.mediaControls.addEventListener("mouseout",ye),li.addEventListener("mouseenter",Ae),li.addEventListener("mousemove",Ae),li.addEventListener("mouseleave",we)}function pe(){Li.player.mediaControls.removeEventListener("mouseenter",ge),Li.player.mediaControls.removeEventListener("mouseout",ye),li.removeEventListener("mouseenter",Ae),li.removeEventListener("mousemove",Ae),li.removeEventListener("mouseleave",we)}function ye(e){for(var t=e.relatedTarget;null!=t;){if(t==this)return;t=t.parentNode}fe()}function ge(){clearTimeout(Ci)}function ve(){return Gi?!q():!q()&&(On||$i==Xn)}function fe(){ve()&&Z()&&(he(),clearTimeout(Ci),Ci=setTimeout(function(){Z()&&be()},3e3))}function he(){brStyle(Li.buttonsOverlay.overlay,{display:"block"}),brStyle(Li.buttonsOverlay.overlay.firstChild,{display:"block"}),brStyle(Li.player.mediaControls,{display:"block"}),brStyle(Li.player.floatingMenu,{display:"block"}),brStyle(Li.player.overlay,{display:"block"})}function be(){brStyle(Li.buttonsOverlay.overlay,{display:"none"}),brStyle(Li.buttonsOverlay.overlay.firstChild,{display:"none"}),brStyle(Li.player.mediaControls,{display:"none"}),brStyle(Li.player.floatingMenu,{display:"none"}),brStyle(Li.player.infoOverlay,{display:"none"})}function Ae(e){On=!0,fe()}function Ee(){return!On&&$i!=Xn}function we(){On=!1,Ee()&&Z()&&(Ci=clearTimeout(Ci),be())}function xe(){Gi||(me(),Ln()),nt(),et(),ot(),At(),ct(),gt(),mt(),Bt(),Rt(),Ze(),We(),je(),Le()}function ke(){Gi||(pe(),Bn()),tt(),it(),Oe(),bt(),Et(),pt(),ft(),Ct(),Fe(),Je(),He(),Re(),Me()}function Le(){so&&(uo=li,ze(),Se())}function Be(){}function Ce(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;return e&&e==uo}function Ie(){document.removeEventListener("fullscreenchange",Be)}function Se(){document.addEventListener("fullscreenChange",Be),document.addEventListener("fullscreenchange",Be),document.addEventListener("mozfullscreenchange",Be),document.addEventListener("webkitfullscreenchange",Be),document.addEventListener("msfullscreenchange",Be)}function Me(){so&&(Pe(),Ie())}function Ne(){var t=!1;Vi?(window.open(xn(),"_blank"),t=!0):!Gi&&R()&&(t=!0),Gi?(fe(),t&&($i=Kn,e())):e()}function Te(e){e.preventDefault(),e.stopPropagation(),mo++,so?1==mo&&setTimeout(function(){1==mo?Ne():Ve(),mo=0}.bind(this),_n):Ne()}function Ve(){V(uo)}function ze(){Li.player.fullScreen.addEventListener("click",Ve)}function Pe(){Li.player.fullScreen.removeEventListener("click",Ve)}function je(){Li.player.mediaVideo.addEventListener("click",Te),Li.player.overlay.addEventListener("click",Te)}function Re(){Li.player.mediaVideo.removeEventListener("click",Te),Li.player.overlay.removeEventListener("click",Te)}function Fe(){Ye(),Gi?Ut():(Ot(),De(),Ue(),mn())}function De(){Jt(),Kt()}function Ue(){tn(),rn()}function Ye(){for(var e=0;e<eo.length;e++)Li.player.mediaVideo.removeEventListener(eo[e],Pt)}function Oe(){Li.player.volumeButton.removeEventListener("click",st)}function Ge(){yi&&yi.initializeAdManagers(),Li.player.mediaVideo.ended||(Li.player.mediaVideo.paused?($i=qn,Yn(Li.player.mediaVideo).then(function(){$i=qn,Hi=!0,_e(),li.dispatchEvent(new CustomEvent("onUserMediaPlay"))})):($i=Kn,Xe(Li.player.mediaVideo).then(function(){$i=Kn,!event||"overlayBtnWrapper"!=event.srcElement.className||Vi||x()||R(),Ke(),yi&&yi.killBiddingSession(),li.dispatchEvent(new CustomEvent("onUserMediaPause"))})))}function Qe(e){e.preventDefault(),e.stopPropagation(),so?1==++po&&setTimeout(function(){1==po?Ge():Ve(),po=0}.bind(this),_n):Ge()}function We(){var e=Li.player.mediaPlayer.getElementsByClassName("togglePlayPause")[0],t=Li.player.mediaPlayer.getElementsByClassName("overlay-play-wrapper")[0],n=Li.player.mediaPlayer.getElementsByClassName("overlayBtnWrapper")[0],i=Li.player.mediaPlayer.getElementsByClassName("video-overlay")[0];e.addEventListener("click",Qe),t.addEventListener("click",Qe),n.addEventListener("click",Qe),i.addEventListener("click",Qe)}function He(){var e=Li.player.mediaPlayer.getElementsByClassName("togglePlayPause")[0],t=Li.player.mediaPlayer.getElementsByClassName("overlay-play-wrapper")[0],n=Li.player.mediaPlayer.getElementsByClassName("overlayBtnWrapper")[0],i=Li.player.mediaPlayer.getElementsByClassName("video-overlay")[0];e&&e.removeEventListener("click",Qe),t&&t.removeEventListener("click",Qe),n&&n.removeEventListener("click",Qe),i&&i.removeEventListener("click",Qe)}function Ze(){Gi||(gn(),ln())}function Je(){Gi||(vn(),sn())}function Xe(e){return new Promise(function(t){var n=e.pause();yi&&yi.onContentVideoPaused(),n?n.then(function(){t()}):t()})}function qe(){$i=Kn,Xe(Li.player.mediaVideo).then(function(){Ke()})}function Ke(){he(),brStyle(Li.buttonsOverlay.overlayPlayButton,{background:Ao});var e=Li.player.mediaPlayer.getElementsByClassName("togglePlayPause")[0];e.setAttribute("title","Play"),brStyle(e,{backgroundPosition:"-82px -8px"}),brStyle(Li.player.mediaControls,{display:"block"})}function _e(){be(),brStyle(Li.buttonsOverlay.overlayPlayButton,{background:Eo});var e=Li.player.mediaPlayer.getElementsByClassName("togglePlayPause")[0];e.setAttribute("title","Pause"),brStyle(e,{backgroundPosition:"-48px -8px"}),brStyle(Li.player.mediaControls,{display:"none"})}function $e(){li.getElementsByClassName("info-overlay")[0].style.display="none"}function et(){li.getElementsByClassName("overlay-info-close")[0].addEventListener("click",$e)}function tt(){li.getElementsByClassName("overlay-info-close")[0].removeEventListener("click",$e)}function nt(){Li.player.floatingMenu.addEventListener("click",rt)}function it(){Li.player.floatingMenu.removeEventListener("click",rt)}function ot(){Li.player.volumeButton.addEventListener("click",st)}function rt(){li.getElementsByClassName("info-overlay")[0].style.display="block"}function at(){Li.player.mediaVideo.volume=0,Li.player.mediaVideo.muted=!0,dt()}function lt(){Li.player.mediaVideo.volume=1,Li.player.mediaVideo.muted=!1,dt()}function st(){Li.player.mediaVideo.muted?lt():at()}function dt(){brStyle(Li.player.volumeButton,{backgroundPosition:(Li.player.mediaVideo.muted?"-115":"-100")+"px -10px"});var e=100*Li.player.mediaVideo.volume;Li.player.mediaVideo.muted?(brStyle(Li.player.activeVolume,{height:"0%"}),brStyle(Li.player.volumeHandle,{top:"100%"})):(brStyle(Li.player.activeVolume,{height:e+"%"}),brStyle(Li.player.volumeHandle,{top:Math.abs(100-e)+"%"}))}function ut(){var e=Math.floor(Li.player.mediaVideo.currentTime/Li.player.mediaVideo.duration*100),t=Li.player.mediaPlayer.clientWidth*e/100;brStyle(Li.player.playProgressBar,{width:t+"px"});var n=Li.player.mediaPlayer.clientWidth,i=Math.min(e*n/100,n-20);brStyle(Li.player.progressButton,{left:i+"px"})}function ct(){Li.player.mediaVideo.addEventListener("pause",ht)}function mt(){Li.player.mediaVideo.addEventListener("play",yt)}function pt(){Li.player.mediaVideo.removeEventListener("play",yt)}function yt(){S(),$i=qn,Hi=!0,yi&&yi.onContentPlay()}function gt(){Li.player.mediaVideo.addEventListener("volumechange",vt)}function vt(){yi&&yi.onContentVolumeChange()}function ft(){Li.player.mediaVideo.removeEventListener("volumechange",vt)}function ht(){yi&&yi.onContentVideoPaused()}function bt(){Li.player.mediaVideo.addEventListener("pause",ht)}function At(){Li.player.mediaVideo.addEventListener("ended",xt)}function Et(){Li.player.mediaVideo.removeEventListener("ended",xt)}function wt(){ne()}function xt(){yi&&yi.onVideoEnd(),window.playerLog("onVideoEnd"),kt(),qi=0,di&&Rn()}function kt(){di?Bi.isPlaylistFinished()&&(window.playerLog("playlist finished"),!1!==vi&&vi--):!1!==vi&&vi--,window.playerLog("decreaseRepeatCounter","Repeat counter",vi)}function Lt(){return!1===vi||vi>=0}function Bt(){Li.player.mediaVideo.addEventListener("timeupdate",It)}function Ct(){Li.player.mediaVideo.removeEventListener("timeupdate",It)}function It(){St(),ut(),zt(),yi&&Hi&&Li.player.mediaVideo.currentTime>0&&yi.onContentTimeUpdate(Li.player.mediaVideo.currentTime)}function St(){if(io&&((t=_(io,Math.floor(Vt())))&&t.url?(Ji!=t.url&&Mt(),Ji=t.url,Nt()):(Ji=null,Tt())),di){var e=Bi.getCurrentVideoObj();if(e.links&&e.links.length){var t=_(e.links,Math.floor(Vt()));t&&t.url?(Ji!=t.url&&Mt(),Ji=t.url,Nt()):(Ji=null,Tt())}}}function Mt(){var e=li.getElementsByClassName("links-button");e.length&&(e[0].classList.add("highlight"),setTimeout(function(){e[0].classList.remove("highlight"),setTimeout(function(){e[0].classList.add("highlight"),setTimeout(function(){e[0].classList.remove("highlight")},250)},100)},250))}function Nt(){li.getElementsByClassName("links-overlay").length&&(li.getElementsByClassName("links-overlay")[0].style.display="block")}function Tt(){li.getElementsByClassName("links-overlay").length&&(li.getElementsByClassName("links-overlay")[0].style.display="none")}function Vt(){return Li.player.mediaVideo.currentTime}function zt(){Li.player.currentTime.innerHTML=convertSecondsToTimeFormat(Li.player.mediaVideo.currentTime)}function Pt(){Li.player.mediaVideo.buffered.length>0&&brStyle(Li.player.bufferBar,{width:Li.player.mediaVideo.buffered.end(0)/Li.player.mediaVideo.duration*100+"%"})}function jt(){for(var e=0;e<eo.length;e++)Li.player.mediaVideo.addEventListener(eo[e],Pt)}function Rt(){jt(),Gi?Dt():(Wt(),_t(),Gt(),cn())}function Ft(e){Ii=!0,Qt(e.pageX)}function Dt(){for(var e=[Li.player.progressBar,Li.player.progressButton],t=0;t<e.length;t++)e[t].addEventListener("click",Ft)}function Ut(){for(var e=[Li.player.progressBar,Li.player.progressButton],t=0;t<e.length;t++)e[t].removeEventListener("click",Ft)}function Yt(e){Ii=!0,Qt(e.pageX)}function Ot(){for(var e=[Li.player.progressBar,Li.player.progressButton],t=0;t<e.length;t++)e[t].removeEventListener("mousedown",Yt)}function Gt(){for(var e=[Li.player.progressBar,Li.player.progressButton],t=0;t<e.length;t++)e[t].addEventListener("mousedown",Yt)}function Qt(e){var t=Li.player.mediaVideo.duration,n=100*(e-Li.player.playProgressBar.getBoundingClientRect().left)/Li.player.mediaPlayer.clientWidth;n=isFinite(n)?n:100,n=Math.max(Math.min(n,100),Math.max(0,n));var i=Li.player.mediaPlayer.clientWidth*n/100;Li.player.mediaVideo.currentTime=t*n/100;var o=Li.player.mediaPlayer.clientWidth;brStyle(Li.player.playProgressBar,{width:i+"px"});var r=Math.min(n*o/100,o-20),a=convertSecondsToTimeFormat(Li.player.mediaVideo.currentTime);window.playerLog("setBarByDrag","Current time",a),brStyle(Li.player.progressButton,{left:r+"px"}),yi&&yi.OnContentTimeUpdateByUser(Li.player.mediaVideo.currentTime)}function Wt(){Zt(),qt()}function Ht(e){Ii&&(Ii=!1,Qt(e.pageX))}function Zt(){document.addEventListener("mouseup",Ht)}function Jt(){document.removeEventListener("mouseup",Ht)}function Xt(e){Si&&(Si=!1,un(e.y&&e.y>0?e.y:e.pageY))}function qt(){document.addEventListener("mouseup",Xt)}function Kt(){document.removeEventListener("mouseup",Xt)}function _t(){en(),on()}function $t(e){Ii&&Qt(e.pageX)}function en(){document.addEventListener("mousemove",$t)}function tn(){document.removeEventListener("mousemove",$t)}function nn(e){Si&&un(e.y&&e.y>0?e.y:e.pageY)}function on(){document.addEventListener("mousemove",nn)}function rn(){document.removeEventListener("mousemove",nn)}function an(e){Si=!0,Li.player.mediaVideo.muted&&st(),un(e.y&&e.y>0?e.y:e.pageY)}function ln(){for(var e=[Li.player.volumeBar,Li.player.volumeHandle,Li.player.volumeContainer],t=0;t<e.length;t++)e[t].addEventListener("mousedown",an)}function sn(){for(var e=[Li.player.volumeBar,Li.player.volumeHandle,Li.player.volumeContainer],t=0;t<e.length;t++)e[t].removeEventListener("mousedown",an)}function dn(e){var t=100*e,n=100-t;brStyle(Li.player.activeVolume,{height:t+"%"}),brStyle(Li.player.volumeHandle,{top:Math.abs(n)+"%"}),Li.player.mediaVideo.volume=e,0==Li.player.mediaVideo.volume&&0==Li.player.mediaVideo.muted&&at()}function un(e){var t=100-100*(e-li.getElementsByClassName("volume-bar")[0].getBoundingClientRect().top)/Li.player.volumeBar.getBoundingClientRect().height;t=isFinite(t)?t:100,dn((t=Math.max(0,Math.min(t,100)))/100)}function cn(){var e=li.getElementsByClassName("trv-progress-bar")[0];e.addEventListener("mouseenter",pn),e.addEventListener("mouseleave",yn)}function mn(){var e=li.getElementsByClassName("trv-progress-bar")[0];e.removeEventListener("mouseenter",pn),e.removeEventListener("mouseleave",yn)}function pn(){brStyle(this,{height:"6px",marginTop:"-3px"}),brStyle(li.getElementsByClassName("trv-play-progress")[0],{height:"6px"}),brStyle(li.getElementsByClassName("trv-progressBtn")[0],{height:"20px",width:"20px",top:"-8px"})}function yn(){brStyle(this,{height:"3px",marginTop:"0px"}),brStyle(li.getElementsByClassName("trv-play-progress")[0],{height:"3px"}),brStyle(li.getElementsByClassName("trv-progressBtn")[0],{height:"3px",width:"3px",top:"0px"})}function gn(){Li.player.volumeButton.addEventListener("mouseenter",fn),Li.player.volumeContainer.addEventListener("mouseenter",fn),Li.player.volumeButton.addEventListener("mouseleave",hn),Li.player.volumeContainer.addEventListener("mouseleave",hn)}function vn(){Li.player.volumeButton.removeEventListener("mouseenter",fn),Li.player.volumeContainer.removeEventListener("mouseenter",fn),Li.player.volumeButton.removeEventListener("mouseleave",hn),Li.player.volumeContainer.removeEventListener("mouseleave",hn)}function fn(){brStyle(Li.player.volumeContainer,{display:"block"})}function hn(){brStyle(Li.player.volumeContainer,{display:"none"})}function bn(){li.dispatchEvent(new CustomEvent("playerReady")),"#"!=xi&&xi&&yi&&yi.firePixel(xi),Qi&&(window.addEventListener("resize",En),window.addEventListener("orientationchange",En))}function An(e){600>e?Li.player.title.style.display="none":(Li.player.title.style.display="inline-block",Li.player.title.style.width=e-250+"px")}function En(){Q();var e=Ce(),t=getElementDimension(li);if(An(t.width),window.playerLog("onWindowsResize",t),ii)t&&yi&&yi.resizeAd(t.width,t.height);else if(Li.player.mediaVideo.src.indexOf("_240.mp4")&&e&&Bi&&!$n){var n=Bi.getFileToPlay();if(Li.player.mediaVideo.src!=n.url){yi.destroyBiddingSession(),wn(n.url,!0)}}k(t.width,t.height),yi&&yi.syncContentDimensions(t.width,t.height)}function wn(e,t){return new Promise(function(n,i){function o(){z(),Li.player.mediaVideo&&Li.player.mediaVideo.readyState>=2&&(lo=Li.player.mediaVideo.duration,Li.player.vidDuration.innerHTML=convertSecondsToTimeFormat(Li.player.mediaVideo.duration));r(!0)}if(q())$n=!1,n();else{$n=!0;var r=function(e){e&&(window.playerLog("restore time "+qi),Li.player.mediaVideo.currentTime=qi),Li.player.mediaVideo.removeEventListener("loadedmetadata",o),yi?void 0!==yi.getAllowedToStartNewVideos&&yi.getAllowedToStartNewVideos()&&Hi&&$i==qn?Yn(Li.player.mediaVideo).then(function(){K(),_e()}).catch(function(){Ke()}):Ke():$i==qn?Yn(Li.player.mediaVideo).then(function(){_e()}).catch(function(){Ke()}):Ke(),Li.player.mediaVideo.style.display="block",dt(),$n=!1,n()};Li.player.mediaVideo.currentSrc!=e?(t&&(qi=Li.player.mediaVideo.currentTime),Xe(Li.player.mediaVideo).then(function(){Li.player.mediaVideo.addEventListener("loadedmetadata",o),Li.player.mediaVideo.src=e,Li.player.mediaVideo.load()})):(qi=0,$n=!1,r(!0))}})}function xn(){return Mi+"//www.truvid.com/results/"}function kn(e){return e.preventDefault(),Cn(e),!1}function Ln(){li.addEventListener("contextmenu",kn),Li.player.overlay.addEventListener("contextmenu",kn)}function Bn(){li.removeEventListener("contextmenu",kn),Li.player.overlay.removeEventListener("contextmenu",kn)}function Cn(e){In();var t=Sn(e);t.appendChild(Tn()),t.appendChild(Vn()),li.parentNode.appendChild(t)}function In(){var e=document.getElementById("context-menu-"+li.id);e&&li.parentNode.removeChild(e)}function Sn(e){var t=document.createElement("div"),n=Mn(e);return t.id="context-menu-"+li.id,brStyle(t,{top:li.offsetTop+e.offsetY+n.y+"px",left:li.offsetLeft+e.offsetX+n.x+"px"}),Nn(t),t}function Mn(e){var t={y:0,x:0};if(e.target==li)return t;for(var n=e.target;n!=li;){if(n==Li.player.mediaControls||n==Li.buttonsOverlay.overlay.firstChild){t={y:n.offsetTop,x:e.target.offsetLeft};break}n=n.parentNode}return t}function Nn(e){var t=function(){window.removeEventListener("click",t),window.removeEventListener("mousemove",i),e&&e.parentNode==li.parentNode&&li.parentNode.removeChild(e)},n=function(){window.removeEventListener("mousemove",i),e&&e.parentNode==li.parentNode&&li.parentNode.removeChild(e)},i=function(){o=clearTimeout(o),o=setTimeout(n,1500)},o=setTimeout(n,1500),r=e.style.backgroundColor;window.addEventListener("click",t),window.addEventListener("mousemove",i),e.addEventListener("click",function(){window.open("http://www.truvid.com","_blank")});var a=function(t){brStyle(e,{backgroundColor:"mouseenter"==t.type?"black":r})};e.addEventListener("mouseenter",a),e.addEventListener("mouseleave",a)}function Tn(){var e=document.createElement("div"),t=document.createElement("div");return e.className="context-menu-icon-container",t.className="context-menu-icon",e.appendChild(t),e}function Vn(){var e=document.createElement("div"),t=document.createElement("div");return e.className="context-menu-text-container",t.className="context-menu-text",t.innerHTML='Powered by truvid<span style="font-size: 10px;line-height:15px;">&trade;</span>',e.appendChild(t),e}function zn(){var e,t,n,i,o,r,a,l,s,d,u=ji.padding;if(ji.value){switch(e="fixed",d=10,ji.floaterPosition){case"top-right":t="auto",n="0px",i=15+u+"px",o="auto";break;case"top-left":t="auto",n="auto",i=15+u+"px",o="0px";break;case"bottom-right":t=0+u+"px",n="0px",i="auto",o="auto";break;case"bottom-left":t=0+u+"px",n="auto",i="auto",o="0px";break;case"left-center":o="0px",i=document.documentElement.clientHeight/2-ji.height/2+"px",n="auto",t="auto";break;case"right-center":o="auto",i=document.documentElement.clientHeight/2-ji.height/2+"px",n="0px",t="auto";break;default:t=0+u+"px",n="0px",i="auto",o="auto"}r=ji.width+"px",a=ji.height+"px",s="0px",l="0px"}else e="relative",t="auto",n="auto",i="auto",o="auto",d=1,Qi?(r="100%",l=(ci/ui*100).toFixed(2)+"%",a="0px",s="0px"):(r=ui+"px",s="0px",a=ci+"px",l="0px");brStyle(li,{position:e,top:i,left:o,bottom:t,right:n,width:r,height:{value:a,important:!0},paddingBottom:l,paddingTop:s}),d>1?li.classList.add("trvdfloater"):li.classList.remove("trvdfloater")}function Pn(){Gi?brStyle(Li.player.mediaControls,{display:ji.value?"none":"block"}):brStyle(Li.player.mediaControls,{width:"100%"})}function jn(){if(Bi){var e=Fn();Bi.backward(),ie(),Un(e)}}function Rn(){if(Bi){var e=Fn();Bi.forward(),ie(),Un(e)}}function Fn(){var e=Dn();return e&&(0==vi&&(vi=fi),Ni=!1),e}function Dn(){return Bi&&Bi.isPlaylistFinished()&&(!gi||!Lt())}function Un(e){if(qi=0,ti=!1,Bi){var t=Bi.getFileToPlay();e&&($i=Xn,wt(),li.dispatchEvent(new CustomEvent("loopEnds"))),wn(t.url).then(function(){Li.player.vidDuration.innerHTML=convertSecondsToTimeFormat(Li.player.mediaVideo.duration),ue(),Tt(),U()}),lo=Bi.getCurrentVideoDuration()}yi&&(yi.onVideoEnd(),yi.onNewVideo())}function Yn(e){return new Promise(function(t,n){!function(){var i=function(o){e.removeEventListener("playing",i),e.removeEventListener("timeupdate",i),window.playerLog("playing callback"),e.paused?n():(K(),t())},o=function(){e.removeEventListener("playing",i),e.removeEventListener("timeupdate",i),n()};e.addEventListener("playing",i),e.addEventListener("timeupdate",i),window.playerLog("play video element");var r=e.play();r?r.then(i).catch(o):setTimeout(function(){e.removeEventListener("playing",i),e.removeEventListener("timeupdate",i),n()},5e3)}()})}var On,Gn,Qn,Wn,Hn=1,Zn=2,Jn=3,Xn=1,qn=2,Kn=3,_n=400,$n=!1,ei="240",ti=!1,ni=this,ii=!1,oi=0,ri="",ai="",li=null,si=null,di=!1,ui=0,ci=0,mi=!1,pi=!1,yi=null,gi=!1,vi=!1,fi=!1,hi=!1,bi=!1,Ai="#000000",Ei="#",wi=null,xi="#",ki={},Li={},Bi=null,Ci=null,Ii=!1,Si=!1,Mi="",Ni=!0,Ti="",Vi=!1,zi=!1,Pi=3,ji={value:!1,width:!1,height:!1,isResponsive:!1},Ri=!1,Fi=!1,Di="",Ui=null,Yi=!1,Oi=!1,Gi=x(),Qi=!1,Wi=!1,Hi=!0,Zi=!1,Ji=null,Xi=null,qi=0,Ki=null,_i=null,$i=null,eo=["progress","loaddata","canplaythrough","playing","waiting"],to=!0,no=!1,io=null,oo=null,ro=null,ao=!1,lo=0,so=!1,uo=null,co=null,mo=0,po=0,yo=!1,go=!1,vo="",fo="",ho="",bo={bgSize:45,
bg:"url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMjguMDggMzAuNTYiPjxkZWZzPjxzdHlsZT4uY2xzLTF7aXNvbGF0aW9uOmlzb2xhdGU7fS5jbHMtMntmaWxsOiMzZGIxZTU7fS5jbHMtMywuY2xzLTR7bWl4LWJsZW5kLW1vZGU6bXVsdGlwbHk7fS5jbHMtM3tmaWxsOnVybCgjbGluZWFyLWdyYWRpZW50KTt9LmNscy00e2ZpbGw6dXJsKCNsaW5lYXItZ3JhZGllbnQtMik7fS5jbHMtNXtmaWxsOnVybCgjbGluZWFyLWdyYWRpZW50LTMpO308L3N0eWxlPjxsaW5lYXJHcmFkaWVudCBpZD0ibGluZWFyLWdyYWRpZW50IiB4MT0iNDcxLjk2IiB5MT0iOTY1Ljc2IiB4Mj0iNDc2LjQ0IiB5Mj0iOTY1Ljc2IiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDk5MS45MiAtNDMwLjY3KSByb3RhdGUoOTApIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIxIi8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImxpbmVhci1ncmFkaWVudC0yIiB4MT0iLTM0IiB5MT0iOTY1Ljc2IiB4Mj0iLTI5LjUyIiB5Mj0iOTY1Ljc2IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDAsIC0xLCAtMSwgMCwgOTkxLjkyLCAtNS4zMykiIHhsaW5rOmhyZWY9IiNsaW5lYXItZ3JhZGllbnQiLz48bGluZWFyR3JhZGllbnQgaWQ9ImxpbmVhci1ncmFkaWVudC0zIiB4MT0iMjMuMzUiIHkxPSIzNC45NSIgeDI9IjUxLjQzIiB5Mj0iMzQuOTUiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM0MThmY2QiLz48c3RvcCBvZmZzZXQ9IjAuNTMiIHN0b3AtY29sb3I9IiMzZGJhZWIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMyMTQwODAiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48dGl0bGU+ZmluYWxfbG9hZGVyX2xvZ288L3RpdGxlPjxnIGNsYXNzPSJjbHMtMSI+PGcgaWQ9IkxheWVyXzYiIGRhdGEtbmFtZT0iTGF5ZXIgNiI+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNMjguMiwyNS45NWMtMS4yNC43Mi0xLjQ2LDIuNzItMS40NiwyLjcycy0zLjExLTEuNjUtMy4xNy0yLC40Ny0yLjc5LDEuNzUtMi4zOWExMC42NSwxMC42NSwwLDAsMSwyLjg3LDEuNzJaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjMuMzUgLTE5LjY3KSIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTI4LjIsNDRjLTEuMjQtLjcyLTEuNDYtMi43Mi0xLjQ2LTIuNzJzLTMuMTEsMS42NS0zLjE3LDIsLjQ3LDIuNzksMS43NSwyLjM5QTEwLjY1LDEwLjY1LDAsMCwwLDI4LjIsNDRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjMuMzUgLTE5LjY3KSIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTI4LjIsNDRjLTEuMjQtLjcyLTEuNDYtMi43Mi0xLjQ2LTIuNzJzLTMuMTEsMS42NS0zLjE3LDIsLjQ3LDIuNzksMS43NSwyLjM5QTEwLjY1LDEwLjY1LDAsMCwwLDI4LjIsNDRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjMuMzUgLTE5LjY3KSIvPjxwYXRoIGNsYXNzPSJjbHMtNCIgZD0iTTI4LjIsMjUuOTVjLTEuMjQuNzItMS40NiwyLjcyLTEuNDYsMi43MnMtMy4xMS0xLjY1LTMuMTctMiwuNDctMi43OSwxLjc1LTIuMzlhMTAuNjUsMTAuNjUsMCwwLDEsMi44NywxLjcyWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIzLjM1IC0xOS42NykiLz48cGF0aCBjbGFzcz0iY2xzLTUiIGQ9Ik01MS40MiwzNC45NWMuNTktLjI2LTE3LjA1LTE1LjI4LTIxLjk1LTE1LjI4aDBjLS43OC4wNi00LjU0LDMuNi01LjQ1LDQuNy0xLjEzLDEuMzctLjQyLDIuMjktLjQyLDIuMjl2MGMuNDItNi4wNywxNi45NCw4LjMyLDE2Ljk0LDguMzJTMjQsNDkuMzQsMjMuNTcsNDMuMjd2MHMtLjcxLjkyLjQyLDIuMjljLjkxLDEuMSw0LjY2LDQuNjQsNS40NSw0LjdoMEMzNC4zNyw1MC4yMiw1MiwzNS4yMSw1MS40MiwzNC45NVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMy4zNSAtMTkuNjcpIi8+PC9nPjwvZz48L3N2Zz4=)",spinnerSize:90,em:2.813,border:2.813*.11},Ao='url("data:image/png;base64,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")',Eo='url("data:image/png;base64,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")';this.setup=function(e){a(e),s(),d(),B(),T(),pi&&at(),q()||(P(),G(),j(),xe()),L().then(function(){bn(),o()})},this.playContent=function(){e()},this.removePlayerListeners=function(){r(),ke()},this.onReady=function(e,t){document.getElementById(e.replace(/^#/,"")).addEventListener("playerReady",function(){window.playerLog("onReady","Player ready",ni),t&&t()})},this.onBiddingSessionStarts=function(e){var t=function(){e&&e()};document.getElementById(ri).addEventListener("onBiddingSessionStart",t)},this.onBiddingSessionsEnd=function(e){var t=function(){e&&e()};document.getElementById(ri).addEventListener("onBiddingSessionsEnd",t)},this.onAdEnd=function(e){var t=function(){e&&e()};document.getElementById(ri).addEventListener("endAd",t)},this.removeContentSource=function(){Li.player.mediaVideo.src="",Li.player.mediaVideo.load()},this.onAdStoppedAfterLoadEvent=function(e){var t=function(){e&&e()};document.getElementById(ri).addEventListener("adStoppedAfterLoad",t)},this.onAdLoaded=function(e){var t=function(){e&&e()};document.getElementById(ri).addEventListener("adLoaded",t)},this.onContentShown=function(e){document.getElementById(ri).addEventListener("onContentShown",function(){e&&e()})},this.onAdStarted=function(e){document.getElementById(ri).addEventListener("adStarted",function(){e&&e(yi.getCurrentAdDuration())})},this.onUserMediaPause=function(e){document.getElementById(ri).addEventListener("onUserMediaPause",function(){e&&e()})},this.onUserMediaPlay=function(e){document.getElementById(ri).addEventListener("onUserMediaPlay",function(){e&&e()})},this.onLoopEnds=function(e){li.addEventListener("loopEnds",function(){e&&e()})},this.play=function(){$i=qn,ii&&yi?yi.resumeAd():(Hi=!0,e())},this.pause=function(){$i=Kn,ii&&yi?yi.pauseAd():(qe(),this.killBiddingSession())},this.skip=function(){ii&&yi&&yi.skipAd()},this.startPendingAd=function(){window.playerLog("start pending ad","Start ad"),ii=!0,yi&&yi.startPendingAd()},this.inflatePlayer=function(){ki.getters.isResponsive()?brStyle(li,{height:"100%"}):brStyle(li,{height:ci+"px"})},this.widgetToFloater=function(e,t,n,i,o,r){ji.value=e,ji.width=t,ji.height=n,ji.isResponsive=i,ji.padding=r,ji.floaterPosition=o,zn(),Pn(),yi&&yi.widgetToFloater(),An(getElementDimension(li).width)},this.playerState=function(){return ii?yi.advertisingState():{paused:Li.player.mediaVideo.paused||Li.player.mediaVideo.ended}},this.onPassbackSwitch=function(e){li.addEventListener("passbackSwitch",function(){window.playerLog("onPassbackSwitch","Switch to passback"),e&&e()})},this.stopFutureBiddings=function(){yi&&yi.removeEventSubscribers()},this.killBiddingSession=function(){r()},this.updateViewability=function(e){Zi=e,yi&&yi.onViewabilityChange(e)}};CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent,String.prototype.substring||(String.prototype.substring=function(e,t){t=t||this.length;for(var n="";t>e;e++)n+=this.charAt(e);return n});var Playlist=function(e,t){function i(){for(var e=0;e<o.length;e++)o[e].files.sort(function(e,t){return e.res-t.res})}function r(e){s=e}var n=this,s=0,o=t;this.setup=function(){i()},this.forward=function(){r(s==o.length-1?0:s+1)},this.backward=function(){r((0==s?o.length:s)-1)},this.getCurrentVideoObj=function(){return o[s]},this.getCurrentVideoUrl=function(){return this.getFileToPlay().url},this.getCurrentVideoFileName=function(){return o[s].vf},this.getCurrentVideoPoster=function(){return o[s].poster},this.getTotalVideos=function(){return o.length},this.getFileToPlay=function(){for(var t=this.getCurrentVideoObj(),i=null,r=e.getters.getCurrentResolution(),n=e.getters.getMaxResolution(),s=!1,o=0;o<t.files.length&&(1080==t.files[o].res&&(t.files[o].res=480),!n||t.files[o].res<=n);o++)e.getters.canPlayType(t.files[o].type)&&(i?t.files[o].res==i.res&&void 0!==t.files[o].size&&void 0!==i.size&&t.files[o].size<i.size?i=t.files[o]:t.files[o].res>i.res&&t.files[o].res<=r?i=t.files[o]:i.res>r||t.files[o].res<=r||s||t.files[o].res>r+180||(i=t.files[o],s=!0):i=t.files[o]);if(!i)for(o=0;o<t.files.length;o++)e.getters.canPlayType(t.files[o].type)&&(i=t.files[o]);return i},this.isPlaylistFinished=function(){return s==this.getTotalVideos()-1},this.getCurrentVideoDuration=function(){var e=this.getCurrentVideoObj();return e.dur?e.dur:0},this.getCurrentVideoDescription=function(){var e=this.getCurrentVideoObj();return e.dn?e.dn:""},this.getCurrnetVideoLanguageId=function(){var e=n.getCurrentVideoObj();return void 0!==e.lng?e.lng:0},this.getCurrentVideoLanguage2LettersCode=function(){var e=n.getCurrentVideoObj();return void 0!==e.lng?e.lng:""}};var AdController=function(e,t,n,o){this.playerElement=document.getElementById(e.getters.elemId()),this.controllerId="truvid_cnt_controller",this.hideControllerTimeout=null,this.adControllerTimerInterval=null,this.adContainer=t,this.playerAccessor=e,this.allowSkip=o&&void 0!==o.allowSkip&&1==o.allowSkip;var l=document.createElement("div"),r=document.createElement("style"),i="opacity 0.2s ease-in-out";l.id=this.controllerId,l.innerHTML+='<button class="controller-playPause brpBtn sprite-background" type="button" title="play">Play</button><button class="controller-volume brpBtn sprite-background" type="button" title="volume">volume</button><button class="controller-BR brpBtn sprite-background" onclick="window.open(\'http://www.truvid.com\', \'_blank\');" type="button" title="Truvid.com">Truvid</button><span class="controller-timer">00:00</span>',this.allowSkip&&(l.innerHTML+='<button class="controller-skip brpBtn" type="button" title="skip">Skip</button>'),l.innerHTML+='<span class="controller-title">Ad</span>';var a="#"+this.playerElement.id+" #"+l.id+" { position: absolute; bottom: -100%; left: 0px; z-index: 50000; width: 100%; background-color: rgba(15, 20, 22, 0.2); color: #FCFCFC; font-size: 10pt; text-align: left; height: 38px;";e.getters.isMobile()&&(a+="-webkit-transition: "+i+"; -moz-transition: "+i+"; -o-transition; "+i+"; transition: "+i+"; -ms-transition: "+i+";"),a+="}#"+this.playerElement.id+" #"+l.id+" .controller-playPause { background-position: -48px -8px; height: 22px; margin-left: 20px; margin-right: 4px; transition: none; float: none; }#"+this.playerElement.id+" #"+l.id+" .controller-volume { background-position: -"+(0==this.playerAccessor.getters.currentVolume()?"115":"100")+"px -10px; line-height: normal; margin-right: 12px; margin-left: 12px; transition: none; float: none; }#"+this.playerElement.id+" #"+l.id+" .controller-BR { background-position: 0px -8px; width: 22px; height: 22px; margin-left: 12px; margin-right: 12px; float: right; transition: none; }",a+="#"+this.playerElement.id+" #"+l.id+">span { float: right; line-height: 22px; font-size: 10pt; color: #FCFCFC; font-family: arial; margin-top: 10px; }#"+this.playerElement.id+" #"+l.id+" .controller-timer { line-height: 22px; vertical-align: inherit; cursor: default; display: block ; }#"+this.playerElement.id+" #"+l.id+" .controller-title { margin-right: 12px; white-space: nowrap; text-overflow: ellipsis; overflow: hidden; vertical-align: inherit; cursor: default; }#"+this.playerElement.id+" #"+l.id+" .controller-skip { text-indent: 0;width:25px;color:#fff;}",r.innerHTML=a,l.appendChild(r),this.playerElement.appendChild(l);var s=[l];this.adContainer.getContainerId()?s.push(document.getElementById(this.adContainer.getContainerId())):s.push(this.playerElement);var d=function(e){this.show()}.bind(this),p=function(){this.hide()}.bind(this);if(e.getters.isMobile()||e.getters.getIsAdControlBarPermanent())this.show();else{for(m=0;m<s.length;m++)s[m]&&(s[m].addEventListener("mousemove",d),s[m].addEventListener("mouseenter",d),e.getters.isMobile()||s[m].addEventListener("mouseleave",p));if(n)for(var m=0;m<n.length;m++)n[m]&&(n[m].addEventListener("mousemove",d),n[m].addEventListener("mouseenter",d),e.getters.isMobile()||n[m].addEventListener("mouseleave",p))}l.getElementsByClassName("controller-playPause")[0].addEventListener("click",function(){this.adContainer.isCurrentAdPaused()?this.playerElement.dispatchEvent(new CustomEvent("onUserMediaPlay")):this.playerElement.dispatchEvent(new CustomEvent("onUserMediaPause")),this.adContainer.togglePlayPause()}.bind(this)),l.getElementsByClassName("controller-volume")[0].addEventListener("click",function(){var t=0==e.getters.currentVolume()?1:0;this.adContainer.setAdVolume(t),brStyle(l.getElementsByClassName("controller-volume")[0],{backgroundPosition:"-"+(0==t?"115":"100")+"px -10px"})}.bind(this)),this.allowSkip&&l.getElementsByClassName("controller-skip")[0].addEventListener("click",function(){this.adContainer.skipAd()}.bind(this));var c=this.adContainer.getAdRemainingTime();0>c&&(c=0),c?l.getElementsByClassName("controller-timer")[0].innerHTML=convertSecondsToTimeFormat(Math.floor(c)):brStyle(l.getElementsByClassName("controller-timer")[0],{display:"none"}),this.adControllerTimerInterval=setInterval(function(){var e=l.getElementsByClassName("controller-timer");if(e.length>0)if(this.adContainer.isStopped())clearInterval(this.adControllerTimerInterval);else{var t=this.adContainer.getAdRemainingTime();0>t&&(t=0),t?(brStyle(l.getElementsByClassName("controller-timer")[0],{display:"block"}),e[0].innerHTML=convertSecondsToTimeFormat(t)):brStyle(l.getElementsByClassName("controller-timer")[0],{display:"none"})}}.bind(this),1e3)};AdController.prototype.hide=function(){var e=document.getElementById(this.controllerId);brStyle(e,{bottom:"-100%"})},AdController.prototype.show=function(){var e=document.getElementById(this.controllerId);brStyle(e,{bottom:"0"})},AdController.prototype.pause=function(){brStyle(this.playerElement.getElementsByClassName("controller-playPause")[0],{backgroundPosition:"-82px -8px"})},AdController.prototype.play=function(){brStyle(this.playerElement.getElementsByClassName("controller-playPause")[0],{backgroundPosition:"-48px -8px"})},AdController.prototype.setVolume=function(e){brStyle(this.playerElement.getElementsByClassName("controller-volume")[0],{backgroundPosition:"-"+(0==e?"115":"100")+"px -10px"})},AdController.prototype.destroy=function(){var e=document.getElementById(this.controllerId);e&&e.parentNode.removeChild(e),clearInterval(this.adControllerTimerInterval)};var TruvidAd=function(i,t,e){function n(i,t,n){for(var s=e,a=[];s.length;){var r=s.shift(),o=i.getBestMedia({width:t,height:n},r);o&&a.push(new MediaFile(r,o,i.adParameters))}return a}var s=this;this.adObject=i,this.tagUrl=t;var a;i&&(a=JSON.parse(i.getLinear().adParameters)),this.demandTagId=a?a.dtid:null,this.type=a?a.dt:null,this.controlBar=!!a&&a.cb,this.priority=a?a.priority:null,this.disableTimeout=!!a&&(void 0!==a.dist&&1==a.dist),this.mediaFiles=[],this.loadingContainerTimeout=a?a.t:8,this.loadingContainerTimeoutId=null,this.adManager=null,this.stopped=!1,this.tracking=null,this.clickThrough=null,this.firedViewabilityPixel=!1,this.isLoaded=!1,e&&(this.allowedContainers=e.slice(0)),this.setLoaded=function(i){this.isLoaded=i},this.getIsLoaded=function(){return this.isLoaded},this.requestMediaFiles=function(i,t,e,n){this.tracking=this.adObject?this.adObject.linear.tracking:null,this.playerWidthOnRequest=i,this.playerHeightOnRequest=t,this.onTagFetched=e,this.onTagError=n,window.playerLog("fetch "+this.tagUrl),queryVAST(this.tagUrl,this.onTagVastFetch,this.onTagVastError,this.adObject)},this.firePixels=function(i){this.tracking.track(i),window.playerLog("notifyPixelsFire",i)},this.fireViewability=function(){this.firedViewabilityPixel||(this.firedViewabilityPixel=!0,this.firePixels("viewability"))},this.onTagVastFetch=function(i){if(i.ads.length)for(var t=0;t<i.ads.length;t++){var e=i.ads[t];s.getMediaFilesFromAdResponse(e,s.playerWidthOnRequest,s.playerHeightOnRequest)}s.onTagFetched&&"function"==typeof s.onTagFetched&&s.onTagFetched(this)},this.getMediaFilesFromAdResponse=function(i,t,e){var a=i.getLinear();if(s.tracking=a.tracking,s.clickThrough=a.clickThrough,a)for(var r=n(a,t,e),o=0;o<r.length;o++)s.mediaFiles.push(r[o])},this.onTagVastError=function(i){s.onTagError&&"function"==typeof s.onTagError&&s.onTagError(this)},this.getDemandTagId=function(){return this.demandTagId},this.getLoadingContainerTimeout=function(){return this.loadingContainerTimeout},this.clearLoadingContainerTimeout=function(){this.loadingContainerTimeoutId>0&&(window.playerLog("clearing loading container timeout "+this.loadingContainerTimeoutId),clearTimeout(this.loadingContainerTimeoutId))},this.isStopped=function(){return this.stopped},this.setStopped=function(){this.stopped=!0},this.showControlBar=function(){return this.controlBar},this.shiftPrioritizedMediaFiles=function(){return this.mediaFiles.shift()},this.setLoadingContainerTimeoutId=function(i){this.loadingContainerTimeoutId=i},this.setAdManager=function(i){this.adManager=i},this.getAdManager=function(){return this.adManager}},MediaFile=function(i,t,e){this.type=i,this.mediaFile=t,this.adParameters=e,this.isVAST=function(){return"video/mp4"==this.type},this.isIMA=function(){return"google/ima"==this.type},this.isVPAID=function(){return"application/javascript"==this.type},this.isSpotX=function(){return"spotsdk"==this.type}};var ImaManager=function(e,i){function t(e){if(window.playerLog("ima onAdStarted"),!O){window.playerLog("ima inside onAdStarted"),O=!0,U&&(window.playerLog("ima set volume 0"),T.setVolume(0),N=0);var i=document.getElementById(p);if(i&&brStyle(i,{zIndex:D}),e){a();var t=T.getVolume();I.setVolume(t),w.resizeAd(0,0)}w.onAdStarted()}setTimeout(function(){w.resizeAd(0,0)},1e3)}function o(){S=!1,T.resume()}function n(){if(window.playerLog("ima toggle play pause"),S?(T.resume(),S=!1):(T.pause(),S=!0),S?I&&I.pause():I&&I.play(),S){var e=document.getElementById(p);brStyle(e,{bottom:"0"})}}function a(){I||(I=new AdController(L,R))}function d(){window.playerLog("ima set ima ads request");var e=w.getRequestWidth(),i=w.getRequestHeight(),t=new google.ima.AdsRequest;return t.adTagUrl=M,t.linearAdSlotWidth=e,t.linearAdSlotHeight=i,t.nonLinearAdSlotWidth=e,t.nonLinearAdSlotHeight=Math.round(.375*i),t.forceNonLinearFullSlot=!1,t.vastLoadTimeout=C,t.setAdWillAutoPlay(!0),U=!1,P.muted?U=!0:0==P.volume?U=!0:t.setAdWillPlayMuted(!1),t}function r(){if(!v.isStopped()&&!v.getIsLoaded()){v.setLoaded(!0),clearTimeout(y),window.playerLog("ima AD LOADED"),v.firePixels("available");var e=document.getElementById(p);e&&brStyle(e,{display:"block"});w.onAdLoaded(!1),window.playerLog("ima loaded")}}function l(e,i){if(!v.isStopped()){window.playerLog("ima onIMAAdsManagerLoaded");var o=new google.ima.AdsRenderingSettings;o.loadVideoTimeout=h,o.restoreCustomPlaybackStateOnAdBreakComplete=!1;var a=["video/mp4"];P.canPlayType("video/webm")&&(window.playerLog("ima can play video webm"),a.push("video/webm")),o.mimeTypes=a,T=e.getAdsManager(P,o),P.muted?T.setVolume(0):T.setVolume(P.volume),T.addEventListener(google.ima.AdEvent.Type.CLICK,function(){window.playerLog("ima CLICK"),v.firePixels("click"),S?c.dispatchEvent(new CustomEvent("onUserMediaPlay")):c.dispatchEvent(new CustomEvent("onUserMediaPause")),n(),I&&I.show()}),T.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){window.playerLog("ima event oogle.ima.AdErrorEvent.Type.AD_ERROR"),i(e,v)}),T.addEventListener(google.ima.AdEvent.Type.LOADED,function(e){window.playerLog("ima event LOADED"),r()}),T.addEventListener(google.ima.AdEvent.Type.PAUSED,function(){window.playerLog("ima event PAUSED"),v.firePixels("pause"),I&&I.pause()}),T.addEventListener(google.ima.AdEvent.Type.RESUMED,function(){window.playerLog("ima event RESUMED"),v.firePixels("resume"),I&&I.play()}),T.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(){window.playerLog("ima event CONTENT_PAUSE_REQUESTED");var e=document.getElementById(p);e&&brStyle(e,{display:"block"})}),T.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(){window.playerLog("ima CONTENT_RESUME_REQUESTED");var e=document.getElementById(p);e&&brStyle(e,{display:"none"}),v.isStopped()||(window.playerLog("ima event INSIDE CONTENT_RESUME_REQUESTED"),m())}),T.addEventListener(google.ima.AdEvent.Type.STARTED,function(e){e.getAd();window.playerLog("ima STARTED"),v.setLoaded(!1),v.firePixels("start");window.playerLog("ima is linear "+!0),x=!0;var i=document.getElementById(p).getElementsByTagName("iframe");i.length&&i[0];t(!0)}),T.addEventListener(google.ima.AdEvent.Type.IMPRESSION,function(e){window.playerLog("ima IMPRESSION");e.getAd();v.firePixels("start");t(!0),v.firePixels("impression")}),T.addEventListener(google.ima.AdEvent.Type.COMPLETE,function(){window.playerLog("ima COMPLETE"),v.firePixels("complete")}),T.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,function(){window.playerLog("ima FIRST_QUARTILE"),v.firePixels("firstQuartile")}),T.addEventListener(google.ima.AdEvent.Type.MIDPOINT,function(){window.playerLog("ima MIDPOINT"),v.firePixels("midpoint")}),T.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,function(){window.playerLog("ima THIRD_QUARTILE"),v.firePixels("thirdQuartile")}),T.addEventListener(google.ima.AdEvent.Type.SKIPPED,function(){window.playerLog("ima skip"),v.firePixels("skip")}),T.addEventListener(google.ima.AdEvent.Type.VOLUME_CHANGED,function(){window.playerLog("ima volume change");var e=T.getVolume();null!=e&&(N>0&&0==e?v.firePixels("mute"):0==N&&e>0&&v.firePixels("unmute"),window.playerLog("ima VOLUME CHANGE NEW VOLUME "+e),N=e)}),T.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,function(){window.playerLog("ima user close"),v.firePixels("close")}),r();try{T.init(w.getRequestWidth(),w.getRequestHeight(),google.ima.ViewMode.NORMAL),w.getStartAdOnAdLoadedEvent()&&(window.playerLog("ima MANAGER START"),T.start())}catch(e){window.playerLog("ima ERROR",e),i(e)}}}function s(){window.playerLog("ima DESTROY FUNCTION"),clearTimeout(_),clearTimeout(y),T&&T.destroy(),I&&(I.destroy(),I=null)}function m(){if(window.playerLog("ima onAdStopped FUNCTION"),clearTimeout(_),clearTimeout(y),v.setStopped(),s(),O){w.onAdStopped(!1)}else w.onLoadingContainerFailed(v)}function g(e){if(!v.isStopped()){v.setStopped(),s(),window.playerLog("ima onErrorLoadingLoader FUNCTION");var i=document.getElementById(p);i&&brStyle(i,{display:"none"}),clearTimeout(y),v.firePixels("error"),w.onLoadingContainerFailed(v)}}function u(){window.playerLog("ima createIMAContainer");var e=document.createElement("div");return e.className="truvid_ima_container",e.id=p,brStyle(e,{display:"none",textAlign:"left"}),A.appendChild(e),e}var p,E,y,w=e,L=i,c=document.getElementById(L.getters.elemId()),A=c.getElementsByClassName("trv-video")[0],v=null,f=null,T=null,S=!1,R=this,I=null,h=15e3,P=c.getElementsByClassName("media-video")[0],C=8e3,D="10000",M=null,N=P.muted?0:P.volume,O=!1,U=!1,_=null,x=!0;p="truvid_ima_container"+Math.floor(1e5*Math.random()+1),document.getElementById(p)||(p="truvid_ima_container"+Math.floor(1e5*Math.random()+1)),this.startAd=function(){T&&T.start()},this.initialize=function(){"undefined"!=typeof google&&void 0!==google.ima&&(window.playerLog("initialize ima"),(E=new google.ima.AdDisplayContainer(u(),P)).initialize(),(f=new google.ima.AdsLoader(E)).getSettings().setDisableCustomPlaybackForIOS10Plus(!0),f.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(e){l(e,function(e){window.playerLog("ima onIMAAdsManagerLoaded"),clearTimeout(y)})},!1),f.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){window.playerLog("ima google.ima.AdErrorEvent.Type"),g(e)},!1))},this.skipAd=function(){window.playerLog("ima skip"),T.skip(),m()},this.loadAd=function(e,i){window.playerLog("load ima ad"),(v=e).isStopped()||(L.getters.isNetworkWidget()||(google.ima.settings.setPlayerType("truvid"),google.ima.settings.setPlayerVersion("1.0.0")),M=i.mediaFile.src,f?(window.playerLog("inside ima ads loader"),x=!0,O=!1,I=null,S=!1,_=null,f.requestAds(d()),v.firePixels("request"),w.increaseIMARequestCount(),y=setTimeout(function(){window.playerLog("ima ad request timeout"),m()},2e4)):setTimeout(function(){window.playerLog("ima stop ad imaAdsLoaded undefined"),v.setStopped()},100))},this.removeContainer=function(){window.playerLog("ima removeContainer");var e=document.getElementById(p);e&&brStyle(e,{zIndex:"-10000"}),T&&T.destroy(),I&&I.destroy()},this.destroy=function(){window.playerLog("ima destroy"),v.isStopped()||(v.setStopped(),window.playerLog("ima inside destroy"),s(),clearTimeout(_),clearTimeout(y))},this.resizeAd=function(e,i){window.playerLog("ima resizead");var t=document.getElementById(p);t&&brStyle(t,{height:i+"px",width:e+"px",zIndex:D}),T.resize(e,i,"normal")},this.resumeAd=function(){window.playerLog("ima resume"),o()},this.getAdDuration=function(){return T.getCurrentAd().getDuration()},this.isStopped=function(){return v.isStopped()},this.setAdVolume=function(e){window.playerLog("ima set ad volume"),T.setVolume(e),I.setVolume(e),L.setters.currentVolume(e)},this.pauseAd=function(){window.playerLog("ima pauseAd"),S||n()},this.togglePlayPause=function(){window.playerLog("ima toggle play pause"),n()},this.getAdRemainingTime=function(){return T.getRemainingTime()},this.getContainerId=function(){return p},this.isCurrentAdPaused=function(){return S}};var VastManager=function(e,n,t){function i(){o()}function o(){var e=q.play();e?e.then(function(){K||(K=!0,b.onAdStarted())}).catch(function(){O.setStopped(),b.onLoadingContainerFailed(O)}):K||(K=!0,b.onAdStarted()),s(),N&&N.play()}function r(){N&&N.destroy(),a()}function d(){W=!0,window.playerLog("vast remove container"),r(),O&&O.setStopped(),b.onAdStopped()}function u(){l(),p(),E(),A(),x(),S(),M(),z(),B()}function a(){v(),h(),g(),y(),T(),C(),I(),D(),Q()}function s(){N||(N=new AdController(R,G))}function c(){q.pause(),N&&N.pause()}function f(){var e=q.volume;null!=e&&(J>0&&0==e?O.firePixels("mute"):0==J&&e>0&&O.firePixels("unmute"),J=e)}function l(){q.addEventListener("volumechange",f)}function v(){q.removeEventListener("volumechange",f)}function m(){q.removeEventListener("error",m),O.firePixels("error"),O.setStopped(),b.onLoadingContainerFailed(O)}function p(){q.addEventListener("error",m,!0)}function h(){q.removeEventListener("error",m,!0)}function L(){}function E(){q.addEventListener("canplaythrough",L),q.addEventListener("load",L)}function g(){q.removeEventListener("canplaythrough",L),q.removeEventListener("load",L)}function P(){O.firePixels("complete"),window.playerLog("vast video ended"),q.removeEventListener("ended",P),d()}function A(){q.addEventListener("ended",P)}function y(){q.removeEventListener("ended",P)}function w(){W?(W=!1,O.firePixels("resume")):(O.firePixels("creativeView"),O.firePixels("start"),O.firePixels("impression"))}function x(){q.addEventListener("playing",w)}function S(){q.addEventListener("pause",k)}function C(){q.removeEventListener("pause",k)}function k(){W=!0,O.firePixels("pause")}function T(){q.removeEventListener("playing",w)}function F(){q.removeEventListener("loadedmetadata",F)}function M(){q.addEventListener("loadedmetadata",F)}function I(){q.removeEventListener("loadedmetadata",F)}function V(){q.paused?(H=!0,o(),j.dispatchEvent(new CustomEvent("onUserMediaPlay")),N&&N.play()):(c(),j.dispatchEvent(new CustomEvent("onUserMediaPause")),O.firePixels("click"),O.clickThrough&&""!=O.clickThrough&&window.open(O.clickThrough)),N&&N.show()}function B(){q.addEventListener("timeupdate",U)}function Q(){q.removeEventListener("timeupdate",U)}function U(e){var n=Math.round(q.currentTime/q.duration*100);n&&n>0&&(n>75&&!X?(X=!0,O.firePixels("thirdQuartile")):n>50&&!Y?(Y=!0,O.firePixels("midpoint")):n>25&&!Z&&(Z=!0,O.firePixels("firstQuartile")))}function z(){q.addEventListener("click",V)}function D(){q.removeEventListener("click",V)}var N,O=null,R=n,b=e,j=document.getElementById(R.getters.elemId()),q=j.getElementsByClassName("media-video")[0],G=this,H=!1,J=q.muted?0:q.volume,K=!1,W=!1,X=!1,Y=!1,Z=!1;this.resizeAd=function(){},this.destroy=function(){d()},this.isCurrentAdPaused=function(){return W},this.togglePlayPause=function(){W?i():c()},this.startAd=function(){K||o()},this.isStopped=function(){return O.isStopped()},this.loadAd=function(e){O=e,t?(window.playerLog("load ad"),u(),q.src=t.mediaFile.src,b.onAdLoaded(),b.getStartAdOnAdLoadedEvent()&&o()):(O.setStopped(),b.onLoadingContainerFailed(e))},this.showAd=function(){},this.pauseAd=function(){c()},this.skipAd=function(){O.firePixels("skip"),d()},this.setAdVolume=function(e){e>0?(q.muted=!1,q.volume=e):(q.muted=!0,q.volume=e)},this.getAdRemainingTime=function(){return q.duration-q.currentTime},this.getContainerId=function(){return null},this.getAdDuration=function(){return q.duration},this.resumeAd=function(){i()}};var VpaidManager=function(e,i,t){function n(e,i){F=i,e?b.isStopped()||(window.playerLog("stopping ad unit - onAdUnitLoad"),w(),v.onLoadingContainerFailed(b)):(p(i),i.handshakeVersion("2.0",function(){if(!b.isStopped()){var e=y.getters.isFullScreenState()?"fullscreen":"normal";i.initAd(v.getRequestWidth(),v.getRequestHeight(),e,-1,{AdParameters:t.adParameters},{videoSlotCanAutoPlay:!0},null,d),o()}}))}function o(){N=setInterval(function(){L.hasAttribute("data-rbc")&&(L.removeAttribute("data-rbc"),b.isStopped()||(window.playerLog("stopping ad unit - rubicon interval"),w(),v.onLoadingContainerFailed(b)))},100)}function d(e){e?b.isStopped()||(window.playerLog("ad unit error callback"),w(),v.onLoadingContainerFailed(b)):window.playerLog("ad unit init")}function a(){var e=setInterval(function(){b&&!b.isStopped()?F.getAdRemainingTime(function(e,i){k=Math.ceil(i)}):clearInterval(e)},500)}function r(){F.getAdRemainingTime(function(e,i){i>0&&(U=i)})}function u(){s(),_=1==L.muted?0:L.volume,r(),g(),a(),b.setLoaded(!0)}function s(){document.getElementById(P).style.display="block"}function l(){R?(window.playerLog("set ad volume 0"),F.setAdVolume(0)):L.muted?(window.playerLog("set ad volume 0"),F.setAdVolume(0)):(window.playerLog("set ad volume "+L.volume),F.setAdVolume(L.volume))}function c(){A(),F.resumeAd(),C&&C.pause(),h.dispatchEvent(new CustomEvent("onUserMediaPlay"))}function p(e){e.subscribe("AdVolumeChange",function(){e.getAdVolume(function(e,i){null!=i&&(_>0&&0==i?b.firePixels("mute"):0==_&&i>0&&b.firePixels("unmute"),_=i)})}),e.subscribe("AdUserAcceptInvitation",function(){b.firePixels("acceptInvitation")}),e.subscribe("AdUserMinimize",function(){b.firePixels("collapse")}),e.subscribe("AdUserClose",function(){b.firePixels("close")}),e.subscribe("AdLoaded",function(){window.playerLog("ad unit loaded"),b.isStopped()||(b.firePixels("available"),u(),v.onAdLoaded(),v.getStartAdOnAdLoadedEvent()&&(window.playerLog("starting ad unit"),e.startAd(),q=setTimeout(function(){B||(window.playerLog("ad unit not started"),w(),v.onLoadingContainerFailed(b))}.bind(this),1e3*H)))}),e.subscribe("AdStarted",function(){b.setLoaded(!1),window.playerLog("ad unit started"),b.isStopped()||(B=!0,b.firePixels("creativeView"))}),e.subscribe("AdVideoStart",function(){window.playerLog("ad unit video start"),b.isStopped()||(l(),b.firePixels("start"),B=!0,v.onAdStarted(),A(),setTimeout(function(){v.resizeAd(0,0)},200))}),e.subscribe("AdImpression",function(){clearTimeout(q),window.playerLog("ad unit impression"),b.isStopped()||(B=!0,b.firePixels("impression"),l(),setTimeout(function(){v.resizeAd(0,0)},1e3))}),e.subscribe("AdVideoComplete",function(){window.playerLog("ad unit video complete"),b.firePixels("complete"),b.isStopped()||(w(),v.onAdStopped())}),e.subscribe("AdError",function(e){window.playerLog("ad unit error "+e),b.firePixels("error"),b.isStopped()||(w(),1==B?v.onAdStopped():v.onLoadingContainerFailed(b))}),e.subscribe("AdPaused",function(){window.playerLog("ad unit paused"),f(),b.firePixels("pause")}),e.subscribe("AdPlaying",function(){window.playerLog("ad unit playing"),V=!1,b.firePixels("resume"),C&&C.play()}),e.subscribe("AdClickThru",function(e){x=!0,b.firePixels("click"),e&&void 0!==e.playerHandles&&1==e.playerHandles&&(void 0!==e.url&&e.url&&""!=e.url?window.open(e.url,"_blank"):b.clickThrough&&""!=b.clickThrough&&window.open(b.clickThrough,"_blank")),V?c():m(),C&&C.show()}),e.subscribe("AdSkipped",function(){window.playerLog("ad unit skipped"),b.firePixels("skip"),b.isStopped()||(w(),v.onAdStopped())}),e.subscribe("AdStopped",function(){b.isStopped()||(window.playerLog("ad unit stopped"),w(),1==B?v.onAdStopped():v.onLoadingContainerFailed(b))}),e.subscribe("AdVideoFirstQuartile",function(){window.playerLog("ad unit first quartile"),b.firePixels("firstQuartile")}),e.subscribe("AdVideoMidpoint",function(){window.playerLog("ad unit midpoint"),b.firePixels("midpoint")}),e.subscribe("AdVideoThirdQuartile",function(){window.playerLog("ad unit third quartile"),b.firePixels("thirdQuartile")})}function f(){V=!0,E&&(window.playerLog("clear ad complete timeout"),clearTimeout(E)),M&&clearInterval(M),C&&C.pause()}function m(){F.pauseAd(),window.playerLog("pause ad by our code"),f(),h.dispatchEvent(new CustomEvent("onUserMediaPause"))}function g(){if(!C){var e=[],i=document.getElementById(P);i&&e.push(i);var t=null;z&&void 0!==z.as&&1==z.as&&(t={allowSkip:!0}),C=new AdController(y,T,e,t)}}function w(){if(clearInterval(N),L.removeAttribute("data-rbc"),!b.isStopped()){b.setStopped(),clearTimeout(E),clearInterval(M);try{I.destroy()}catch(e){}C&&C.destroy();try{var e=document.getElementById(P);e&&e.parentNode.removeChild(e)}catch(e){}}}function A(){E||M||b.disableTimeout||(M=setInterval(function(){F.getAdRemainingTime(function(e,i){i&&i>0&&(k=Math.ceil(i)),k>0&&(clearTimeout(E),E=setTimeout(function(e){window.playerLog("ad timeout complete"),e.isStopped()||(w(),v.onAdStopped())},1e3*(k+10),b),window.playerLog("ad timeout interval "+k))})},3e3))}var b,v=e,y=i,h=document.getElementById(y.getters.elemId()),L=h.getElementsByClassName("media-video")[0],S=h.getElementsByClassName("trv-video")[0],P="truvid_cnt_vpaid_iframe"+Math.floor(1e5*Math.random()+1);document.getElementById(P)||(P="truvid_cnt_vpaid_iframe"+Math.floor(1e5*Math.random()+1));var C=null,T=this,x=!1,I=null,V=!1,k=null,E=null,M=null,F=null,_=L.volume,B=!1,U=0,R=!1,z=null,q=null,H=8,N=null;this.loadAd=function(e){(z=e.adObject?JSON.parse(e.adObject.linear.adParameters):null)&&void 0!==z.ct&&z.ct>0&&(H=z.ct),window.playerLog("loading vpaid ad"),b=e,R=!1,L.muted?R=!0:0==L.volume&&(R=!0),t?(I=new VPAIDHTML5Client(S,L,null,{timeout:1e3*e.getLoadingContainerTimeout()})).loadAdUnit(t.mediaFile.src,n,P):(window.playerLog("stopping ad - no media file"),b.isStopped()||(w(),v.onLoadingContainerFailed(e)))},this.getContainerId=function(){return P},this.startAd=function(){F&&!b.isStopped()&&(F.startAd(),q=setTimeout(function(){B||(window.playerLog("timeout of starting ad"),w(),v.onAdStopped())}.bind(this),1e3*H))},this.skipAd=function(){F.skipAd(),b.isStopped()||(w(),v.onAdStopped())},this.getAdDuration=function(){return U},this.pauseAd=function(){m()},this.resumeAd=function(){c()},this.isCurrentAdPaused=function(){return V},this.togglePlayPause=function(){V?c():m()},this.setAdVolume=function(e){F.setAdVolume(e),y.setters.currentVolume(e)},this.resizeAd=function(e,i){F&&F.resizeAd(e,i,"normal")},this.isStopped=function(){return b.isStopped()},this.getAdRemainingTime=function(){return k},this.destroy=function(){w()}};var SpotXManager=function(e,i,o){function t(e){window.playerLog("loading spotx ad"),y=e;var i=S.getRequestWidth(),t=S.getRequestHeight(),n=JSON.parse(o.adParameters),d=n.channelId;SpotX.DirectAdOS&&o&&d?(V=new SpotX.DirectAdOS({channel_id:d,slot:h,video_slot:v,hide_skin:!0,autoplay:!1,content_width:i,content_height:t,ad_volume:v.muted||0==v.volume?0:v.volume,ad_mute:!(!v.muted&&0!=v.volume),ados:{user:{consent:0},regs:{gdpr:void 0!==n.gdpr?n.gdpr:0}}}),u(),v.pause(),S.onAdLoaded(),V.loadAd(),y.firePixels("request")):setTimeout(function(){y.setStopped(),m(),S.onLoadingContainerFailed(e)},1e3)}function n(){I=v.volume,s(),r(),d()}function d(){var e=setInterval(function(){y&&!y.isStopped()?g=V.videoSlot().duration-V.videoSlot().currentTime:clearInterval(e)},500)}function s(){T=V.videoSlot().duration}function r(){if(!C){var e=[];C=new AdController(b,x,e)}}function u(){V.subscribe(function(){y.isStopped()||(window.playerLog("spotx ad loaded"),y.firePixels("win-response"),n(),S.getStartAdOnAdLoadedEvent()&&V.playAd())},"AdLoaded"),V.subscribe(function(){window.playerLog("spotx ad started"),p(),L=!0,y.firePixels("creativeView")},"AdStarted"),V.subscribe(function(){window.playerLog("spotx AdVideoStart"),p(),y.firePixels("start"),L=!0,S.onAdStarted(),A()},"AdVideoStart"),V.subscribe(function(){window.playerLog("spotx AdImpression"),L=!0,y.firePixels("impression"),p()},"AdImpression"),V.subscribe(function(){y.isStopped()||(window.playerLog("spotx AdStopped"),y.setStopped(),m(),1==L?S.onAdStopped():S.onLoadingContainerFailed())},"AdStopped"),V.subscribe(function(){window.playerLog("spotx AdSkipped"),y.firePixels("skip"),y.isStopped()||(y.setStopped(),m(),S.onAdStopped())},"AdSkipped"),V.subscribe(function(){window.playerLog("spotx AdVideoFirstQuartile"),y.firePixels("firstQuartile")},"AdVideoFirstQuartile"),V.subscribe(function(){window.playerLog("spotx AdVideoMidpoint"),y.firePixels("midpoint")},"AdVideoMidpoint"),V.subscribe(function(){window.playerLog("spotx AdVideoThirdQuartile"),y.firePixels("thirdQuartile")},"AdVideoThirdQuartile"),V.subscribe(function(){window.playerLog("spotx AdVideoComplete"),y.firePixels("complete")},"AdVideoComplete"),V.subscribe(function(e){window.playerLog("spotx AdClickThru"),y.firePixels("click");var i=e[0],o=(e[1],e[2]);void 0!==o&&1==o&&void 0!==i&&i&&""!=i&&window.open(i,"_blank"),C&&C.show()},"AdClickThru"),V.subscribe(function(){window.playerLog("spotx AdPaused"),f(),y.firePixels("pause")},"AdPaused"),V.subscribe(function(){window.playerLog("spotx AdPlaying"),k=!1,y.firePixels("resume"),C&&C.play(),A()},"AdPlaying"),V.subscribe(function(){window.playerLog("spotx AdUserMinimize"),y.firePixels("collapse")},"AdUserMinimize"),V.subscribe(function(){window.playerLog("spotx AdUserClose"),y.firePixels("close")},"AdUserClose"),V.subscribe(function(e){y.firePixels("error"),y.isStopped()||(y.setStopped(),m(),S.onAdStopped()),window.playerLog("spotx AdError")},"AdError"),V.subscribe(function(){window.playerLog("spotx AdSizeChange")},"AdSizeChange"),V.subscribe(function(){(g=V.videoSlot().duration-V.videoSlot().currentTime)&&(g=Math.ceil(g))},"AdRemainingTimeChange"),V.subscribe(function(){window.playerLog("spotx AdVolumeChange");var e=V.getAdVolume();null!=e&&(I>0&&0==e?y.firePixels("mute"):0==I&&e>0&&y.firePixels("unmute"),I=e)},"AdVolumeChange")}function p(){P?V.setAdVolume(0):v.muted?V.setAdVolume(0):V.setAdVolume(v.volume)}function l(){A(),V.playAd(),C&&C.pause()}function a(){V.pauseAd(),window.playerLog("pause ad by our code"),f()}function c(){V.setAdVolume(v.volume>0?0:1)}function f(){k=!0,w&&(window.playerLog("clear ad complete timeout"),clearTimeout(w),w=null),C&&C.pause()}function A(){w||g>0&&(w=setTimeout(function(e){window.playerLog("ad timeout complete"),e.isStopped()||(m(),y.setStopped(),S.onAdStopped())},1e3*(g+10),y),window.playerLog("ad timeout interval "+g))}function m(){clearTimeout(w);try{V.destroy()}catch(e){}C&&C.destroy()}var g,w,S=e,b=i,h=document.getElementById(b.getters.elemId()),y=null,x=this,v=h.getElementsByClassName("media-video")[0],L=!1,P=!1,V=null,C=null,T=0,k=!1,I=v.volume;this.loadAd=function(i){"undefined"!=typeof SpotX&&void 0!==SpotX.DirectAdOS?t(i):e.loadJSFile("//js.spotx.tv/directsdk/v1/85394.js").then(function(){t(i)})},this.startAd=function(){V&&V.playAd()},this.getContainerId=function(){return null},this.skipAd=function(){V.stopAd(),y.isStopped()||(y.setStopped(),m(),S.onAdStopped())},this.skipAd=function(){V.stopAd(),y.isStopped()||(y.setStopped(),m(),S.onAdStopped())},this.getAdRemainingTime=function(){return g},this.getAdDuration=function(){return T},this.pauseAd=function(){a()},this.resumeAd=function(){l()},this.isCurrentAdPaused=function(){return k},this.togglePlayPause=function(){k?l():a()},this.setAdVolume=function(){c()},this.resizeAd=function(e,i){V&&V.resize(e,i,"normal")},this.isStopped=function(){return y.isStopped()},this.getAdRemainingTime=function(){return g},this.destroy=function(){y&&y.setStopped(),m()}};var AdLibEventListener=function(t,e){this.playerAccessor=e,this.advertisingLibrary=t,this.adSlots=[],this.currentAdSlots=[]};AdLibEventListener.prototype.onPlayerReady=function(){},AdLibEventListener.prototype.onAdReadyToPlay=function(){},AdLibEventListener.prototype.onAdFinishedPlaying=function(){},AdLibEventListener.prototype.onNewVideoPlayingRequest=function(){},AdLibEventListener.prototype.onBiddingSessionEnds=function(){},AdLibEventListener.prototype.stopListenToEvents=function(t){this.advertisingLibrary.removeEventSubscriber(t)},AdLibEventListener.prototype.onAdsFinishedPlaying=function(){},AdLibEventListener.prototype.onAdSlotChange=function(){},AdLibEventListener.prototype.onContentTimeUpdate=function(t){},AdLibEventListener.prototype.onContentTimeUpdateByUser=function(t){},AdLibEventListener.prototype.shiftNextAdSlot=function(){return this.currentAdSlots.shift()},AdLibEventListener.prototype.addPrerollAdSlot=function(){this.currentAdSlots.push({offset:0,type:this.advertisingLibrary.AD_OFFSETS.PREROLL})},AdLibEventListener.prototype.startBiddingSession=function(){if(this.currentAdSlots.length&&this.advertisingLibrary.canStartBiddingSession()){var t=this.shiftNextAdSlot();this.advertisingLibrary.startBiddingSession(t)}},AdLibEventListener.prototype.cloneAdSlotsToCurrentAdSlots=function(){this.currentAdSlots=this.adSlots.slice()};function InstreamWidgetEventListener(t,e){this.nonAggressiveOffsetMarginInSeconds=5,this.wastedAdSlots=[],AdLibEventListener.call(this,t,e)}InstreamWidgetEventListener.prototype=Object.create(AdLibEventListener.prototype),InstreamWidgetEventListener.prototype.constructor=AdLibEventListener,InstreamWidgetEventListener.prototype.onPlayerReady=function(){this.createAdSlots(),AdLibEventListener.prototype.onPlayerReady.call(this)},InstreamWidgetEventListener.prototype.startAdTimeout=function(){AdLibEventListener.prototype.startAdTimeout.call(this)},InstreamWidgetEventListener.prototype.onNewVideoPlayingRequest=function(){this.createAdSlots(),this.cloneAdSlotsToCurrentAdSlots(),this.wastedAdSlots=[],AdLibEventListener.prototype.onNewVideoPlayingRequest.call(this)},InstreamWidgetEventListener.prototype.onAdReadyToPlay=function(){AdLibEventListener.prototype.onAdReadyToPlay.call(this)},InstreamWidgetEventListener.prototype.onBiddingSessionEnds=function(){AdLibEventListener.prototype.onBiddingSessionEnds.call(this)},InstreamWidgetEventListener.prototype.onContentTimeUpdate=function(t){t>0&&(this.currentAdSlots.length&&this.advertisingLibrary.canStartBiddingSession()&&this.handleNonAggressiveBidding(t),AdLibEventListener.prototype.onContentTimeUpdate.call(this,t))},InstreamWidgetEventListener.prototype.createAdSlots=function(){var t=this.advertisingLibrary.getContentDuration(),e=this.advertisingLibrary.getAdvertisingConfiguration();if(this.adSlots=[],e.isPreroll&&(window.playerLog("ad offset on 0"),this.adSlots.push({offset:0,type:this.advertisingLibrary.AD_OFFSETS.PREROLL})),e.midrollCount)for(var s=1;s<=e.midrollCount;s++){var n=Math.round(t*(s/(e.midrollCount+1)));window.playerLog("ad offset on "+n),this.adSlots.push({offset:n,type:this.advertisingLibrary.AD_OFFSETS.MIDROLL})}e.isPostroll&&this.adSlots.push({offset:t,type:this.advertisingLibrary.AD_OFFSETS.POSTROLL})},InstreamWidgetEventListener.prototype.handleNonAggressiveBidding=function(t){if(this.playerAccessor.getters.playerContentStatus()==this.playerAccessor.consts.PLAYER_CONTENT_STATUS_PLAYING){var e=this.getNextAdSlot();e&&e.offset-t<=this.nonAggressiveOffsetMarginInSeconds&&(window.playerLog("starting ad offset bidding on offset "+e.offset),this.wastedAdSlots.push(e),this.startBiddingSession())}},InstreamWidgetEventListener.prototype.getNextAdSlot=function(){return this.currentAdSlots[0]},InstreamWidgetEventListener.prototype.onContentTimeUpdateByUser=function(t){this.cloneAdSlotsToCurrentAdSlots();for(var e=this.getNextAdSlot();e&&e.offset<t-this.nonAggressiveOffsetMarginInSeconds;)this.shiftNextAdSlot(),e=this.getNextAdSlot();if(this.wastedAdSlots.length)for(var s=this.currentAdSlots.length-1;s>0;){for(var n=this.wastedAdSlots.length-1;n>0;n--)this.wastedAdSlots[n].offset==this.currentAdSlots[s].offset&&this.currentAdSlots.splice(s,1);s--}AdLibEventListener.prototype.onContentTimeUpdateByUser.call(this,t)},InstreamWidgetEventListener.prototype.removePrerollAdSlot=function(){for(var t=this.currentAdSlots.length-1;t>=0;t--)this.currentAdSlots[t].type==this.advertisingLibrary.AD_OFFSETS.PREROLL&&this.currentAdSlots.splice(t,1)};function PrerollMethod(t,e){this.adTimeout=null,this.removePrerollOnCreatingInstreamEventSubscriber=!0,AdLibEventListener.call(this,t,e)}PrerollMethod.prototype=Object.create(AdLibEventListener.prototype),PrerollMethod.prototype.constructor=AdLibEventListener,PrerollMethod.prototype.onPlayerReady=function(){var t=this;return new Promise(function(e){t.playerAccessor.methods.startSpinner(),t.playerAccessor.methods.checkAutoplayStatus().then(function(){t.onNewVideo(),e()}.bind(t)).catch(function(){t.advertisingLibrary.setAllowedToStartNewVideos(!0),t.playerAccessor.methods.stopSpinner(),e()}.bind(t))})},PrerollMethod.prototype.stopSpinner=function(){clearTimeout(this.adTimeout),this.playerAccessor.methods.stopSpinner()},PrerollMethod.prototype.startAdTimeout=function(){this.adTimeout=setTimeout(function(){this.advertisingLibrary.killBiddingSession(),this.playerAccessor.methods.stopSpinner(),this.advertisingLibrary.setAllowedToStartNewVideos(!0)}.bind(this),1e3*this.playerAccessor.getters.spinnerPrerollTimeoutLength())},PrerollMethod.prototype.onAdReadyToPlay=function(){this.stopSpinner(),this.advertisingLibrary.setAllowedToStartNewVideos(!0)},PrerollMethod.prototype.onBiddingSessionEnds=function(){this.advertisingLibrary.setAllowedToStartNewVideos(!0),this.stopSpinner(),this.advertisingLibrary.createInstreamWidgetEventListener(this.removePrerollOnCreatingInstreamEventSubscriber),AdLibEventListener.prototype.stopListenToEvents.call(this,this),this.advertisingLibrary.setToStartContent()},PrerollMethod.prototype.onAdFinishedPlaying=function(){this.advertisingLibrary.setAllowedToStartNewVideos(!0),AdLibEventListener.prototype.stopListenToEvents.call(this,this),this.advertisingLibrary.createInstreamWidgetEventListener(this.removePrerollOnCreatingInstreamEventSubscriber),this.advertisingLibrary.setToStartContent()},PrerollMethod.prototype.onNewVideoPlayingRequest=function(){this.onNewVideo()},PrerollMethod.prototype.onNewVideo=function(){this.advertisingLibrary.setAllowedToStartNewVideos(!1),this.addPrerollAdSlot(),this.startAdTimeout(),this.startBiddingSession()};function ImageModeListener(e,t){this.playerElement=document.getElementById(t.getters.elemId()),e.setAllowSavingAndRestoreContent(!1),e.setAllowedToStartNewVideos(!1),AdLibEventListener.call(this,e,t)}ImageModeListener.prototype=Object.create(AdLibEventListener.prototype),ImageModeListener.prototype.constructor=AdLibEventListener,ImageModeListener.prototype.onPlayerReady=function(){this.createAdSlots(),this.cloneAdSlotsToCurrentAdSlots(),this.createImageBackground(),this.showImageBackground(),this.hideVideoElement(),this.startBiddingSession(),AdLibEventListener.prototype.onPlayerReady.call(this)},ImageModeListener.prototype.showImageBackground=function(){var e=this.playerElement.getElementsByClassName("brands-bg")[0];brStyle(e,{display:"block"})},ImageModeListener.prototype.onAdSlotChange=function(){var e=this.playerElement.getElementsByClassName("media-video")[0];brStyle(e,{display:"none"});var t=this.playerElement.getElementsByClassName("brands-bg")[0];brStyle(t,{display:"block"})},ImageModeListener.prototype.hideVideoElement=function(){var e=this.playerElement.getElementsByClassName("media-video")[0];brStyle(e,{display:"none"})},ImageModeListener.prototype.createImageBackground=function(){var e=document.createElement("img");e.className="brands-bg",e.onload=function(){e.addEventListener("click",function(){window.open("http://www.brandsmind.com","_blank")})},this.playerElement.appendChild(e),e.src=this.playerAccessor.getters.getNetworkWidgetBackgroundPath()+"b640X480.jpg",e.style.width="100%",e.style.height="100%",e.style.cursor="pointer"},ImageModeListener.prototype.onAdReadyToPlay=function(){this.hideBackgroundImage(),this.showVideoElement()},ImageModeListener.prototype.hideBackgroundImage=function(){var e=this.playerElement.getElementsByClassName("brands-bg")[0];brStyle(e,{display:"none"})},ImageModeListener.prototype.showVideoElement=function(){var e=this.playerElement.getElementsByClassName("media-video")[0];brStyle(e,{display:"block"})},ImageModeListener.prototype.onAdFinishedPlaying=function(){this.showImageBackground(),this.startBiddingSession()},ImageModeListener.prototype.onBiddingSessionEnds=function(){this.advertisingLibrary.onAdSlot(),AdLibEventListener.prototype.onBiddingSessionEnds.call(this),this.currentAdSlots.length&&this.advertisingLibrary.canStartBiddingSession()&&this.startBiddingSession()},ImageModeListener.prototype.createAdSlots=function(){var e=this.advertisingLibrary.getAdvertisingConfiguration();if(e.isPreroll&&this.adSlots.push({offset:0,type:this.advertisingLibrary.AD_OFFSETS.PREROLL}),e.midrollCount)for(var t=1;t<=e.midrollCount;t++){this.adSlots.push({offset:0,type:this.advertisingLibrary.AD_OFFSETS.MIDROLL})}e.isPostroll&&this.adSlots.push({offset:0,type:this.advertisingLibrary.AD_OFFSETS.POSTROLL})};function Passback(s,t){this.self=this,this.passbackAdSlotsCounter=0,this.passbackLengthInSeconds=t.getters.passbackLength(),this.passbackAdSlots=t.getters.passbackAdSlots(),this.passbackTimeout=null,this.playerElement=document.getElementById(t.getters.elemId()),AdLibEventListener.call(this,s,t)}Passback.prototype=Object.create(AdLibEventListener.prototype),Passback.prototype.constructor=AdLibEventListener,Passback.prototype.onNewVideoPlayingRequest=function(){this.clearPassbackTimeout(),0!=this.passbackLengthInSeconds&&this.passbackLengthInSeconds>0&&this.startPassbackTimeout(),AdLibEventListener.prototype.onNewVideoPlayingRequest.call(this)},Passback.prototype.onAdReadyToPlay=function(){this.passbackAdSlotsCounter=0,this.clearPassbackTimeout(),AdLibEventListener.prototype.onAdReadyToPlay.call(this)},Passback.prototype.startPassbackTimeout=function(){this.passbackTimeout=setTimeout(function(){this.switchToPassback()}.bind(this),1e3*this.passbackLengthInSeconds)},Passback.prototype.clearPassbackTimeout=function(){clearTimeout(this.passbackTimeout)},Passback.prototype.onAdFinishedPlaying=function(){this.passbackAdSlotsCounter=0},Passback.prototype.onNoAdStartedInBiddingSession=function(){++this.passbackAdSlotsCounter<this.passbackAdSlots||this.switchToPassback()},Passback.prototype.switchToPassback=function(){this.advertisingLibrary.stopFutureBiddingSessions(),this.advertisingLibrary.clearAdvertisingUI(),AdLibEventListener.prototype.stopListenToEvents.call(this,this.self),this.clearPassbackTimeout(),this.advertisingLibrary.killBiddingSession(),this.playerElement.dispatchEvent(new CustomEvent("passbackSwitch"))};function PrebidListener(i,t){AdLibEventListener.call(this,i,t)}PrebidListener.prototype=Object.create(AdLibEventListener.prototype),PrebidListener.prototype.constructor=AdLibEventListener,PrebidListener.prototype.init=function(){return this.widgetId=this.playerAccessor.getters.widgetId(),new Promise(function(i){this.windowToCheckForAds=null;try{void 0!==window.trvpbjs?this.windowToCheckForAds=window:window.parent&&void 0!==window.parent.trvpbjs&&(this.windowToCheckForAds=window.parent),void 0!==this.windowToCheckForAds.trvpbjs.finished?1==this.windowToCheckForAds.trvpbjs.finished?(this.setWinningAd(),i()):this.waitForRequestFinished().then(function(){this.setWinningAd(),i()}.bind(this)):i()}catch(i){}this.windowToCheckForAds||i()}.bind(this))},PrebidListener.prototype.setWinningAd=function(){var i,t=this.windowToCheckForAds.truvid_prebid_ads;if(t.length)for(var e=0;e<t.length;e++)if(t[e].wid.constructor==Array)for(var s=0;s<t[e].wid.length;s++)t[e].wid[s]==this.widgetId&&void 0===t[e].isUsed&&(t[e].isUsed=!0,i=t[e]);else t[e].wid==this.widgetId&&void 0===t[e].isUsed&&(t[e].isUsed=!0,i=t[e]);i?(this.advertisingLibrary.setExtraVastParameters("&hb_bidder="+i.bidder+"&hb=true&hb_vast="+i.vastUrl),this.advertisingLibrary.setOnBiddingSessionLoadAd(!0)):AdLibEventListener.prototype.stopListenToEvents.call(this,this)},PrebidListener.prototype.waitForRequestFinished=function(){return new Promise(function(i){this.checkIfFinishedCounter=0;var t,e=function(){1==this.windowToCheckForAds.trvpbjs.finished||9==this.checkIfFinishedCounter?(clearInterval(t),i()):this.checkIfFinishedCounter++}.bind(this);t=setInterval(e,100)}.bind(this))},PrebidListener.prototype.onAdFailedLoading=function(){this.advertisingLibrary.setExtraVastParameters(""),this.advertisingLibrary.setOnBiddingSessionLoadAd(!1),AdLibEventListener.prototype.stopListenToEvents.call(this,this)},PrebidListener.prototype.onAdReadyToPlay=function(){this.advertisingLibrary.setExtraVastParameters(""),this.advertisingLibrary.setOnBiddingSessionLoadAd(!1),AdLibEventListener.prototype.stopListenToEvents.call(this,this)},PrebidListener.prototype.onAdFinishedPlaying=function(){this.advertisingLibrary.setExtraVastParameters(""),this.advertisingLibrary.setOnBiddingSessionLoadAd(!1),AdLibEventListener.prototype.stopListenToEvents.call(this,this)};var BiddingSession=function(e,t,n){this.stopped=!1,this.adOffset=n?n.adOffset:null,this.adCount=n?n.adCount:null,this.ads=n?n.ads:null,this.advertisingLib=e,this.playerAccessor=t;var i,r,s=this;this.currentVastQueries=0,this.currentVast=null,this.setCurrentTruvidAd=function(e){i=e},this.resetCurrentTruvidAd=function(){i=null},this.ListenToBiddingSessionEnds=function(e){r=e},this.startBiddingSession=function(e){this.stopped||(this.currentVast=e,this.currentVastQueries++,queryVAST(e,this.onTruvidVastFetched,this.onTruvidVastError,null,this.setLastVastResponse))},this.getCurrentTruvidAd=function(){return i},this.resetCurrentTruvidAd=function(){i=null},this.abort=function(){this.stopped=!0},this.destroy=function(){i&&(window.playerLog("clearing container timeout"),i.clearLoadingContainerTimeout(),i.getAdManager()&&i.getAdManager().destroy()),s.aborted=!0},this.onAdFetch=function(){!s.stopped&&i&&(i.firePixels("win-response"),window.playerLog("on ad fetched"),s.loadMediaFile())},this.onAdError=function(){window.playerLog("on ad error load"),s.loadAdByPriority()},this.startLoadingLastAds=function(){var t=e.getLastVastAds();t&&buildVASTAds(t,function(e){s.ads=e.ads,s.loadAdByPriority()}.bind(this),this.onTruvidLoadingLastVastError)},this.setLastVastResponse=function(t){e.setLastVastAds(t)},this.onTruvidVastFetched=function(e){s.stopped||(s.ads=e.ads,s.ads&&s.loadAdByPriority())},this.onBiddingSessionEnds=function(){r&&r()},this.onTruvidLoadingLastVastError=function(){s.stopped||(s.stopped=!0,window.playerLog("truvid vast error"),s.onBiddingSessionEnds())},this.onTruvidVastError=function(e){2>s.currentVastQueries&&"no vasts"!=e?s.startBiddingSession(s.currentVast):"no vasts"==e&&(s.advertisingLib.fireEventToEventSubscriber(s.advertisingLib.adLibEvents.NoAdStartedInBiddingSession),s.advertisingLib.setLoadVastOnNextBiddingSession(!0),s.onTruvidLoadingLastVastError())},this.onLoadingContainerFailed=function(e){e&&!e.isStopped()&&(window.playerLog("set stopping on ad"),e.getAdManager()&&e.getAdManager().destroy(),e.setStopped()),window.playerLog("on loading container failed - bidding session"),s.advertisingLib.stopUpdateCurrentContentTimeState(),e&&e.clearLoadingContainerTimeout(),i==e&&s.advertisingLib.setCurrentAdPlaying(!1),i==e&&(s.advertisingLib.switchToContent(),s.loadMediaFile())},this.loadAdByPriority=function(){if(!s.stopped){window.playerLog("on load ad by priority");for(var e=null;null==e&&s.ads.length>0;)if((e=s.ads.shift())&&void 0!==e.properties&&void 0!==e.properties.VASTAdTagURI&&""!=e.properties.VASTAdTagURI){if(void 0!==(r=JSON.parse(e.linear.adParameters)).reqv&&1==r.reqv&&0==t.getters.viewable()){e=null;continue}if(void 0===r.off||0==r.off.length||-1==r.off.indexOf(this.adOffset)){e=null;continue}window.playerLog("requesting "+e.properties.VASTAdTagURI);var n=e.properties.VASTAdTagURI;s.advertisingLib.injectMacros(n).then(function(t){e.linear.tracking.track("win"),window.playerLog("set current truvid ad"),(i=new TruvidAd(e,t,s.advertisingLib.getAllowedContainers())).requestMediaFiles(s.advertisingLib.getRequestWidth(),s.advertisingLib.getRequestHeight(),s.onAdFetch,s.onAdError),e.linear.tracking.track("request")})}else if(e&&e.linear){var r=JSON.parse(e.linear.adParameters);if(void 0!==r.reqv&&1==r.reqv&&0==t.getters.viewable()){e=null;continue}if(void 0===r.off||0==r.off.length||-1==r.off.indexOf(this.adOffset)){e=null;continue}e.linear.tracking.track("win"),(i=new TruvidAd(e,null,s.advertisingLib.getAllowedContainers())).getMediaFilesFromAdResponse(e,s.advertisingLib.getRequestWidth(),s.advertisingLib.getRequestHeight()),i.mediaFiles.length?s.advertisingLib.injectMacros(i.mediaFiles[0].mediaFile.src).then(function(e){i.mediaFiles[0].mediaFile.src=e,s.loadMediaFile()}):s.loadMediaFile()}null==e&&(s.advertisingLib.fireEventToEventSubscriber(s.advertisingLib.adLibEvents.NoAdStartedInBiddingSession),s.onBiddingSessionEnds())}},this.loadTruvidMediaFile=function(t,n){if(t.isVAST()){var r=new VastManager(s.advertisingLib,s.playerAccessor,t);return window.playerLog("loading vast container "+i.getDemandTagId()),i.setAdManager(r),e.startUpdatingCurrentContentTimeState(),r.loadAd(i),!0}if(t.isVPAID()){window.playerLog("loading vpaid container "+i.getDemandTagId());var o=new VpaidManager(s.advertisingLib,s.playerAccessor,t);return i.setAdManager(o),e.startUpdatingCurrentContentTimeState(),o.loadAd(i),!0}if(t.isIMA()){var d=s.advertisingLib.getImaAdManager();return i.setAdManager(d),window.playerLog("loading ima container"+i.getDemandTagId()),e.startUpdatingCurrentContentTimeState(),d.loadAd(i,t),!0}if(t.isSpotX()){var a=new SpotXManager(s.advertisingLib,s.playerAccessor,t);return i.setAdManager(a),e.startUpdatingCurrentContentTimeState(),a.loadAd(i),!0}},this.startLoadingContainer=function(){if(!s.stopped){var e=i.shiftPrioritizedMediaFiles();if(e){var t=window.setTimeout(s.BeforeLoadingContainerFailed,1e3*i.getLoadingContainerTimeout(),i);return window.playerLog("set timeout id: "+t),i.setLoadingContainerTimeoutId(t),s.loadTruvidMediaFile(e,t)}}return!1},this.BeforeLoadingContainerFailed=function(e){window.playerLog("timeout reached on loading container"),s.onLoadingContainerFailed(e)},this.loadMediaFile=function(){if(!s.stopped&&i){window.playerLog("load media file");var e=!1;for(window.playerLog(i.mediaFiles.length),window.playerLog(e);!e&&i.mediaFiles.length;)window.playerLog("start loading container"),e=s.startLoadingContainer();0==e&&(i.mediaFiles.length?s.loadMediaFile():(window.playerLog("reset current truvid ad - going to load ad by priority"),i=null,s.loadAdByPriority()))}else window.playerLog("reset current truvid ad - going to load ad by priority"),i=null,s.loadAdByPriority()}},AdvertisingLib=function(e,t){function n(e){window.playerLog("function onAdLoaded"),L.currentBidSession&&(z=!0,L.currentBidSession&&L.currentBidSession.getCurrentTruvidAd()&&(window.playerLog("function onAdLoaded - clear loading container timeout"),L.currentBidSession.getCurrentTruvidAd().clearLoadingContainerTimeout()),t.setters.isAdPlaying(!0),!e&&W&&t.methods.saveContentState(),R.dispatchEvent(new CustomEvent("adLoaded")),C(de.AdReadyToPlay))}function i(){t.getters.isMediaPlayingIsDifferentThanContent()&&t.methods.restoreContentState(!0,!0)}function r(){W&&(z||t.getters.playerContentStatus()==t.consts.PLAYER_CONTENT_STATUS_PLAYING&&1==t.getters.video().paused)&&(window.playerLog("restoring content - switch to content"),t.methods.restoreContentState(!0,!0),z=!1,B=!1,L.currentBidSession&&L.currentBidSession.resetCurrentTruvidAd(),L.currentBidSession=null)}function s(){return e.isPreroll||e.midrollCount||e.isPostroll}function o(e){var n=new InstreamWidgetEventListener(L,t);U.push(n),n.onPlayerReady(),n.cloneAdSlotsToCurrentAdSlots(),e&&n.removePrerollAdSlot()}function d(){return new Promise(function(n){if(w()){var i=new FloaterWidgetListener(L,t);U.push(i)}else if(m()){var r=new InReadWidgetListener(L,t);U.push(r)}else if(t.getters.startPrerollBeforeContent()&&e.isPreroll)E=new PrerollMethod(L,t),U.push(E);else if(t.getters.imageMode()){var s=new ImageModeListener(L,t);U.push(s)}else{var o=new InstreamWidgetEventListener(L,t);U.push(o)}if(a()){var d=new Passback(L,t);U.push(d)}if(void 0!==y.prebidAds&&y.prebidAds){var u=new PrebidListener(L,t);U.push(u),u.init().then(function(){n()})}else n()})}function a(){return 0!=t.getters.passbackLength()&&t.getters.passbackLength()>0||0!=t.getters.passbackAdSlots()&&t.getters.passbackAdSlots()>0}function u(){C(de.BiddingSessionEnds),L.currentBidSession&&!B&&L.currentBidSession.getCurrentTruvidAd()&&L.currentBidSession.getCurrentTruvidAd().getAdManager()&&L.currentBidSession.getCurrentTruvidAd().getAdManager().destroy()}function g(){s()&&(b||(b=new ImaManager(L,t)).initialize())}function l(e){window.playerLog("reset current bid session - restart bidding session"),L.currentBidSession=null,Z="",$=!1,h(e)}function c(){return re!=x||ie!=_}function h(e){window.playerLog("start bidding session"),p(t.getters.opportunityPixel()),g();if(s()){if(R.dispatchEvent(new CustomEvent("onBiddingSessionStart")),$||(J++,X++),void 0!==y.shiftToC2POnNoAds&&1==y.shiftToC2POnNoAds&&J>Y&&!$)t.methods.pauseContent(),J=0;else if(!v()&&!j){L.currentBidSession=new BiddingSession(L,t,{adOffset:e.type,ads:[]}),L.currentBidSession.ListenToBiddingSessionEnds(function(){S()});var n=O+Z;L.injectMacros(n).then(function(t){ee&&X>y.nonLinear.slots&&(t+="&getnl=1",X=0),$?L.loadAdByUrl(t,function(){l(e)}):te?(te=!1,f(),L.currentBidSession.startBiddingSession(t)):c()?(f(),te=!1,L.currentBidSession.startBiddingSession(t)):L.currentBidSession.startLoadingLastAds()})}}else window.playerLog("reset current bid session - start biddign session"),L.currentBidSession=null}function f(){ie=_,re=x}function v(){return null!=L.currentBidSession}function A(){var e=new Promise(function(e){void 0!==window.__cmp?window.__cmp("getConsentData",null,function(t){e(t.consentData?t.consentData:"")}):e("")}),t=new Promise(function(e){setTimeout(function(){e("")},500)});return Promise.race([e,t])}function p(e){if("object"==typeof window&&"undefined"!=typeof Image)return void((new Image).src=e);var t=VAST_VMAP_XHROptions.XMLHttpRequest();t.open("get",e,!0),VAST_VMAP_XHROptions.onBeforeSend(e,"tracking-pixel",t),t.send()}function S(){window.playerLog("bidding session ends"),V++,L.currentBidSession&&L.currentBidSession.abort(),L.currentBidSession=null,t.setters.isAdPlaying(!1),C(de.BiddingSessionEnds)}function C(e,t){return new Promise(function(n){for(var i=[],r=U.length-1;r>=0;r--)if(void 0!==U[r]["on"+e]){var s=U[r]["on"+e](t);s&&i.push(s)}i.length?Promise.all(i).then(function(){n()}):n()})}function w(){return"floater"==t.getters.widgetType()}function m(){return"in_read"==t.getters.widgetType()}function T(){var e=this.shiftPrioritizedMediaFiles();L.currentBidSession=new BiddingSession(L,t,null),L.currentBidSession.setCurrentTruvidAd(this),L.currentBidSession.loadTruvidMediaFile(e)}this.currentBidSession=null;var y=e,L=this,B=!1;this.allowedContainers=["application/javascript","google/ima","spotsdk","video/mp4"],this.AD_OFFSETS={PREROLL:1,MIDROLL:2,POSTROLL:3};var P,b,E,M,V=1,R=document.getElementById(t.getters.elemId()),F=[],I=new ThirdPartyLoader,O=null,U=[],D=!0,k=null,N=Math.ceil(t.getters.height()),q=Math.ceil(t.getters.width()),_=Math.ceil(t.getters.width()),x=Math.ceil(t.getters.height()),j=!1,W=!0,z=!1,H=!0,G=1,J=0,X=0,Y=10,Q=null,K=!0,Z="",$=!1,ee=void 0!==y.nonLinear&&void 0!==y.nonLinear.load&&1==y.nonLinear.load&&void 0!==typeof y.nonLinear.slots,te=!0,ne=[],ie=-1,re=-1,se=null,oe=0,de={PlayerReady:"PlayerReady",NewVideoPlayingRequest:"NewVideoPlayingRequest",AdReadyToPlay:"AdReadyToPlay",AdFinishedPlaying:"AdFinishedPlaying",BiddingSessionEnds:"BiddingSessionEnds",AdSlotChange:"AdSlotChange",ContentTimeUpdate:"ContentTimeUpdate",ContentTimeUpdateByUser:"ContentTimeUpdateByUser",ContentVideoEnd:"ContentVideoEnd",ContentVolumeChange:"ContentVolumeChange",ContentPlay:"ContentPlay",ContentPaused:"ContentPaused",AdInitiated:"AdInitiated",AdStarted:"AdStarted",NoAdStartedInBiddingSession:"NoAdStartedInBiddingSession"};this.adLibEvents=de,this.maxAdStarts=null!=typeof y.maxAdStarts?y.maxAdStarts:null,this.getMaxAdStarts=function(){return this.maxAdStarts},this.setLastVastAds=function(e){ne=e},this.getLastVastAds=function(){return ne},this.pauseAd=function(){L.currentBidSession&&L.currentBidSession.getCurrentTruvidAd()&&L.currentBidSession.getCurrentTruvidAd().getAdManager()&&L.currentBidSession.getCurrentTruvidAd().getAdManager().pauseAd()},this.resumeAd=function(){L.currentBidSession&&L.currentBidSession.getCurrentTruvidAd()&&L.currentBidSession.getCurrentTruvidAd().getAdManager()&&L.currentBidSession.getCurrentTruvidAd().getAdManager().resumeAd()},this.getAllowedContainers=function(){return this.allowedContainers.slice(0)},this.setAllowedContainers=function(e){this.allowedContainers=e},this.addEventSubscriber=function(e){U.push(e)},this.setStartAdOnAdLoadedEvent=function(e){H=e},this.getStartAdOnAdLoadedEvent=function(){return H},this.increaseIMARequestCount=function(){G++},this.setCanCreateNewSlotsOnView=function(e){K=e},this.getCanCreateNewSlotsOnView=function(){return K},this.setAdOffset=function(){y.isPreroll?P=this.AD_OFFSETS.PREROLL:y.midrollCount?P=this.AD_OFFSETS.MIDROLL:y.isPostroll&&(P=this.AD_OFFSETS.POSTROLL)},this.widgetToFloater=function(){var e=t.getters.widgetToFloater();if(e.isResponsive)var n=e.height,i=e.width;else if(e.value)var n=e.height,i=e.width;else var n=t.getters.height(),i=t.getters.width();var r=t.getters.getElementDimension(R);L.syncContentDimensions(r.width,r.height),B&&(0!=i&&0!=n||(i=0==q?t.getters.width():q,n=0==N?t.getters.height():N),L.currentBidSession.getCurrentTruvidAd()&&L.currentBidSession.getCurrentTruvidAd().getAdManager()&&L.currentBidSession.getCurrentTruvidAd().getAdManager().resizeAd(i,n)),t.methods.resizeSpinner(i,n),L.syncContentDimensions(i,n)},this.startPendingAd=function(){if(L.currentBidSession&&L.currentBidSession.getCurrentTruvidAd()&&L.currentBidSession.getCurrentTruvidAd().getAdManager()){var e=t.getters.getElementDimension(R);L.syncContentDimensions(e.width,e.height),L.currentBidSession.getCurrentTruvidAd().getAdManager().resizeAd(q,N),L.currentBidSession.getCurrentTruvidAd().getAdManager().startAd(),H=!0}},this.getCurrentAdDuration=function(){if(L.currentBidSession&&L.currentBidSession.getCurrentTruvidAd()&&L.currentBidSession&&L.currentBidSession.getCurrentTruvidAd().getAdManager())return L.currentBidSession&&L.currentBidSession.getCurrentTruvidAd().getAdManager().getAdDuration()},this.onAdLoaded=function(e){L.currentBidSession?(this.stopUpdateCurrentContentTimeState(),n(e)):Q&&(this.stopUpdateCurrentContentTimeState(),L.currentBidSession&&L.currentBidSession.getCurrentTruvidAd()&&L.currentBidSession.getCurrentTruvidAd().clearLoadingContainerTimeout(),z=!0,t.setters.isAdPlaying(!0),t.methods.saveContentState(),R.dispatchEvent(new CustomEvent("adLoaded")),C(de.AdReadyToPlay))},this.onAdStarted=function(){B=!0,this.trackAdViewability(),R.dispatchEvent(new CustomEvent("adStarted")),J=0,X=0,C(de.AdStarted)},this.trackAdViewability=function(){oe=0;se=setInterval(function(){t.getters.viewable()?oe+=10:oe=0,2e3>oe||(L.currentBidSession&&L.currentBidSession.getCurrentTruvidAd()&&L.currentBidSession.getCurrentTruvidAd().fireViewability(),this.stopTrackingAdViewability())}.bind(this),10)},this.stopTrackingAdViewability=function(){clearInterval(se),oe=0},this.onContentVolumeChange=function(){C(de.ContentVolumeChange)},this.onContentPlay=function(){C(de.ContentPlay)},this.onContentVideoPaused=function(){C(de.ContentPaused)},this.onVideoEnd=function(){C(de.ContentVideoEnd),u(),k&&clearTimeout(k)},this.switchToContent=function(){r()},this.onAdStopped=function(e){this.stopTrackingAdViewability(),L.currentBidSession&&L.currentBidSession.getCurrentTruvidAd()&&L.currentBidSession.getCurrentTruvidAd().getIsLoaded()?R.dispatchEvent(new CustomEvent("adStoppedAfterLoad")):R.dispatchEvent(new CustomEvent("endAd")),B=!1,window.playerLog("on ad stopped"),C(de.AdFinishedPlaying),window.playerLog("reset current truvid ad - on ad stopped"),L.currentBidSession&&L.currentBidSession.resetCurrentTruvidAd(),S(),t.setters.isAdPlaying(!1),this.stopUpdateCurrentContentTimeState(),e?z=!1:r()},this.setAllowSavingAndRestoreContent=function(e){W=e},this.canStartBiddingSession=function(){return null==this.currentBidSession},this.getAdvertisingConfiguration=function(){return y},this.stopFutureBiddingSessions=function(){j=!0},this.getStopFutureBiddingSessions=function(){return j},this.init=function(){return new Promise(function(e){if(L.setAdOffset(),s()){var n=t.getters.getElementDimension(R);L.syncContentDimensions(n.width,n.height),O=t.getters.getVastPath(),I.ensureThirdPartyLibrariesAreLoaded().then(function(){d().then(function(){e()})})}else e()})},this.removeEventSubscribers=function(){for(var e=0;e<U.length;e++)U.splice(0,1)},this.removeEventSubscriber=function(e){for(var t=0;t<U.length;t++)if(U[t]==e){U.splice(t,1);break}},this.setToStartContent=function(){t.setters.setPlayerContentStatus(t.consts.PLAYER_CONTENT_STATUS_PLAYING)},this.skipAd=function(){L.currentBidSession&&L.currentBidSession.getCurrentTruvidAd()&&L.currentBidSession.getCurrentTruvidAd().getAdManager()&&(R.dispatchEvent(new CustomEvent("endAd")),window.playerLog("ad skipped"),L.currentBidSession.getCurrentTruvidAd().getAdManager().skipAd()),this.stopTrackingAdViewability()},this.startBiddingSession=function(e){h(e)},this.killBiddingSession=function(){u(),L.currentBidSession&&L.currentBidSession.getCurrentTruvidAd()&&L.currentBidSession.getCurrentTruvidAd().getIsLoaded()&&r()},this.onPlayerReady=function(){return new Promise(function(e){var n=t.getters.getElementDimension(R);L.syncContentDimensions(n.width,n.height),C(de.PlayerReady).then(function(){e()})})},this.setAllowedToStartNewVideos=function(e){D=e},this.setAllowStartingContentOnPlayRequest=function(e){t.setters.setAllowStartingContentOnPlayRequest(e)},this.syncContentDimensions=function(e,t){var n=Math.ceil(e),i=Math.ceil(t);q=n,N=i,e>0&&t>0&&(_=q,x=N)},this.onContentTimeUpdate=function(e){M=e,C(de.ContentTimeUpdate,e)},this.setCurrentAdPlaying=function(e){B=e},this.createInstreamWidgetEventListener=function(e){o(e)},this.createInReadWidgetEventListener=function(e){var n=new InReadWidgetListener(L,t);e&&n.removePrerollAdSlot(),U.push(n)},this.pushAdSlot=function(e){F.push(e)},this.OnContentTimeUpdateByUser=function(e){C(de.ContentTimeUpdateByUser,e)},this.advertisingState=function(){var e=!1;return B&&L.currentBidSession&&L.currentBidSession.getCurrentTruvidAd()&&L.currentBidSession.getCurrentTruvidAd().getAdManager()&&(e=L.currentBidSession.getCurrentTruvidAd().getAdManager().isCurrentAdPaused()),{paused:e}},this.destroyBiddingSession=function(){L.currentBidSession&&(L.currentBidSession.destroy(),this.stopUpdateCurrentContentTimeState(),window.playerLog("destroy current truvid ad - new video"))},this.onNewVideo=function(){return window.playerLog("on new video"),new Promise(function(e){V=1,B=!1,clearTimeout(k),L.currentBidSession&&(L.currentBidSession.destroy(),window.playerLog("reset current truvid ad - new video")),window.playerLog("reset current bid session - on new video"),L.currentBidSession=null,te=!0,C(de.NewVideoPlayingRequest).then(function(){e()}),"undefined"!=y.addSlotOnView&&(K=!0)})},this.clearAdvertisingUI=function(){E&&E.stopSpinner()},this.onAdSlot=function(){C(de.AdSlotChange)},this.initializeAdManagers=function(){g()},this.stopAddingBiddingSessionOnView=function(){y.addSlotOnView=!1},this.getImaAdManager=function(){return b},this.injectMacros=function(e){return new Promise(function(n){var i={};try{i.userAgent=navigator.userAgent}catch(e){}var r=t.getters.domain();i.prtclDomain=encodeURIComponent(t.getters.protocol()+"//"+r),i.pageTitle=document.title,i.domain=encodeURIComponent(r),i.width=_,i.height=x,i.pageUrl=encodeURIComponent(r),i.vw=1==t.getters.viewable()?1:0,i.cb="[CACHEBUSTING]",i.timestamp=Math.round((new Date).getTime()/1e3),i.ip=t.getters.ip(),i.userCountry=t.getters.userCountry();var s=t.getters.geoLocation();if(i.latitude=encodeURIComponent(s?s.lat:""),i.longitude=encodeURIComponent(s?s.long:""),i.location=encodeURIComponent((s?s.lat:"")+","+(s?s.long:"")),i.pageHref=t.getters.pageUrl(),t.methods.noContentMode())i.videoTitle="",i.videoDesc="",i.videoDuration="0",i.videoId="nocontent",i.videoUrl="nocontent_720",i.lng2="",i.lng="";else if(t.getters.playlistContent()){var o=t.methods.getCurrentVideoObj();i.videoTitle=o.title,i.videoDesc=o.description,i.videoDuration=t.getters.duration(),i.videoUrl=t.methods.getCurrentVideoUrl(),i.videoId=o.vf,i.lng2=o.lng,i.lng=o.lng}i.imaCount=G;var d=function(e,t){var i={};for(var r in t)i["["+r+"]"]=encodeURIComponent(t[r]);var s=""+parseInt(99999999*Math.random(),10);i["[cb]"]=Array(9-s.length).join("0")+s;for(r in i)e=e.replace(r,i[r]);n(e)};e.includes("[userGdprConsent]")?A().then(function(t){i.userGdprConsent=t,d(e,i)}):d(e,i)})},this.firePixel=function(e){p(e)},this.setOnBiddingSessionLoadAd=function(e){$=e},this.setExtraVastParameters=function(e){Z=e},this.setLoadVastOnNextBiddingSession=function(e){te=e},this.onLoadingContainerFailed=function(e){window.playerLog("on loading container failed - advertising"),L.currentBidSession&&L.currentBidSession.getCurrentTruvidAd()&&L.currentBidSession.getCurrentTruvidAd().getIsLoaded()&&R.dispatchEvent(new CustomEvent("adStoppedAfterLoad")),L.currentBidSession&&e==L.currentBidSession.getCurrentTruvidAd()&&this.stopUpdateCurrentContentTimeState(),L.currentBidSession&&(i(),L.currentBidSession.onLoadingContainerFailed(e))},this.onViewabilityChange=function(e){K&&!L.currentBidSession&&e&&s()&&void 0!==y.addSlotOnView&&1==y.addSlotOnView&&!B&&!L.currentBidSession&&(t.getters.playing()&&!t.getters.video().paused&&t.getters.currentTime()>0||m())&&(window.playerLog("adding a new slot on view"),h({offset:0,type:y.isPreroll?this.AD_OFFSETS.PREROLL:y.isMidroll?this.AD_OFFSETS.MIDROLL:this.AD_OFFSETS.POSTROLL}),K=!1)},this.resizeAd=function(e,n){if(z){if(window.playerLog("resize ad"),0==e||0==n){var i=t.getters.getElementDimension(R);L.syncContentDimensions(i.width,i.height),e=0==q?t.getters.width():q,n=0==N?t.getters.height():N}L.currentBidSession.getCurrentTruvidAd()&&L.currentBidSession.getCurrentTruvidAd().getAdManager()&&L.currentBidSession.getCurrentTruvidAd().getAdManager().resizeAd(e,n)}},this.fireEventToEventSubscriber=function(e,t){C(e,t)},this.startUpdatingCurrentContentTimeState=function(){t.methods.updateCurrentContentTimeState(),k=setInterval(function(){t.methods.updateCurrentContentTimeState()},50)},this.stopUpdateCurrentContentTimeState=function(){clearInterval(k)},this.getAllowedToStartNewVideos=function(){return D},this.getRequestWidth=function(){return _},this.getRequestHeight=function(){return x},this.getContentDuration=function(){var e=!1;return m()||t.methods.noContentMode()?e=0:t.getters.playlistContent()&&(e=t.methods.getCurrentVideoDuration()),e},this.loadJSFile=function(e){return I.loadJSFile(e)},this.getPrebidVastUrl=function(){return!y.prebidAds||void 0!==y.prebidAds.isUsed&&0!=y.prebidAds.isUsed?null:y.prebidAds.vastUrl},this.markPrebidAsUsed=function(){y.prebidAds.isUsed=!0},this.loadAdByUrl=function(e,t){this.injectMacros(e).then(function(e){(Q=new TruvidAd(null,e,L.getAllowedContainers())).requestMediaFiles(this.getRequestWidth(),this.getRequestHeight(),T,t)}.bind(this))}},ThirdPartyLoader=function(){function e(e){return new Promise(function(t,n){var i=document.createElement("script");i.src=e;var r=document.getElementsByTagName("head")[0],s=!1;i.onload=i.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,t(),i.onload=i.onreadystatechange=null)},i.onerror=function(){n()},r.appendChild(i)})}this.ensureThirdPartyLibrariesAreLoaded=function(){return new Promise(function(t){(function(){return new Promise(function(t){e("//imasdk.googleapis.com/js/sdkloader/ima3.js").then(function(){t()}).catch(function(){t()})})})().then(function(){window.playerLog("loading third party complete"),t()})})},this.loadJSFile=function(t){return e(t)}};!function(e){e.hmsToSecondsOnly=function(e){for(var t=e.split(":"),n=0,i=1;t.length>0;)n+=i*parseInt(t.pop(),10),i*=60;return n},e.isHTML5VideoSupported=function(){return void 0!=document.createElement("video").canPlayType},e.isVideoFormatMP4Supported=function(){return document.createElement("video").canPlayType("video/mp4").length>0},e.isVideoFormatWEBMSupported=function(){return document.createElement("video").canPlayType("video/webm").length>0},e.isVideoFormatSupported=function(e){return document.createElement("video").canPlayType(e).length>0},e.isScrolledIntoView=function(e,t,n){if(null!=e){var i=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom,r=t/2;return i>=0&&i+r<=(n||window).innerHeight||o-r>0&&t>o-r}return!1},e.mergeJson=function(e,t){var n={};for(var i in e)n[i]=e[i];for(var i in t)n[i]=t[i];return n},e.whichTransitionEvent=function(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MSTransition:"msTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]},e.getJSONP=function(e,t){var n="_"+ +new Date,i=document.createElement("script"),o=document.getElementsByTagName("head")[0]||document.documentElement;window[n]=function(e){o.removeChild(i),t(e)},e.indexOf("?")>-1?e=e.replace("?","?callback="+n+"&"):e+="?callback="+n,i.src=e,o.appendChild(i)},e.setScriptsVersion=function(e,t){if(e.indexOf("/v"+t+"/")>-1)return e;var n=e.split("/").filter(function(e){return e.length>0}),i=n.splice(n.indexOf("scripts")+1);return"/"+n.join("/")+"/v"+t+"/"+i.join("/")},e.trackViewability=function(e,t,n){var i=e.document.getElementById(n);if(!i)try{window.frameElement&&(i=window.frameElement)}catch(e){}var o={root:null,rootMargin:"0px",threshold:.5},r=function(e,n){.5>e[0].intersectionRatio?t&&t(!1):t&&t(!0)};new IntersectionObserver(r,o).observe(i)},e.showPlacement=function(e,t){if(t.is_responsive){var n=(t.height/t.width*100).toFixed(2);e.style.paddingBottom=n+"%",e.style.height=0,e.style.position="relative"}else e.style.position="relative",e.style.height=t.height+"px",e.style.width=t.width+"px"},e.isMobile=function(){return navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i)},e.setPixel=function(e){var t=this.widgetObj||this;return t.pixels&&t.pixels[e]?t.pixelPath+"?e="+t.pixels[e]:t.pixelPath+"?e="},e.setDummy=function(e,t,n,i,o,r){if(!document.getElementById(e+"_dummy")){if(r)l=n+"640X480.jpg";else var l=n+(400>i||300>o?"300X250":"640X480")+".jpg";var a=(o/i*100).toFixed(2),d=document.createElement("div");d.style.backgroundImage='url("'+l+'")',d.style.backgroundPosition="50% 50%",d.style.backgroundSize="cover",r?(d.style.width="100%",d.style.height="0px !important",d.style.paddingBottom=a+"%"):(d.style.width=i+"px",d.style.height=o+"px"),d.style.top="0px",d.style.left="0px",d.style.display="none",d.id=e+"_dummy",t.parentNode.insertBefore(d,t)}},e.promisePoster=function(e){return new Promise(function(t,n){var i=new Image;i.onload=function(){t(e)},i.onerror=function(){t(e.replace("_2","_1"))},i.src=e})},e.getStyle=function(e,t){if(e){if(e instanceof HTMLDocument)return null;if("[object HTMLDocument]"==Object.prototype.toString.call(e))return null;if(window.getComputedStyle){var n=window.getComputedStyle(e,null);if(!n)return null;i=n.getPropertyValue(t)}else if(e.currentStyle)var i=e.currentStyle[t];return i}},e.getElementDimension=function(e){var t;return e.getBoundingClientRect?(t=e.getBoundingClientRect(),{width:t.width,height:t.height}):{width:e.offsetWidth,height:e.offsetHeight}},e.inFriendlyIframe=function(){try{if(window.frameElement&&void 0!==window.parent.location&&void 0!==window.parent.location.href){var e=window.parent.location.href;e.indexOf("#")>0&&(e=e.substr(0,e.indexOf("#")));var t=window.location.href;return t.indexOf("#")>0&&(t=t.substr(0,t.indexOf("#"))),e==t}}catch(e){return!1}},e.inIframe=function(){try{return window.self!==window.top}catch(e){return!1}},e.convertToJSON=function(e){return"string"==typeof e?JSON.parse(e):e},e.firePixel=function(e){if("object"==typeof window&&"undefined"!=typeof Image&&"undefined"==typeof buster)return void((new Image).src=e);var t=new XMLHttpRequest;t.open("get",e,!0),t.send()}}(window.br_util=window.br_util||{}),String.prototype.startsWith||(String.prototype.startsWith=function(e){return!this.indexOf(e)});function parseUserEnvironment(t){var e=window.br_util.isMobile(),i=e&&t&&void 0!=t.device&&void 0!=t.device.type?t.device.type.toLowerCase():"",s=e&&t&&void 0!=t.os&&void 0!=t.os.name?t.os.name.toLowerCase():"";return{mobile_device:!!e&&(i.indexOf("mobile")>-1?"mobile":i.indexOf("tablet")>-1?"tablet":""),mobile_os:!(!e||void 0==s)&&(s.indexOf("ios")>-1?"ios":s.indexOf("android")>-1?"android":s.indexOf("windows")>-1?"windows":""),os:t&&void 0!=t.os&&void 0!=t.os.name&&void 0!=t.os.version?(t.os.name+" "+t.os.version).toLowerCase():"",browser:t&&void 0!=t.browser&&void 0!=t.browser.name&&void 0!=t.browser.major?(t.browser.name+" "+t.browser.major).toLowerCase():""}}"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=1;s<arguments.length;s++){var o=arguments[s];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}return i},writable:!0,configurable:!0});var Widget=function(t){var e,i=window.br_util;"undefined"!=typeof UAParser?e=(new UAParser).getResult():"undefined"!=typeof exports&&void 0!==exports.UAParser?e=(new exports.UAParser).getResult():"undefined"!=typeof $&&void 0!==$.ua?e=$.ua:void 0!==window.ua&&(e=window.ua);var s=parseUserEnvironment(e);if(this.userEnvironment=s,this.version=t.version,this.sub_user_id=t.sub_user_id,this.widget_type=t.widget_type,this.publisher_id=t.user_id,this.widget_id=t.widget_id,this.playerId=t.br_id,this.shown=!1,this.pageUrl=t.pageUrl,this.domain=t.domain,this.ad_id=t.ad_id,this.isLoop=void 0!=t.is_loop?t.is_loop:void 0!=t.repeat&&t.repeat,this.repeatCounter=void 0!=t.repeat_counter&&t.repeat_counter>0&&t.repeat_counter,this.backgroundColor=void 0!=t.background_color?t.background_color:"#000000",this.mute=void 0!==t.mute?t.mute:void 0!==t.is_mute&&t.is_mute,this.org_url=t.org_url,this.js_cdn_url=t.js_cdn_url,this.mobileEnvironment=s.mobile_device,this.playlistData=t.playlistData,i.isHTML5VideoSupported()&&i.isVideoFormatMP4Supported())if(this.is_network_widget=void 0!==t.is_network_widget&&t.is_network_widget,void 0!==t.playinit_method?this.playInitMethod=t.playinit_method||"autoplay":void 0!==t.is_autoplay?this.playInitMethod=t.is_autoplay?"autoplay":"click_to_play":this.playInitMethod="autoplay",this.width=t.width,this.height=t.height,this.macroHeight=this.height,this.macroWidth=this.width,this.protocol=t.protocol,this.pixelPath=t.pixelPath,this.dynamicPixelPath=t.dynamicPixelPath,this.vastPath=t.vastPath,this.brplayerPath=t.brplayerPath,this.debugMode="1"==t.debugMode,this.debugMessages=t.debugMessages,this.startPrerollBeforeContent="in_stream"==t.widget_type&&void 0!==t.preroll_method&&"spinner"==t.preroll_method,this.spinnerPrerollTimeoutLength=void 0!=t.preroll_method_seconds?t.preroll_method_seconds:3,this.userAdStartsHistory=t.user_ad_starts_history,this.toggleSoundOnHover=t.sound_on_mouse_over,this.ip=t.ip||"",this.userAgent=t.user_agent||"",this.userCountry=t.user_country||"",this.passback=t.passback,this.floaterMethod="floater"==t.widget_type&&void 0!=t.floater_method?t.floater_method:"",this.pixels=t.pixels,this.opportunityPixel=i.setPixel.call(this,"op"),this.playerLoadPixel=i.setPixel.call(this,"pl"),this.contentPixelTemplate=i.setPixel.call(this,"cnt"),this.isResponsive=void 0!=t.is_responsive&&t.is_responsive,this.imageMode=void 0!=t.imageMode&&t.imageMode,this.geoLocation=t.geoLocation,this.isNativeClickOpensNewWindow=void 0===t.is_native_click_new_window||t.is_native_click_new_window,this.isAdControlBarPermanent=void 0!==t.is_ad_controlbar_permanent&&t.is_ad_controlbar_permanent,i.isMobile()&&(this.networkWidgetBackgroundPath=t.networkWidgetBackgroundPath,this.hasContent=t.hasContent,this.mobileMacros=t.mobileMacros),this.isABTestingActive=void 0!==t.isab&&1==t.isab,this.useCustomCSS=void 0!==t.is_custom_css&&1==t.is_custom_css,this.isFullscreen=!(void 0===t.is_fullscreen||!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled))&&t.is_fullscreen,t.adblockEnabled){l={isPreroll:!1,midrollCount:0,isPostroll:!1};this.ads=l}else{var o=!1,r=0,n=!1;void 0!==t.adset_is_default&&1==t.adset_is_default?(o=!0,r=3):(o=void 0!==t.adset_is_preroll&&1==t.adset_is_preroll,r=void 0!==t.adset_midroll_count?t.adset_midroll_count:0,n=void 0!==t.adset_is_postroll&&1==t.adset_is_postroll);var a=void 0!==t.is_load_nonlinear_ad&&void 0!==t.is_load_nonlinear_ad_slots_num&&1==t.is_load_nonlinear_ad,l={isPreroll:o,midrollCount:r,isPostroll:n};void 0!==t.shift_to_c2p_on_no_ads&&1==t.shift_to_c2p_on_no_ads&&(l.shiftToC2POnNoAds=!0),a&&(l.nonLinear={},l.nonLinear.load=a,l.nonLinear.slots=t.is_load_nonlinear_ad_slots_num),void 0!==t.hb_is_active&&1==t.hb_is_active&&(l.prebidAds=!0),this.ads?this.ads=Object.assign({},this.ads,l):this.ads=l}};Widget.prototype.loadVideoPlayer=function(){this.onVideoPlayerReady&&this.onVideoPlayerReady()},Widget.prototype.renderImpression=function(){this.renderBRVideoPlayer()},Widget.prototype.renderBRVideoPlayer=function(){var t=window.br_util;(function(){var e=Object.keys(this.playlistData.playlist||{}),i={elemId:"#"+this.advertismentPlaceholder.id,ad_id:this.ad_id,width:this.width,height:this.height,playlist:e.length>0,autoplay:"autoplay"==this.playInitMethod,mute:this.mute,vastPath:this.getVastPath(),debugMode:this.debugMode,debugMessages:this.debugMessages,repeat:this.isLoop,repeatCounter:this.repeatCounter,backgroundColor:this.backgroundColor,opportunityPixel:this.opportunityPixel,contentPixelTemplate:this.contentPixelTemplate,playerLoadPixel:this.playerLoadPixel,protocol:this.protocol,isNetworkWidget:this.is_network_widget,startPrerollBeforeContent:this.startPrerollBeforeContent,spinnerPrerollTimeoutLength:this.spinnerPrerollTimeoutLength,widgetId:this.widget_id,userFailResponseHistory:this.userFailResponseHistory,userAdStartsHistory:this.userAdStartsHistory,toggleSoundOnHover:this.toggleSoundOnHover,domain:this.domain,passbackLength:!!this.passback&&this.passback.length,passbackAdSlots:!!this.passback&&this.passback.ad_slots,floaterMethod:this.floaterMethod,widgetType:this.widget_type,isResponsive:this.isResponsive,imageMode:this.imageMode,ads:this.ads,isNativeClickOpensNewWindow:this.isNativeClickOpensNewWindow,isAdControlBarPermanent:this.isAdControlBarPermanent,isFullscreen:this.isFullscreen,userEnvironment:this.userEnvironment,abTesting:this.isABTestingActive,pageUrl:this.pageUrl,ip:this.ip,userCountry:this.userCountry,geoLocation:this.geoLocation};if(t.isMobile()&&(i.mobileEnvironment=this.mobileEnvironment,void 0!=this.mobileMacros&&(i.mobileOS=this.mobileMacros.os)),this.imageMode)i.playlistContent=!1,i.network_widget_background_path=this.networkWidgetBackgroundPath;else if(Object.keys(this.playlistData.playlist||{}).length>0&&(!t.isMobile()||this.hasContent)){for(var s=0;s<this.playlistData.playlist.length;s++){for(var o=0;o<this.playlistData.playlist[s].files.length;o++)this.playlistData.playlist[s].files[o].url=this.playlistData.data.base_url+this.playlistData.playlist[s].files[o].url;this.playlistData.playlist[s].poster=this.playlistData.data.base_url+this.playlistData.playlist[s].poster}i.playlistContent=this.playlistData.playlist}if("in_read"==this.widget_type&&(i.playlistContent=!1),"floater"==this.widget_type&&t.isMobile()&&"mobile"==this.mobileEnvironment&&(i.playlistContent=!1),"floater"==this.widget_type&&(i.currentResolution=this.height),"in_stream"==this.widget_type&&(i.changeResolutionOnWindowsResize=!0),null!=this.setupParameters&&(i=t.mergeJson(i,this.setupParameters)),this.useCustomCSS){var r=document.createElement("link");r.rel="stylesheet",r.href="https://cnt.trvdp.com/css/"+this.sub_user_id+"/"+this.widget_id+".css",document.head.appendChild(r)}if(!this.shown){var n=function(t){var e=new BranovatePlayer;this.playerObj=e,e.onReady("#"+this.advertismentPlaceholder.id,function(){this.onRenderPlayer&&this.onRenderPlayer(),this.SetAutoplayMethod&&this.SetAutoplayMethod()}.bind(this)),this.playerObj=e,i.poster=t,e.setup(i)}.bind(this);i.playlist||!i.poster||400>this.width||300>this.height||t.isMobile()&&this.is_network_widget?n(i.poster):t.promisePoster(i.poster).then(n)}}).bind(this)()},Widget.prototype.getVastPath=function(){var t=window.br_util,e=this.vastPath+"&ver="+this.version+"&adid="+this.ad_id+"&videoUrl=[videoUrl]&height=[height]&width=[width]&pageHref="+encodeURIComponent(this.pageUrl)+"&videoId=[videoId]&d="+this.domain+"&wid="+this.widget_id+"&suid="+this.sub_user_id+"&env_os="+this.userEnvironment.os+"&env_browser="+this.userEnvironment.browser+"&imaCount=[imaCount]";return t.isMobile()&&void 0!=this.mobileMacros&&(e+="&osPlatform="+encodeURIComponent(this.mobileMacros.os)+"&device="+encodeURIComponent(this.userEnvironment.mobile_device)+"&mobile=true"),this.isABTestingActive&&(e+="&isab=true"),e},Widget.prototype.renderVideoPlayer=function(t){this.advertismentPlaceholder=t,this.renderImpression()},Widget.prototype.onViewability=function(){this.playerObj&&this.playerObj.onViewability()},Widget.prototype.firedViewabilityPixel=function(){window.br_util.firePixel(window.br_util.setPixel.call(this,"vw"))},Widget.prototype.getDynamicPixel=function(t,e,i){return this.dynamicPixelPath+"?e="+this.pixels[t]+"&"+e+"="+i},Widget.prototype.getCookieValue=function(t){try{for(var e,i=t+"=",s=decodeURIComponent(document.cookie).split(";"),o=0;o<s.length;o++){for(var r=s[o];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(i)){e=r.substring(i.length,r.length);break}}return e?JSON.parse(e):null}catch(t){return null}},Widget.prototype.writeCookie=function(t,e,i){try{var s=new Date;s.setTime(s.getTime()+i),document.cookie=t+"="+JSON.stringify(e)+";path=/;expires="+s+";domain=."+this.domain}catch(t){console.warn("could not set protected")}};function RegularWidget(t){this.windowToListenToEvents=window,this.setupParameters={inRead:!1},this.placementId=t.br_id.replace(/^#/,""),this.ad_id=t.ad_id,this.containerId="br_video_player_"+this.ad_id,this.outofviewMethod=t.outofview_method,this.floaterWidthOnOutofview=t.outofview_floater_width||t.width,this.floaterHeightOnOutofview=t.outofview_floater_height||t.height,this.floaterPositionOutOfView=t.outofview_floater_position||"bottom-right",this.outofviewFloaterStartWithFloater=void 0!==t.outofview_floater_showoninit&&1==t.outofview_floater_showoninit,this.outofviewAdOnlyFQ=void 0!==t.oov_adonly_fq&&t.oov_adonly_fq>0?t.oov_adonly_fq:null,this.outofviewAdOnlyFQDaily=void 0!==t.oov_adonly_fq_daily&&1==t.oov_adonly_fq_daily,this.outofviewAdOnlyTTL=864e5,this.outofviewCookieName="truvid_oov",this.backgroundPath=t.truvidBackgroundPath,this.isResponsive=t.is_responsive;var e=window.br_util;if(this.inFriendlyIframe=e.inIframe()&&e.inFriendlyIframe(),this.viewabilityPixelFired=!1,this.inFriendlyIframe&&(this.windowToListenToEvents=window.top),this.playerElement=document.getElementById(this.containerId),this.playerStartedOnView=!1,this.ads={},this.ads.addSlotOnView="floater"!=this.outofviewMethod,this.playerInView=!1,this.adIsPlaying=!1,this.adOnlyOOVTimesShown=0,this.countViewability=void 0!==t.dynamicPixelPath,this.viewabilityTotalTime=0,this.sessionTotalTime=0,this.viewabilityInterval=null,1==this.outofviewAdOnlyFQDaily){var i=this.getCookieValue(this.outofviewCookieName);i&&void 0!==i.timesShown&&(this.adOnlyOOVTimesShown=i.timesShown)}this.adOnlyFloaterClosed=!1,this.floaterPadding=void 0!==t.floater_padding?t.floater_padding:0,this.closeFloaterDelay=void 0!==t.close_floater_delay?t.close_floater_delay:null,this.closeFloaterCurrentTime=this.closeFloaterDelay?Math.floor(this.closeFloaterDelay):null,this.closeFloaterDelayInterval=null,this.startTrackingOutOfViewPause=!1,this.stopOutOfViewPause=!1,Widget.call(this,t)}RegularWidget.prototype=Object.create(Widget.prototype),RegularWidget.prototype.constructor=Widget,RegularWidget.prototype.renderWidget=function(){this.loadVideoPlayer()},RegularWidget.prototype.showFloaterOnAdOnlyOVV=function(){"adonly"==this.outofviewMethod&&this.outofviewAdOnlyFQ&&(this.adOnlyOOVTimesShown++,this.outofviewAdOnlyFQDaily&&this.adOnlyOOVTimesShown<=this.outofviewAdOnlyFQ&&this.writeCookie(this.outofviewCookieName,{timesShown:this.adOnlyOOVTimesShown},this.outofviewAdOnlyTTL),this.adOnlyOOVTimesShown>this.outofviewAdOnlyFQ)||this.WidgetToFloater(!0)},RegularWidget.prototype.onViewabilityUpdate=function(t){t&&!this.viewabilityPixelFired&&(this.viewabilityPixelFired=!0,this.firedViewabilityPixel()),this.playerObj.updateViewability(t)},RegularWidget.prototype.onRenderPlayer=function(){var t=window.br_util,e=this.placementId;t.trackViewability(this.windowToListenToEvents,this.onViewabilityUpdate.bind(this),e),this.trackPlayerViewability(e),this.playerObj.onAdLoaded(function(){this.onAdLoaded()}.bind(this)),this.playerObj.onAdStoppedAfterLoadEvent(function(){this.onAdStoppedAfterLoadEvent()}.bind(this)),this.playerObj.onAdStarted(function(){}.bind(this)),this.playerObj.onUserMediaPause(function(){this.stopOutOfViewPause=!0}.bind(this)),this.playerObj.onUserMediaPlay(function(){this.stopOutOfViewPause=!1,this.SetOutofViewPause()}.bind(this)),this.playerObj.onAdEnd(function(){this.onAdEnd()}.bind(this)),this.passback&&this.playerObj.onPassbackSwitch(function(){this.stop=!0,window.clearInterval(this.viewabilityInterval),this.onPassbackCallback&&this.onPassbackCallback()}.bind(this)),this.countViewabilityTotal()},RegularWidget.prototype.onAdLoaded=function(){this.closeFloaterCurrentTime=this.closeFloaterDelay?Math.floor(this.closeFloaterDelay):null,this.adIsPlaying=!0,"adonly"==this.outofviewMethod&&(this.adOnlyFloaterClosed=!1,!this.playerInView&&this.adIsPlaying&&this.showFloaterOnAdOnlyOVV()),this.resetCounter()},RegularWidget.prototype.onAdStoppedAfterLoadEvent=function(){this.adIsPlaying=!1,this.adOnlyOOVTimesShown--,"adonly"==this.outofviewMethod&&this.isFloater&&this.WidgetToFloater(!1),this.resetFloaterCloseButton()},RegularWidget.prototype.trackOutOfViewOnWindowResize=function(){if(this.isFloater){var t=document.getElementById(this.playerId+"_close");if(t)switch(this.floaterPositionOutOfView){case"left-center":t.style.top=this.windowToListenToEvents.document.documentElement.clientHeight/2-this.floaterHeightOnOutofview/2-15+"px",t.style.left="0px",this.playerObj.widgetToFloater(this.isFloater,this.floaterWidthOnOutofview,this.floaterHeightOnOutofview,this.isResponsive,this.floaterPositionOutOfView);break;case"right-center":t.style.top=this.windowToListenToEvents.document.documentElement.clientHeight/2-this.floaterHeightOnOutofview/2-15+"px",t.style.right="0px",this.playerObj.widgetToFloater(this.isFloater,this.floaterWidthOnOutofview,this.floaterHeightOnOutofview,this.isResponsive,this.floaterPositionOutOfView)}}},RegularWidget.prototype.resetFloaterCloseButton=function(){var t=document.getElementById(this.playerId+"_close");t&&(this.closeFloaterDelay&&(this.closeFloaterCurrentTime=0,clearInterval(this.closeFloaterDelayInterval),this.closeFloaterDelayInterval=null),t.firstElementChild.textContent="[X] Close")},RegularWidget.prototype.onAdEnd=function(){this.adIsPlaying=!1,"adonly"==this.outofviewMethod&&this.isFloater&&this.WidgetToFloater(!1),this.resetFloaterCloseButton()},RegularWidget.prototype.SetOnPassbackCallback=function(t){this.onPassbackCallback=t},RegularWidget.prototype.onVideoPlayerReady=function(){this.shown||(this.renderVideoPlayer(document.getElementById(this.playerId)),this.SetOutofviewMethod())},RegularWidget.prototype.PausePlayer=function(){this.playerObj.pause()},RegularWidget.prototype.ResumePlayer=function(){this.playerObj.play()},RegularWidget.prototype.WidgetToFloater=function(t){if(this.playerObj){var e=document.getElementById(this.playerId+"_dummy");if(this.isFloater=t,this.isFloater)this.playerObj.widgetToFloater(this.isFloater,this.floaterWidthOnOutofview,this.floaterHeightOnOutofview,this.isResponsive,this.floaterPositionOutOfView,this.floaterPadding),this.windowToListenToEvents.addEventListener("resize",this.trackOutOfViewOnWindowResize.bind(this));else if(this.windowToListenToEvents.removeEventListener("resize",this.trackOutOfViewOnWindowResize.bind(this)),this.isResponsive){var i=window.br_util.getElementDimension(document.getElementById(this.playerId+"_dummy"));this.playerObj.widgetToFloater(this.isFloater,i.width,i.height,this.isResponsive,this.floaterPositionOutOfView,this.floaterPadding)}else this.playerObj.widgetToFloater(this.isFloater,this.floaterWidthOnOutofview,this.floaterHeightOnOutofview,this.isResponsive,this.floaterPositionOutOfView,this.floaterPadding);this.SetCloseButton(),e.style.display=this.isFloater?"block":"none"}},RegularWidget.prototype.closeFloater=function(){"aonly"==this.outofviewMethod&&(this.adOnlyFloaterClosed=!0),this.outofviewMethod&&"adonly"==this.outofviewMethod?this.adOnlyFloaterClosed=!0:this.playerObj.skip(),this.WidgetToFloater(!1),this.floaterOnOutofviewRemoved=!0},RegularWidget.prototype.SetCloseButton=function(){if(this.isFloater){if(!document.getElementById(this.playerId+"_close")){var t=document.getElementById(this.playerId),e=document.createElement("div"),i=document.createElement("div");switch(e.style.cssText="position: fixed; visibility: visible; height: 15px; width: "+this.floaterWidthOnOutofview+"px; background-color: rgb(00, 00, 00);text-align:left; z-index: 4999;direction:ltr;",e.id=this.playerId+"_close",this.floaterPositionOutOfView){case"top-left":e.style.left="0px",e.style.top=0+this.floaterPadding+"px";break;case"top-right":e.style.top=0+this.floaterPadding+"px",e.style.right="0px";break;case"bottom-right":e.style.bottom=this.floaterHeightOnOutofview-1+this.floaterPadding+"px",e.style.right="0px";break;case"bottom-left":e.style.bottom=this.floaterHeightOnOutofview-1+this.floaterPadding+"px",e.style.left="0px";break;case"left-center":e.style.top=this.windowToListenToEvents.document.documentElement.clientHeight/2-this.floaterHeightOnOutofview/2-15+"px",e.style.left="0px";break;case"right-center":e.style.top=this.windowToListenToEvents.document.documentElement.clientHeight/2-this.floaterHeightOnOutofview/2-15+"px",e.style.right="0px";break;default:e.style.right="0px"}i.style.cssText="position: relative; visibility: visible; display: inline; height: 15px; font-family: verdana; color: rgb(255, 255, 255); font-weight: bold; font-size: 9px; text-decoration: none; cursor: pointer; overflow: hidden; background-color: rgb(00, 00, 00);vertical-align: top;line-height:15px; margin-left: 4px;",e.appendChild(i),t.parentNode.appendChild(e),this.resetCounter()}}else(i=document.getElementById(this.playerId+"_close"))&&i.parentNode.removeChild(i)},RegularWidget.prototype.SetOutofViewPause=function(){!this.startTrackingOutOfViewPause&&this.isOutOfViewPause()&&this.playInitMethod&&"click_to_play"==this.playInitMethod&&(this.startTrackingOutOfViewPause=!0)},RegularWidget.prototype.onPlayerViewabilityCallback=function(t,e){.5>t[0].intersectionRatio?(this.playerInView=!1,"adonly"!=this.outofviewMethod||!this.adIsPlaying||this.isFloater||this.adOnlyFloaterClosed||this.showFloaterOnAdOnlyOVV()):this.playerInView=!0,!this.playerStartedOnView&&"autoplay_on_view"==this.playInitMethod&&this.playerInView&&(this.playerStartedOnView=!0,this.AutoplayOnViewability()),this.stopOutOfViewPause||this.startTrackingOutOfViewPause||!this.isOutOfViewPause()||!this.playInitMethod||"autoplay_on_view"!=this.playInitMethod&&"autoplay"!=this.playInitMethod||this.playerInView&&(this.startTrackingOutOfViewPause=!0),this.playerInView?!this.stopOutOfViewPause&&this.startTrackingOutOfViewPause&&this.ResumePlayer():!this.stopOutOfViewPause&&this.startTrackingOutOfViewPause&&this.PausePlayer()},RegularWidget.prototype.onDummyViewabilityCallback=function(t,e){this.isFloater&&(.5>t[0].intersectionRatio||this.WidgetToFloater(!1))},RegularWidget.prototype.trackDummyViewability=function(){var t={root:null,rootMargin:"0px",threshold:.5},e=new IntersectionObserver(this.onDummyViewabilityCallback.bind(this),t),i=document.getElementById(this.playerId+"_dummy");e.observe(i)},RegularWidget.prototype.trackPlayerViewability=function(t){var e={root:null,rootMargin:"0px",threshold:.5},i=new IntersectionObserver(this.onPlayerViewabilityCallback.bind(this),e),o=document.getElementById(t);i.observe(o)},RegularWidget.prototype.isOutOfViewPause=function(){return"pause"==this.outofviewMethod},RegularWidget.prototype.SetOutofviewMethod=function(){var t=window.br_util;if(!this.is_network_widget)if("floater"==this.outofviewMethod){if(t.setDummy(this.playerId,document.getElementById(this.playerId),this.backgroundPath,this.width,this.height,this.isResponsive),this.outofviewFloaterStartWithFloater){var e=t.getElementDimension(this.playerElement);t.isScrolledIntoView(this.playerElement,e.height)||(this.WidgetToFloater(!0),this.wasWidgetViewable=!0)}this.floaterOnOutofviewCallback=function(){if(!this.floaterOnOutofviewRemoved)if(this.wasWidgetViewable)if(this.isFloater){var e=document.getElementById(this.playerId+"_dummy"),i=t.getElementDimension(e);t.isScrolledIntoView(e,i.height)&&this.WidgetToFloater(!1)}else{o=t.getElementDimension(this.playerElement);t.isScrolledIntoView(this.playerElement,o.height)||this.WidgetToFloater(!0)}else{var o=t.getElementDimension(this.playerElement);t.isScrolledIntoView(this.playerElement,o.height)&&(this.wasWidgetViewable=!0)}}.bind(this),window.addEventListener("scroll",this.floaterOnOutofviewCallback)}else"adonly"==this.outofviewMethod&&(t.setDummy(this.playerId,document.getElementById(this.playerId),this.backgroundPath,this.width,this.height,this.isResponsive),this.trackDummyViewability())},RegularWidget.prototype.SetAutoplayMethod=function(){this.playInitMethod&&"autoplay_on_view"==this.playInitMethod&&(this.autoplayOnViewability=function(){window.br_util.isScrolledIntoView(this.playerElement,this.height)&&(window.removeEventListener("scroll",this.autoplayOnViewability),this.playerStartedOnView||(this.playerStartedOnView=!0,this.AutoplayOnViewability()))}.bind(this),window.addEventListener("scroll",this.autoplayOnViewability),this.autoplayOnViewability())},RegularWidget.prototype.AutoplayOnViewability=function(){this.ResumePlayer()},RegularWidget.prototype.resetCounter=function(){var t=document.getElementById(this.playerId+"_close");if(t){var e=t.firstElementChild;e.onclick=function(){this.closeFloaterDelay&&this.adIsPlaying?this.closeFloaterCurrentTime>0||(clearInterval(this.closeFloaterDelayInterval),this.closeFloaterDelayInterval=null,this.closeFloater()):this.closeFloater()}.bind(this),this.closeFloaterDelay?(this.closeFloaterCurrentTime>0&&this.adIsPlaying?e.textContent=this.closeFloaterCurrentTime:e.textContent="[X] Close",!this.closeFloaterDelayInterval&&this.adIsPlaying&&(this.closeFloaterDelayInterval=setInterval(function(){var t=document.getElementById(this.playerId+"_close");if(t){var e=t.firstElementChild;this.closeFloaterCurrentTime=this.closeFloaterCurrentTime-1,this.closeFloaterCurrentTime>0?e.textContent=this.closeFloaterCurrentTime:(clearInterval(this.closeFloaterDelayInterval),this.closeFloaterDelayInterval=null,e.textContent="[X] Close")}}.bind(this),1e3))):e.textContent="[X] Close"}},RegularWidget.prototype.countViewabilityTotal=function(){this.countViewability&&(this.viewabilityInterval=window.setInterval(function(){"adonly"==this.outofviewMethod&&this.isFloater&&this.adIsPlaying||(this.sessionTotalTime+=250,this.playerInView&&(this.viewabilityTotalTime+=250))}.bind(this),250)),window.addEventListener("unload",function(){var t=this.getDynamicPixel("dvw","vw",(this.viewabilityTotalTime/this.sessionTotalTime*100).toFixed(0)),e={};navigator.sendBeacon(t,e)}.bind(this))};var WidgetInitiator=function(t){this.widget=t,this.widgetType=t.widget_json.widget_type,this.widgetId=t.widget_json.widget_id,this.blockProtectedSuspiciousActivity=void 0!==t.widget_json.is_protected_block&&1==t.widget_json.is_protected_block,this.pageDocument=document,this.pageWindow=window,this.Util=window.br_util,this.insideFriendlyIframe=!1,this.adId=t.ad_id,this.cb=t.widget_json.cb,this.subUserId=t.widget_json.user_id,this.playerDiv=null,this.passbackRendered=!1,this.domain=null,this.pageUrl=null,this.playerLoaded=!1};WidgetInitiator.prototype.getBlockProtectedSuspiciousActivity=function(){return this.blockProtectedSuspiciousActivity},WidgetInitiator.prototype.findWidgetPlaceholder=function(t){for(var e=document.getElementsByClassName("truvid_placeholder_"+t),i=0;i<e.length;i++)if(""==e[i].innerHTML)return e[i];return null},WidgetInitiator.prototype.SetPlacementPromise=function(){var t=this;return new Promise(function(e){for(var i=!1,s=document.scripts,d=!1,n=0;n<s.length;n++)t.isCurrentScript(s[n].src)&&"HEAD"==s[n].parentNode.nodeName&&(d=!0);if(d)if("complete"==document.readyState)t.SetPlacement(),e();else var o=setInterval(function(){"complete"==document.readyState&&(i||(i=!0,clearInterval(o),t.SetPlacement(),e()))},100);else t.SetPlacement(),e()})},WidgetInitiator.prototype.SetPlacement=function(){var t=document.createElement("div"),e=document.createElement("div"),i=document.scripts;e.id="br_video_player_"+this.adId,e.className="trvd_video_player",this.playerDiv=e,t.appendChild(e);var s=!1;if(void 0!==this.setPlacementForWidgetType&&(s=this.setPlacementForWidgetType(t)),!s){for(var d=!1,n=document.getElementsByClassName("truvid_placeholder_"+this.widgetId),o=0;o<n.length;o++)if(""==n[o].innerHTML){n[o].appendChild(t),d=!0;break}if(!d)for(var r=0;r<i.length;r++)if(this.isCurrentScript(i[r].src)){i[r].parentElement!=document.getElementsByTagName("head")[0]?i[r].parentElement.insertBefore(t,i[r].nextSibling):d||document.getElementsByTagName("body")[0].appendChild(t);break}}},WidgetInitiator.prototype.isCurrentScript=function(t){return t.indexOf("cb="+this.cb)>-1&&t.indexOf("sub_user_id="+this.subUserId)>-1&&t.indexOf("widget_id="+this.widgetId)>-1},WidgetInitiator.prototype.renderFallbacks=function(){return!(!this.widget.widget_json.passback||!this.widget.widget_json.passback.geo&&!this.widget.widget_json.passback.env||0!=this.widget.widget_json.passback.ad_slots||0!=this.widget.widget_json.passback.length)&&(this.renderPassback(),!0)},WidgetInitiator.prototype.renderPassback=function(){var t=this.playerDiv,e=document.createElement("iframe");switch(t.parentNode.style.height=this.widget.widget_json.passback.height+"px",e.id="passback_truvid_"+this.adId,e.width=this.widget.widget_json.passback.width,e.height=this.widget.widget_json.passback.height,e.style.cssText="width: "+this.widget.widget_json.passback.width+"px; height: "+this.widget.widget_json.passback.height+"px; border: none;",this.widgetType){case"in_read":case"in_stream":e.style.cssText+="margin-left: "+(t.getBoundingClientRect().width-this.widget.widget_json.passback.width)/2+"px;";break;case"floater":var i=this.renderPassbackCloseButton();i.style.cssText+="right: 0px; bottom: "+this.widget.widget_json.passback.height+"px; position: fixed;",e.style.cssText+="right: 0px; bottom: 0px; position: fixed; z-index: 2147483647;",t.appendChild(i)}t.appendChild(e),e.contentWindow.document.open(),e.contentWindow.document.write('<body style="margin: 0px;">'+decodeURIComponent(this.widget.widget_json.passback.code)+"</body>"),e.contentWindow.document.close();try{if(this.insideFriendlyIframe){var s=window.frameElement;switch(s.style.cssText="height: "+this.widget.widget_json.passback.height+"px; width: "+this.widget.widget_json.passback.width+"px; border: none; margin-left: "+(s.parentNode.getBoundingClientRect().width-parseFloat(s.style.width))/2+"px; margin-top: "+(s.parentNode.getBoundingClientRect().height-parseFloat(s.style.height))/2+"px",e.style.marginLeft="0px",this.widgetType){case"in_read":case"in_stream":break;case"floater":s.style.cssText+="bottom: 0px; right: 0px; position: fixed; height: "+(15+this.widget.widget_json.passback.height)+"px;"}}}catch(t){}this.passbackRendered=!0},WidgetInitiator.prototype.renderPassbackCloseButton=function(){var t=document.createElement("div"),e=document.createElement("div"),i=this;return t.appendChild(e),t.style.cssText="height: 15px; width: "+this.widget.widget_json.passback.width+"px; background-color: black;",e.innerText="Close",e.style.cssText="font-family: verdana; color: rgb(255, 255, 255); font-weight: bold; font-size: 9px; text-decoration: none; cursor: pointer; vertical-align: top; margin-left: 4px; line-height: 15px;",e.addEventListener("click",function(){var t=document.getElementById("br_video_player_"+i.adId);t.parentNode.removeChild(t);try{i.insideFriendlyIframe&&(window.top.iframe.style.cssText+="height: 0px; width: 0px;")}catch(t){}}),t},WidgetInitiator.prototype.loadJSFile=function(t,e){return void 0==e&&(e=!1),new Promise(function(i,s){var d=document.createElement("script");d.src=t,d.async=e;var n=document.getElementsByTagName("head")[0],o=!1;d.onload=d.onreadystatechange=function(){o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o=!0,i(),d.onload=d.onreadystatechange=null)},d.onerror=function(){s()},n.appendChild(d)})},WidgetInitiator.prototype.switchToPassback=function(){if(!this.passbackRendered){var t=this.playerDiv;if(t)for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);else this.SetPlacement(),t=this.pageDocument.getElementById("br_video_player_"+this.adId);var e=this.pageDocument.getElementById("br_video_player_"+this.adId+"_widgetContainer");if(e){var i=e.getElementsByClassName("skip-ad")[0];i&&i.parentNode.removeChild(i)}t.parentNode.style.width=this.widget.widget_json.width+"px",t.parentNode.style.height=this.widget.widget_json.height+"px",this.renderPassback()}},WidgetInitiator.prototype.loadPlayer=function(){this.playerLoaded||(this.playerLoaded=!0,this.SetPlacementPromise().then(function(){this.renderFallbacks()||(this.setScriptsPaths(),this.setStyleForNonIframe(),this.setCommonProperties(),this.renderWidget())}.bind(this)))},WidgetInitiator.prototype.setCommonProperties=function(){this.widget.widget_json.ad_id=this.widget.ad_id,this.widget.widget_json.playlistData=this.widget.playlistData,this.widget.widget_json.org_url=this.widget.protocol+"//"+this.widget.host,this.widget.widget_json.pixelPath=this.widget.protocol+"//"+this.widget.pixels_host+this.widget.server_paths.pixel_path,this.widget.widget_json.dynamicPixelPath=this.widget.protocol+"//"+this.widget.pixels_host+this.widget.server_paths.d_pixel_path,this.widget.widget_json.vastPath=this.widget.widget_json.org_url+this.widget.server_paths.vast_path,this.widget.widget_json.debugMessages=this.widget.d_msg&&1==this.widget.d_msg,this.widget.widget_json.protocol=this.widget.protocol,this.widget.widget_json.js_cdn_url=this.widget.js_cdn_url,this.widget.widget_json.playlist_id=this.widget.playlist_id,this.widget.widget_json.video_id=this.widget.video_id,this.widget.widget_json.ip=this.widget.ip,this.widget.widget_json.user_country=this.widget.user_country,this.widget.widget_json.user_agent=this.widget.user_agent,this.widget.widget_json.truvidBackgroundPath="https://cnt.trvdp.com/truvid_default/",this.widget.widget_json.version=this.widget.version,this.widget.widget_json.sub_user_id=this.widget.widget_json.user_id,this.widget.widget_json.imageMode=void 0!==this.widget.widget_json.use_image_as_content&&1==this.widget.widget_json.use_image_as_content&&void 0!==this.widget.widget_json.is_network_widget&&1==this.widget.widget_json.is_network_widget,this.widget.widget_json.geoLocation=void 0!==this.widget.geo_location?this.widget.geo_location:null,this.widget.widget_json.pixels=this.widget.pixels,this.Util.isMobile()&&(this.widget.widget_json.networkWidgetBackgroundPath="https://cnt.trvdp.com/truvid_default/",this.widget.widget_json.mobileMacros=this.widget.mobile_macros,this.widget.widget_json.hasContent=this.widget.has_content,this.widget.widget_json.mobile_environment=this.widget.mobile_environment)},WidgetInitiator.prototype.setStyleForNonIframe=function(){void 0!==this.setWidgetDimension&&this.setWidgetDimension(),this.widget.widget_json.br_id="br_video_player_"+this.adId,this.widget.widget_json.is_responsive?(this.playerDiv.style.width="100%",this.playerDiv.style.setProperty("height","0px","important"),this.playerDiv.style.position="relative"):this.playerDiv.style.width=this.widget.widget_json.width+"px"},WidgetInitiator.prototype.setScriptsPaths=function(){for(var t in this.widget.js_paths)"util_path"!=t&&(this.widget.js_paths[t]=this.Util.setScriptsVersion(this.widget.js_paths[t],this.widget.version))},WidgetInitiator.prototype.setContainerForNonIframeWidget=function(t,e){this.widgetContainer=document.createElement("div"),this.widgetContainer.id="br_video_player_"+this.adId+"_widgetContainer",this.widgetContainer.style.width=t?this.widget.widget_json.width+"px":"0px",this.widgetContainer.style.height=t?this.widget.widget_json.height+"px":"0px";var i=e.getElementById("br_video_player_"+this.adId);i.parentNode.insertBefore(this.widgetContainer,i),i.parentNode.removeChild(i),this.widgetContainer.appendChild(i),this.widget.widget_json.is_responsive&&(t||(i.parentNode.style.width="100%"))},WidgetInitiator.prototype.getPlacement=function(){return this.playerDiv};var InstreamWidgetInitiator=function(e){WidgetInitiator.call(this,e)};InstreamWidgetInitiator.prototype=Object.create(WidgetInitiator.prototype),InstreamWidgetInitiator.prototype.constructor=WidgetInitiator,InstreamWidgetInitiator.prototype.setPlacementForWidgetType=function(e){this.insideFriendlyIframe=this.Util.inFriendlyIframe();if(this.insideFriendlyIframe)if(this.widget.widget_json.is_responsive){window.frameElement.style.position="absolute",window.frameElement.style.width="100%",window.frameElement.style.height="100%",window.frameElement.id&&window.frameElement.id.indexOf("google_ads_iframe")>=0?(window.frameElement.style.top=0,window.frameElement.style.left=0,window.frameElement.parentElement.style.position="relative"):""==window.frameElement.parentElement.innerText&&(window.frameElement.parentElement.style.position="relative",window.frameElement.style.top=0,window.frameElement.style.left=0);var t=(this.widget.widget_json.height/this.widget.widget_json.width*100).toFixed(2);window.frameElement.parentElement.style.paddingBottom=t+"%",window.frameElement.parentElement.style.display="block",1!=window.frameElement.parentElement.offsetHeight&&1!=window.frameElement.parentElement.offsetWidth||(window.frameElement.parentElement.style.width="100%",window.frameElement.parentElement.style.height="100%"),window.frameElement.parentElement.parentElement&&1==window.frameElement.parentElement.parentElement.offsetHeight&&(window.frameElement.parentElement.parentElement.style.width="100%",window.frameElement.parentElement.parentElement.style.height="100%")}else window.frameElement.style.width=this.widget.widget_json.width+"px",window.frameElement.style.height=this.widget.widget_json.height+"px",window.frameElement.parentElement&&1==window.frameElement.parentElement.offsetHeight&&(window.frameElement.parentElement.style.width=this.widget.widget_json.width+"px",window.frameElement.parentElement.style.height=this.widget.widget_json.height+"px"),window.frameElement.parentElement.parentElement&&1==window.frameElement.parentElement.parentElement.offsetHeight&&(window.frameElement.parentElement.parentElement.style.width=this.widget.widget_json.width+"px",window.frameElement.parentElement.parentElement.style.height=this.widget.widget_json.height+"px");return!1},InstreamWidgetInitiator.prototype.afterSetPlacementForWidgetType=function(e){e.parentElement&&(2>e.parentElement.offsetHeight||2>e.parentElement.offsetWidth)&&(this.widget.widget_json.is_responsive?(e.parentElement.style.width="100%",e.parentElement.style.height="100%"):(e.parentElement.style.width=this.widget.widget_json.width+"px",e.parentElement.style.height=this.widget.widget_json.height+"px")),e.parentElement&&e.parentElement.parentElement&&(2>e.parentElement.parentElement.offsetHeight||2>e.parentElement.parentElement.offsetWidth)&&(this.widget.widget_json.is_responsive?(e.parentElement.parentElement.style.width="100%",e.parentElement.parentElement.style.height="100%"):(e.parentElement.parentElement.style.width=this.widget.widget_json.width+"px",e.parentElement.parentElement.style.height=this.widget.widget_json.height+"px")),!(e.parentElement&&e.parentElement.parentElement&&e.parentElement.parentElement.parentElement)||0>e.parentElement.parentElement.parentElement.id.indexOf("div-gpt-ad-")&&0>e.parentElement.parentElement.parentElement.id.indexOf("google_ads_iframe")||e.parentElement.parentElement.parentElement.offsetHeight>=2&&e.parentElement.parentElement.parentElement.offsetWidth>=2||(this.widget.widget_json.is_responsive?(e.parentElement.parentElement.parentElement.style.width="100%",e.parentElement.parentElement.parentElement.style.height="100%"):(e.parentElement.parentElement.parentElement.style.width=this.widget.widget_json.width+"px",e.parentElement.parentElement.parentElement.style.height=this.widget.widget_json.height+"px")),e.parentElement&&e.parentElement.parentElement&&e.parentElement.parentElement.parentElement&&e.parentElement.parentElement.parentElement.parentElement&&e.parentElement.parentElement.parentElement.parentElement.id.indexOf("div-gpt-ad-")>=0&&(2>e.parentElement.parentElement.parentElement.parentElement.offsetHeight||2>e.parentElement.parentElement.parentElement.parentElement.offsetWidth)&&(this.widget.widget_json.is_responsive?(e.parentElement.parentElement.parentElement.parentElement.style.width="100%",e.parentElement.parentElement.parentElement.parentElement.style.height="100%"):(e.parentElement.parentElement.parentElement.parentElement.style.width=this.widget.widget_json.width+"px",e.parentElement.parentElement.parentElement.parentElement.style.height=this.widget.widget_json.height+"px"))},InstreamWidgetInitiator.prototype.renderWidget=function(){if(this.playerDiv=document.getElementById("br_video_player_"+this.widget.ad_id),this.widget.widget_json.is_responsive){var e=(this.widget.widget_json.height/this.widget.widget_json.width*100).toFixed(2);this.playerDiv.style.paddingBottom=e+"%",this.playerDiv.style.height=0,this.playerDiv.style.position="relative"}else this.playerDiv.style.position="relative",this.playerDiv.style.height=this.widget.widget_json.height+"px",this.playerDiv.style.width=this.widget.widget_json.width+"px";var t=JSON.parse(JSON.stringify(this.widget.widget_json));t.pageDocument=this.pageDocument;var n=new RegularWidget(t);n.SetOnPassbackCallback(this.switchToPassback.bind(this)),n.renderWidget(),this.afterSetPlacementForWidgetType(this.playerDiv)};function isWidgetNeedsToLoadProtected(e){if(void 0!==e.widget_json&&void 0!==e.widget_json.is_protected_active&&1==e.widget_json.is_protected_active){if(!(truvidEnableProtectedCookie="undefined"!=e.widget_json.is_protected_cookie_active&&1==e.widget_json.is_protected_cookie_active))return!0;try{var t=getProtectedCookie();return!t||(!!t.fraud||(t.geo!=e.user_country||1==t.level))}catch(e){return!0}}return!1}function initializeProtected(e){truvidCurrentGeo=e.user_country,truvidDecDomain=e.dec_domain,truvidPotectedMediaParameters+="&l1="+e.widget_json.widget_id,truvidPotectedMediaParameters+="&l2="+e.dec_domain,truvidPotectedMediaParameters+="&l3="+e.user_country,truvidPotectedMediaParameters+=void 0!==e.widget_json.is_mobile_active&&1==e.widget_json.is_mobile_active?"&l4=mobile":"&l4=destkop";var t=document.createElement("script");t.src="https://data.ad-score.com/score/cors?s=1&callback=getResultFromProtectedMedia&cb="+Math.random()+"&pid="+truvidProtectedMediaPartnerId+"&"+truvidPotectedMediaParameters;var r=document.documentElement;r.insertBefore(t,r.firstChild),setTimeout(function(){0==window.truvid_protected.result&&(window.truvid_protected.result=!0,fireErrorToProtected("t",truvidProtectedMediaPartnerId,truvidPotectedMediaParameters),HandleResultFromProtected(-1))},TruvidProtectedTimeout)}function getProtectedCookie(){try{for(var e,t="truvid_protected=",r=decodeURIComponent(document.cookie).split(";"),o=0;o<r.length;o++){for(var i=r[o];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t)){e=i.substring(17,i.length);break}}if(e){var d=JSON.parse(e);return void 0!==d.fraud&&void 0!==d.level&&void 0!==d.geo?d:null}return null}catch(e){return null}}function writeProtectedCookie(e){try{if(-1==e)return;var t=getProtectedCookie(),r=1;t&&(r=t.level,1==t.level&&truvidCurrentGeo==t.geo&&0==t.fraud&&(r=t.level+1));var o={fraud:100==e,level:r,geo:truvidCurrentGeo},i=new Date;i.setTime(i.getTime()+12096e5),document.cookie="truvid_protected="+JSON.stringify(o)+";path=/;expires="+i+";domain=."+truvidDecDomain}catch(e){console.warn("could not set protected")}}function HandleResultFromProtected(e){window.truvid_protected.fraud=100==e,truvidEnableProtectedCookie&&writeProtectedCookie(e)}function fireErrorToProtected(e,t,r){document.createElement("img").src="https://data.ad-score.com/score/img?s="+e+"&r="+Math.random()+"&pid="+t+"&"+r}function getResultFromProtectedMedia(e){window.truvid_protected.result=!0;try{void 0!==e.score&&void 0!==e.score.black?HandleResultFromProtected(e.score.black):(fireErrorToProtected("ex",truvidProtectedMediaPartnerId,truvidPotectedMediaParameters),HandleResultFromProtected(-1))}catch(e){fireErrorToProtected("ex",truvidProtectedMediaPartnerId,truvidPotectedMediaParameters),HandleResultFromProtected(-1)}}void 0===window.truvid_protected&&(window.truvid_protected={result:null,fraud:null}),void 0===window.truvid_cbs&&(window.truvid_cbs=[]);var TruvidProtectedTimeout=3e3,brWidgetInit=function(){return{init:function(e,t,r,o,i,d,n,a){function c(){if(null!=w)return w;var e="",t="";return t=function(e){var t=e.err,r=e.topFrame,o="";if(t)try{try{o=window.top.location.href}catch(e){var i=window.location.ancestorOrigins;o=i[i.length-1]}}catch(e){o=r.location.href}else o=r.location.href;return""==o&&(o=r.location.href),o}(function(){var e=window,t=!1;try{for(;e.parent.document!==e.document;){if(!e.parent.document){t=!0;break}e=e.parent}}catch(e){t=!0}return{topFrame:e,err:t}}()),e=a&&""!=a?a:t,(e=e.replace(/^https:\/\//,"").replace(/^http:\/\//,"").replace(/^www./,"").replace(/\.$/,"")).indexOf("/")>-1&&(e=e.substring(0,e.indexOf("/"))),w={domain:e,pageUrl:t}}function u(e){var t=window.br_util.isMobile(),r=t&&e&&void 0!=e.device&&void 0!=e.device.type?e.device.type.toLowerCase():"",o=t&&e&&void 0!=e.os&&void 0!=e.os.name?e.os.name.toLowerCase():"";return{mobile_device:!!t&&(r.indexOf("mobile")>-1?"mobile":r.indexOf("tablet")>-1?"tablet":""),mobile_os:!(!t||void 0==o)&&(o.indexOf("ios")>-1?"ios":o.indexOf("android")>-1?"android":o.indexOf("windows")>-1?"windows":""),os:e&&void 0!=e.os&&void 0!=e.os.name&&void 0!=e.os.version?(e.os.name+" "+e.os.version).toLowerCase():"",browser:e&&void 0!=e.browser&&void 0!=e.browser.name&&void 0!=e.browser.major?(e.browser.name+" "+e.browser.major).toLowerCase():""}}function s(e,t){var r="_"+ +new Date,o=document.createElement("script"),i=document.getElementsByTagName("head")[0]||document.documentElement;window[r]=function(e){i.removeChild(o),t(e)},e.indexOf("?")>-1?e=e.replace("?","?c="+r+"&"):e+="?callback="+r,o.src=e,i.appendChild(o)}function l(){var a;"undefined"!=typeof UAParser?a=(new UAParser).getResult():"undefined"!=typeof exports&&void 0!==exports.UAParser?a=(new exports.UAParser).getResult():"undefined"!=typeof $&&void 0!==$.ua?a=$.ua:void 0!==window.ua&&(a=window.ua);var s=o+"/"+n+"/service.php?",l=[],w=u(a),m=c(),f={suid:e,wid:t,d:m.domain,envos:encodeURIComponent(w.os),envb:encodeURIComponent(w.browser),adb:v?"true":"false",ver:n,cb:r,isab:d};i.playlist_id.length>0?f.pid=i.playlist_id:i.video_id.length>0&&(f.vid=i.video_id),window.br_util.isMobile()&&(f.m="true",f.dev=w.mobile_device,f.os=w.mobile_os),f.page=encodeURIComponent(m.pageUrl);for(var p in f)l.push(p+"="+f[p]);return s+l.join("&")}if(void 0!==window.truvid_cbs[t]){if(void 0!==window.truvid_cbs[t][r])return;window.truvid_cbs[t][r]=t}else window.truvid_cbs[t]=[],window.truvid_cbs[t][r]=t;var v=!1,w=null;!function(e){var t=document;try{window.frameElement&&window.parent.document&&(t=window.parent.document)}catch(e){}var r=t.createElement("div");r.innerHTML="&nbsp;",r.className="truvid adsbox",t.body.appendChild(r),setTimeout(function(){0==r.offsetHeight&&(v=!0),r.parentNode.removeChild(r),e()},100)}(function(){s(l(),function(e){function t(){d.getBlockProtectedSuspiciousActivity()&&0==window.truvid_protected.fraud&&d.loadPlayer()}function o(){var e=setInterval(function(){a>u?1==window.truvid_protected.result&&(clearInterval(e),t()):(clearInterval(e),1==window.truvid_protected.result?t():d.loadPlayer()),u++},n)}var i=c();e.widget_json=window.br_util.convertToJSON(e.widget_json);var d=null;switch(e.widget_json.pageUrl=i.pageUrl,e.widget_json.domain=e.dec_domain,e.widget_json.cb=r,e.widget_json.adblockEnabled=v,e.widget_json.widget_type){case"in_read":d=new InReadWidgetInitiator(e);break;case"floater":d=new FloaterWidgetInitiator(e);break;case"rtb":case"in_stream":d=new InstreamWidgetInitiator(e)}if(isWidgetNeedsToLoadProtected(e)){d.getBlockProtectedSuspiciousActivity()||d.loadPlayer();var n=100,a=TruvidProtectedTimeout/n+2,u=0;null==window.truvid_protected.result?(window.truvid_protected.result=!1,initializeProtected(e),o()):1==window.truvid_protected.result?0==window.truvid_protected.fraud&&d.loadPlayer():o()}else d.loadPlayer()})})}}}(),truvidProtectedMediaPartnerId="1000032",truvidPotectedMediaParameters="&tid=truvidTraffic&pub_domain="+window.location.hostname;if(void 0===truvidDecDomain)var truvidDecDomain="";if(void 0===truvidEnableProtectedCookie)var truvidEnableProtectedCookie=!1;if(void 0===truvidCurrentGeo)var truvidCurrentGeo;